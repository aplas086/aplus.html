function Uw(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function Qd(t,n){for(var i=0;i<n.length;i++){const c=n[i];if(typeof c!="string"&&!Array.isArray(c)){for(const f in c)if(f!=="default"&&!(f in t)){const d=Object.getOwnPropertyDescriptor(c,f);d&&Object.defineProperty(t,f,d.get?d:{enumerable:!0,get:()=>c[f]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function i(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(f){if(f.ep)return;f.ep=!0;const d=i(f);fetch(f.href,d)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dl(t){const n=Object.create(null);for(const i of t.split(","))n[i]=1;return i=>i in n}const _t={},rs=[],Dr=()=>{},Jd=()=>!1,Qo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hl=t=>t.startsWith("onUpdate:"),vn=Object.assign,gl=(t,n)=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)},eh=Object.prototype.hasOwnProperty,yt=(t,n)=>eh.call(t,n),Je=Array.isArray,is=t=>Jo(t)==="[object Map]",hu=t=>Jo(t)==="[object Set]",Qe=t=>typeof t=="function",un=t=>typeof t=="string",Kr=t=>typeof t=="symbol",Xt=t=>t!==null&&typeof t=="object",gu=t=>(Xt(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),pu=Object.prototype.toString,Jo=t=>pu.call(t),th=t=>Jo(t).slice(8,-1),mu=t=>Jo(t)==="[object Object]",pl=t=>un(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zs=dl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ea=t=>{const n=Object.create(null);return i=>n[i]||(n[i]=t(i))},nh=/-(\w)/g,hi=ea(t=>t.replace(nh,(n,i)=>i?i.toUpperCase():"")),rh=/\B([A-Z])/g,Fi=ea(t=>t.replace(rh,"-$1").toLowerCase()),wu=ea(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ra=ea(t=>t?"on".concat(wu(t)):""),di=(t,n)=>!Object.is(t,n),La=(t,...n)=>{for(let i=0;i<t.length;i++)t[i](...n)},xu=(t,n,i,c=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:c,value:i})},ih=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let ec;const ta=()=>ec||(ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function na(t){if(Je(t)){const n={};for(let i=0;i<t.length;i++){const c=t[i],f=un(c)?lh(c):na(c);if(f)for(const d in f)n[d]=f[d]}return n}else if(un(t)||Xt(t))return t}const sh=/;(?![^(]*\))/g,oh=/:([^]+)/,ah=/\/\*[^]*?\*\//g;function lh(t){const n={};return t.replace(ah,"").split(sh).forEach(i=>{if(i){const c=i.split(oh);c.length>1&&(n[c[0].trim()]=c[1].trim())}}),n}function ml(t){let n="";if(un(t))n=t;else if(Je(t))for(let i=0;i<t.length;i++){const c=ml(t[i]);c&&(n+=c+" ")}else if(Xt(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()}const ch="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uh=dl(ch);function yu(t){return!!t||t===""}const bu=t=>!!(t&&t.__v_isRef===!0),Za=t=>un(t)?t:t==null?"":Je(t)||Xt(t)&&(t.toString===pu||!Qe(t.toString))?bu(t)?Za(t.value):JSON.stringify(t,Cu,2):String(t),Cu=(t,n)=>bu(n)?Cu(t,n.value):is(n)?{["Map(".concat(n.size,")")]:[...n.entries()].reduce((i,[c,f],d)=>(i[Pa(c,d)+" =>"]=f,i),{})}:hu(n)?{["Set(".concat(n.size,")")]:[...n.values()].map(i=>Pa(i))}:Kr(n)?Pa(n):Xt(n)&&!Je(n)&&!mu(n)?String(n):n,Pa=(t,n="")=>{var i;return Kr(t)?"Symbol(".concat((i=t.description)!=null?i:n,")"):t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qn;class fh{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qn,!n&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].pause();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].resume();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].resume()}}run(n){if(this._active){const i=qn;try{return qn=this,n()}finally{qn=i}}}on(){qn=this}off(){qn=this.parent}stop(n){if(this._active){this._active=!1;let i,c;for(i=0,c=this.effects.length;i<c;i++)this.effects[i].stop();for(this.effects.length=0,i=0,c=this.cleanups.length;i<c;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,c=this.scopes.length;i<c;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0}}}function dh(){return qn}let Ot;const Ba=new WeakSet;class Au{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qn&&qn.active&&qn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ba.has(this)&&(Ba.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tc(this),Iu(this);const n=Ot,i=hr;Ot=this,hr=!0;try{return this.fn()}finally{Su(this),Ot=n,hr=i,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)yl(n);this.deps=this.depsTail=void 0,tc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ba.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qa(this)&&this.run()}get dirty(){return qa(this)}}let Eu=0,Gs,Ys;function vu(t,n=!1){if(t.flags|=8,n){t.next=Ys,Ys=t;return}t.next=Gs,Gs=t}function wl(){Eu++}function xl(){if(--Eu>0)return;if(Ys){let n=Ys;for(Ys=void 0;n;){const i=n.next;n.next=void 0,n.flags&=-9,n=i}}let t;for(;Gs;){let n=Gs;for(Gs=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(c){t||(t=c)}n=i}}if(t)throw t}function Iu(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function Su(t){let n,i=t.depsTail,c=i;for(;c;){const f=c.prevDep;c.version===-1?(c===i&&(i=f),yl(c),hh(c)):n=c,c.dep.activeLink=c.prevActiveLink,c.prevActiveLink=void 0,c=f}t.deps=n,t.depsTail=i}function qa(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(Tu(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function Tu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ks))return;t.globalVersion=Ks;const n=t.dep;if(t.flags|=2,n.version>0&&!t.isSSR&&t.deps&&!qa(t)){t.flags&=-3;return}const i=Ot,c=hr;Ot=t,hr=!0;try{Iu(t);const f=t.fn(t._value);(n.version===0||di(f,t._value))&&(t._value=f,n.version++)}catch(f){throw n.version++,f}finally{Ot=i,hr=c,Su(t),t.flags&=-3}}function yl(t,n=!1){const{dep:i,prevSub:c,nextSub:f}=t;if(c&&(c.nextSub=f,t.prevSub=void 0),f&&(f.prevSub=c,t.nextSub=void 0),i.subs===t&&(i.subs=c,!c&&i.computed)){i.computed.flags&=-5;for(let d=i.computed.deps;d;d=d.nextDep)yl(d,!0)}!n&&!--i.sc&&i.map&&i.map.delete(i.key)}function hh(t){const{prevDep:n,nextDep:i}=t;n&&(n.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=n,t.nextDep=void 0)}let hr=!0;const _u=[];function wi(){_u.push(hr),hr=!1}function xi(){const t=_u.pop();hr=t===void 0?!0:t}function tc(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const i=Ot;Ot=void 0;try{n()}finally{Ot=i}}}let Ks=0;class gh{constructor(n,i){this.sub=n,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bl{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!Ot||!hr||Ot===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ot)i=this.activeLink=new gh(Ot,this),Ot.deps?(i.prevDep=Ot.depsTail,Ot.depsTail.nextDep=i,Ot.depsTail=i):Ot.deps=Ot.depsTail=i,Ou(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const c=i.nextDep;c.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=c),i.prevDep=Ot.depsTail,i.nextDep=void 0,Ot.depsTail.nextDep=i,Ot.depsTail=i,Ot.deps===i&&(Ot.deps=c)}return i}trigger(n){this.version++,Ks++,this.notify(n)}notify(n){wl();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{xl()}}}function Ou(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let c=n.deps;c;c=c.nextDep)Ou(c)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const Ka=new WeakMap,Li=Symbol(""),Qa=Symbol(""),Qs=Symbol("");function Cn(t,n,i){if(hr&&Ot){let c=Ka.get(t);c||Ka.set(t,c=new Map);let f=c.get(i);f||(c.set(i,f=new bl),f.map=c,f.key=i),f.track()}}function Yr(t,n,i,c,f,d){const p=Ka.get(t);if(!p){Ks++;return}const b=C=>{C&&C.trigger()};if(wl(),n==="clear")p.forEach(b);else{const C=Je(t),w=C&&pl(i);if(C&&i==="length"){const I=Number(c);p.forEach((T,B)=>{(B==="length"||B===Qs||!Kr(B)&&B>=I)&&b(T)})}else switch((i!==void 0||p.has(void 0))&&b(p.get(i)),w&&b(p.get(Qs)),n){case"add":C?w&&b(p.get("length")):(b(p.get(Li)),is(t)&&b(p.get(Qa)));break;case"delete":C||(b(p.get(Li)),is(t)&&b(p.get(Qa)));break;case"set":is(t)&&b(p.get(Li));break}}xl()}function es(t){const n=xt(t);return n===t?n:(Cn(n,"iterate",Qs),gr(t)?n:n.map(Mn))}function Cl(t){return Cn(t=xt(t),"iterate",Qs),t}const ph={__proto__:null,[Symbol.iterator](){return ka(this,Symbol.iterator,Mn)},concat(...t){return es(this).concat(...t.map(n=>Je(n)?es(n):n))},entries(){return ka(this,"entries",t=>(t[1]=Mn(t[1]),t))},every(t,n){return zr(this,"every",t,n,void 0,arguments)},filter(t,n){return zr(this,"filter",t,n,i=>i.map(Mn),arguments)},find(t,n){return zr(this,"find",t,n,Mn,arguments)},findIndex(t,n){return zr(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return zr(this,"findLast",t,n,Mn,arguments)},findLastIndex(t,n){return zr(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return zr(this,"forEach",t,n,void 0,arguments)},includes(...t){return Fa(this,"includes",t)},indexOf(...t){return Fa(this,"indexOf",t)},join(t){return es(this).join(t)},lastIndexOf(...t){return Fa(this,"lastIndexOf",t)},map(t,n){return zr(this,"map",t,n,void 0,arguments)},pop(){return Fs(this,"pop")},push(...t){return Fs(this,"push",t)},reduce(t,...n){return nc(this,"reduce",t,n)},reduceRight(t,...n){return nc(this,"reduceRight",t,n)},shift(){return Fs(this,"shift")},some(t,n){return zr(this,"some",t,n,void 0,arguments)},splice(...t){return Fs(this,"splice",t)},toReversed(){return es(this).toReversed()},toSorted(t){return es(this).toSorted(t)},toSpliced(...t){return es(this).toSpliced(...t)},unshift(...t){return Fs(this,"unshift",t)},values(){return ka(this,"values",Mn)}};function ka(t,n,i){const c=Cl(t),f=c[n]();return c!==t&&!gr(t)&&(f._next=f.next,f.next=()=>{const d=f._next();return d.value&&(d.value=i(d.value)),d}),f}const mh=Array.prototype;function zr(t,n,i,c,f,d){const p=Cl(t),b=p!==t&&!gr(t),C=p[n];if(C!==mh[n]){const T=C.apply(t,d);return b?Mn(T):T}let w=i;p!==t&&(b?w=function(T,B){return i.call(this,Mn(T),B,t)}:i.length>2&&(w=function(T,B){return i.call(this,T,B,t)}));const I=C.call(p,w,c);return b&&f?f(I):I}function nc(t,n,i,c){const f=Cl(t);let d=i;return f!==t&&(gr(t)?i.length>3&&(d=function(p,b,C){return i.call(this,p,b,C,t)}):d=function(p,b,C){return i.call(this,p,Mn(b),C,t)}),f[n](d,...c)}function Fa(t,n,i){const c=xt(t);Cn(c,"iterate",Qs);const f=c[n](...i);return(f===-1||f===!1)&&Il(i[0])?(i[0]=xt(i[0]),c[n](...i)):f}function Fs(t,n,i=[]){wi(),wl();const c=xt(t)[n].apply(t,i);return xl(),xi(),c}const wh=dl("__proto__,__v_isRef,__isVue"),Mu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Kr));function xh(t){Kr(t)||(t=String(t));const n=xt(this);return Cn(n,"has",t),n.hasOwnProperty(t)}class Nu{constructor(n=!1,i=!1){this._isReadonly=n,this._isShallow=i}get(n,i,c){if(i==="__v_skip")return n.__v_skip;const f=this._isReadonly,d=this._isShallow;if(i==="__v_isReactive")return!f;if(i==="__v_isReadonly")return f;if(i==="__v_isShallow")return d;if(i==="__v_raw")return c===(f?d?_h:Pu:d?Lu:Ru).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(c)?n:void 0;const p=Je(n);if(!f){let C;if(p&&(C=ph[i]))return C;if(i==="hasOwnProperty")return xh}const b=Reflect.get(n,i,En(n)?n:c);return(Kr(i)?Mu.has(i):wh(i))||(f||Cn(n,"get",i),d)?b:En(b)?p&&pl(i)?b:b.value:Xt(b)?f?Bu(b):El(b):b}}class Du extends Nu{constructor(n=!1){super(!1,n)}set(n,i,c,f){let d=n[i];if(!this._isShallow){const C=Bi(d);if(!gr(c)&&!Bi(c)&&(d=xt(d),c=xt(c)),!Je(n)&&En(d)&&!En(c))return C?!1:(d.value=c,!0)}const p=Je(n)&&pl(i)?Number(i)<n.length:yt(n,i),b=Reflect.set(n,i,c,En(n)?n:f);return n===xt(f)&&(p?di(c,d)&&Yr(n,"set",i,c):Yr(n,"add",i,c)),b}deleteProperty(n,i){const c=yt(n,i);n[i];const f=Reflect.deleteProperty(n,i);return f&&c&&Yr(n,"delete",i,void 0),f}has(n,i){const c=Reflect.has(n,i);return(!Kr(i)||!Mu.has(i))&&Cn(n,"has",i),c}ownKeys(n){return Cn(n,"iterate",Je(n)?"length":Li),Reflect.ownKeys(n)}}class yh extends Nu{constructor(n=!1){super(!0,n)}set(n,i){return!0}deleteProperty(n,i){return!0}}const bh=new Du,Ch=new yh,Ah=new Du(!0);const Ja=t=>t,bo=t=>Reflect.getPrototypeOf(t);function Eh(t,n,i){return function(...c){const f=this.__v_raw,d=xt(f),p=is(d),b=t==="entries"||t===Symbol.iterator&&p,C=t==="keys"&&p,w=f[t](...c),I=i?Ja:n?el:Mn;return!n&&Cn(d,"iterate",C?Qa:Li),{next(){const{value:T,done:B}=w.next();return B?{value:T,done:B}:{value:b?[I(T[0]),I(T[1])]:I(T),done:B}},[Symbol.iterator](){return this}}}}function Co(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function vh(t,n){const i={get(f){const d=this.__v_raw,p=xt(d),b=xt(f);t||(di(f,b)&&Cn(p,"get",f),Cn(p,"get",b));const{has:C}=bo(p),w=n?Ja:t?el:Mn;if(C.call(p,f))return w(d.get(f));if(C.call(p,b))return w(d.get(b));d!==p&&d.get(f)},get size(){const f=this.__v_raw;return!t&&Cn(xt(f),"iterate",Li),Reflect.get(f,"size",f)},has(f){const d=this.__v_raw,p=xt(d),b=xt(f);return t||(di(f,b)&&Cn(p,"has",f),Cn(p,"has",b)),f===b?d.has(f):d.has(f)||d.has(b)},forEach(f,d){const p=this,b=p.__v_raw,C=xt(b),w=n?Ja:t?el:Mn;return!t&&Cn(C,"iterate",Li),b.forEach((I,T)=>f.call(d,w(I),w(T),p))}};return vn(i,t?{add:Co("add"),set:Co("set"),delete:Co("delete"),clear:Co("clear")}:{add(f){!n&&!gr(f)&&!Bi(f)&&(f=xt(f));const d=xt(this);return bo(d).has.call(d,f)||(d.add(f),Yr(d,"add",f,f)),this},set(f,d){!n&&!gr(d)&&!Bi(d)&&(d=xt(d));const p=xt(this),{has:b,get:C}=bo(p);let w=b.call(p,f);w||(f=xt(f),w=b.call(p,f));const I=C.call(p,f);return p.set(f,d),w?di(d,I)&&Yr(p,"set",f,d):Yr(p,"add",f,d),this},delete(f){const d=xt(this),{has:p,get:b}=bo(d);let C=p.call(d,f);C||(f=xt(f),C=p.call(d,f)),b&&b.call(d,f);const w=d.delete(f);return C&&Yr(d,"delete",f,void 0),w},clear(){const f=xt(this),d=f.size!==0,p=f.clear();return d&&Yr(f,"clear",void 0,void 0),p}}),["keys","values","entries",Symbol.iterator].forEach(f=>{i[f]=Eh(f,t,n)}),i}function Al(t,n){const i=vh(t,n);return(c,f,d)=>f==="__v_isReactive"?!t:f==="__v_isReadonly"?t:f==="__v_raw"?c:Reflect.get(yt(i,f)&&f in c?i:c,f,d)}const Ih={get:Al(!1,!1)},Sh={get:Al(!1,!0)},Th={get:Al(!0,!1)};const Ru=new WeakMap,Lu=new WeakMap,Pu=new WeakMap,_h=new WeakMap;function Oh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mh(t){return t.__v_skip||!Object.isExtensible(t)?0:Oh(th(t))}function El(t){return Bi(t)?t:vl(t,!1,bh,Ih,Ru)}function Nh(t){return vl(t,!1,Ah,Sh,Lu)}function Bu(t){return vl(t,!0,Ch,Th,Pu)}function vl(t,n,i,c,f){if(!Xt(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const d=f.get(t);if(d)return d;const p=Mh(t);if(p===0)return t;const b=new Proxy(t,p===2?c:i);return f.set(t,b),b}function Xs(t){return Bi(t)?Xs(t.__v_raw):!!(t&&t.__v_isReactive)}function Bi(t){return!!(t&&t.__v_isReadonly)}function gr(t){return!!(t&&t.__v_isShallow)}function Il(t){return t?!!t.__v_raw:!1}function xt(t){const n=t&&t.__v_raw;return n?xt(n):t}function Dh(t){return!yt(t,"__v_skip")&&Object.isExtensible(t)&&xu(t,"__v_skip",!0),t}const Mn=t=>Xt(t)?El(t):t,el=t=>Xt(t)?Bu(t):t;function En(t){return t?t.__v_isRef===!0:!1}function _i(t){return Rh(t,!1)}function Rh(t,n){return En(t)?t:new Lh(t,n)}class Lh{constructor(n,i){this.dep=new bl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?n:xt(n),this._value=i?n:Mn(n),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(n){const i=this._rawValue,c=this.__v_isShallow||gr(n)||Bi(n);n=c?n:xt(n),di(n,i)&&(this._rawValue=n,this._value=c?n:Mn(n),this.dep.trigger())}}function ku(t){return En(t)?t.value:t}const Ph={get:(t,n,i)=>n==="__v_raw"?t:ku(Reflect.get(t,n,i)),set:(t,n,i,c)=>{const f=t[n];return En(f)&&!En(i)?(f.value=i,!0):Reflect.set(t,n,i,c)}};function Fu(t){return Xs(t)?t:new Proxy(t,Ph)}class Bh{constructor(n,i,c){this.fn=n,this.setter=i,this._value=void 0,this.dep=new bl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ks-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=c}notify(){if(this.flags|=16,!(this.flags&8)&&Ot!==this)return vu(this,!0),!0}get value(){const n=this.dep.track();return Tu(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function kh(t,n,i=!1){let c,f;return Qe(t)?c=t:(c=t.get,f=t.set),new Bh(c,f,i)}const Ao={},Ro=new WeakMap;let Di;function Fh(t,n=!1,i=Di){if(i){let c=Ro.get(i);c||Ro.set(i,c=[]),c.push(t)}}function Uh(t,n,i=_t){const{immediate:c,deep:f,once:d,scheduler:p,augmentJob:b,call:C}=i,w=Z=>f?Z:gr(Z)||f===!1||f===0?Xr(Z,1):Xr(Z);let I,T,B,U,ce=!1,Q=!1;if(En(t)?(T=()=>t.value,ce=gr(t)):Xs(t)?(T=()=>w(t),ce=!0):Je(t)?(Q=!0,ce=t.some(Z=>Xs(Z)||gr(Z)),T=()=>t.map(Z=>{if(En(Z))return Z.value;if(Xs(Z))return w(Z);if(Qe(Z))return C?C(Z,2):Z()})):Qe(t)?n?T=C?()=>C(t,2):t:T=()=>{if(B){wi();try{B()}finally{xi()}}const Z=Di;Di=I;try{return C?C(t,3,[U]):t(U)}finally{Di=Z}}:T=Dr,n&&f){const Z=T,Ae=f===!0?1/0:f;T=()=>Xr(Z(),Ae)}const be=dh(),ye=()=>{I.stop(),be&&be.active&&gl(be.effects,I)};if(d&&n){const Z=n;n=(...Ae)=>{Z(...Ae),ye()}}let ve=Q?new Array(t.length).fill(Ao):Ao;const ne=Z=>{if(!(!(I.flags&1)||!I.dirty&&!Z))if(n){const Ae=I.run();if(f||ce||(Q?Ae.some((je,se)=>di(je,ve[se])):di(Ae,ve))){B&&B();const je=Di;Di=I;try{const se=[Ae,ve===Ao?void 0:Q&&ve[0]===Ao?[]:ve,U];C?C(n,3,se):n(...se),ve=Ae}finally{Di=je}}}else I.run()};return b&&b(ne),I=new Au(T),I.scheduler=p?()=>p(ne,!1):ne,U=Z=>Fh(Z,!1,I),B=I.onStop=()=>{const Z=Ro.get(I);if(Z){if(C)C(Z,4);else for(const Ae of Z)Ae();Ro.delete(I)}},n?c?ne(!0):ve=I.run():p?p(ne.bind(null,!0),!0):I.run(),ye.pause=I.pause.bind(I),ye.resume=I.resume.bind(I),ye.stop=ye,ye}function Xr(t,n=1/0,i){if(n<=0||!Xt(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),n--,En(t))Xr(t.value,n,i);else if(Je(t))for(let c=0;c<t.length;c++)Xr(t[c],n,i);else if(hu(t)||is(t))t.forEach(c=>{Xr(c,n,i)});else if(mu(t)){for(const c in t)Xr(t[c],n,i);for(const c of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,c)&&Xr(t[c],n,i)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function no(t,n,i,c){try{return c?t(...c):t()}catch(f){ra(f,n,i)}}function Rr(t,n,i,c){if(Qe(t)){const f=no(t,n,i,c);return f&&gu(f)&&f.catch(d=>{ra(d,n,i)}),f}if(Je(t)){const f=[];for(let d=0;d<t.length;d++)f.push(Rr(t[d],n,i,c));return f}}function ra(t,n,i,c=!0){const f=n?n.vnode:null,{errorHandler:d,throwUnhandledErrorInProduction:p}=n&&n.appContext.config||_t;if(n){let b=n.parent;const C=n.proxy,w="https://vuejs.org/error-reference/#runtime-".concat(i);for(;b;){const I=b.ec;if(I){for(let T=0;T<I.length;T++)if(I[T](t,C,w)===!1)return}b=b.parent}if(d){wi(),no(d,null,10,[t,C,w]),xi();return}}jh(t,i,f,c,p)}function jh(t,n,i,c=!0,f=!1){if(f)throw t;console.error(t)}const Nn=[];let Tr=-1;const ss=[];let oi=null,ts=0;const Uu=Promise.resolve();let Lo=null;function Hh(t){const n=Lo||Uu;return t?n.then(this?t.bind(this):t):n}function Vh(t){let n=Tr+1,i=Nn.length;for(;n<i;){const c=n+i>>>1,f=Nn[c],d=Js(f);d<t||d===t&&f.flags&2?n=c+1:i=c}return n}function Sl(t){if(!(t.flags&1)){const n=Js(t),i=Nn[Nn.length-1];!i||!(t.flags&2)&&n>=Js(i)?Nn.push(t):Nn.splice(Vh(n),0,t),t.flags|=1,ju()}}function ju(){Lo||(Lo=Uu.then(Vu))}function Wh(t){Je(t)?ss.push(...t):oi&&t.id===-1?oi.splice(ts+1,0,t):t.flags&1||(ss.push(t),t.flags|=1),ju()}function rc(t,n,i=Tr+1){for(;i<Nn.length;i++){const c=Nn[i];if(c&&c.flags&2){if(t&&c.id!==t.uid)continue;Nn.splice(i,1),i--,c.flags&4&&(c.flags&=-2),c(),c.flags&4||(c.flags&=-2)}}}function Hu(t){if(ss.length){const n=[...new Set(ss)].sort((i,c)=>Js(i)-Js(c));if(ss.length=0,oi){oi.push(...n);return}for(oi=n,ts=0;ts<oi.length;ts++){const i=oi[ts];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}oi=null,ts=0}}const Js=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Vu(t){try{for(Tr=0;Tr<Nn.length;Tr++){const n=Nn[Tr];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),no(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Tr<Nn.length;Tr++){const n=Nn[Tr];n&&(n.flags&=-2)}Tr=-1,Nn.length=0,Hu(),Lo=null,(Nn.length||ss.length)&&Vu()}}let An=null,Wu=null;function Po(t){const n=An;return An=t,Wu=t&&t.type.__scopeId||null,n}function zh(t,n=An,i){if(!n||t._n)return t;const c=(...f)=>{c._d&&dc(-1);const d=Po(n);let p;try{p=t(...f)}finally{Po(d),c._d&&dc(1)}return p};return c._n=!0,c._c=!0,c._d=!0,c}function Gh(t,n){if(An===null)return t;const i=aa(An),c=t.dirs||(t.dirs=[]);for(let f=0;f<n.length;f++){let[d,p,b,C=_t]=n[f];d&&(Qe(d)&&(d={mounted:d,updated:d}),d.deep&&Xr(p),c.push({dir:d,instance:i,value:p,oldValue:void 0,arg:b,modifiers:C}))}return t}function Oi(t,n,i,c){const f=t.dirs,d=n&&n.dirs;for(let p=0;p<f.length;p++){const b=f[p];d&&(b.oldValue=d[p].value);let C=b.dir[c];C&&(wi(),Rr(C,i,8,[t.el,b,t,n]),xi())}}const Yh=Symbol("_vte"),Xh=t=>t.__isTeleport;function Tl(t,n){t.shapeFlag&6&&t.component?(t.transition=n,Tl(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}/*! #__NO_SIDE_EFFECTS__ */function _l(t,n){return Qe(t)?vn({name:t.name},n,{setup:t}):t}function zu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Bo(t,n,i,c,f=!1){if(Je(t)){t.forEach((ce,Q)=>Bo(ce,n&&(Je(n)?n[Q]:n),i,c,f));return}if(os(c)&&!f){c.shapeFlag&512&&c.type.__asyncResolved&&c.component.subTree.component&&Bo(t,n,i,c.component.subTree);return}const d=c.shapeFlag&4?aa(c.component):c.el,p=f?null:d,{i:b,r:C}=t,w=n&&n.r,I=b.refs===_t?b.refs={}:b.refs,T=b.setupState,B=xt(T),U=T===_t?()=>!1:ce=>yt(B,ce);if(w!=null&&w!==C&&(un(w)?(I[w]=null,U(w)&&(T[w]=null)):En(w)&&(w.value=null)),Qe(C))no(C,b,12,[p,I]);else{const ce=un(C),Q=En(C);if(ce||Q){const be=()=>{if(t.f){const ye=ce?U(C)?T[C]:I[C]:C.value;f?Je(ye)&&gl(ye,d):Je(ye)?ye.includes(d)||ye.push(d):ce?(I[C]=[d],U(C)&&(T[C]=I[C])):(C.value=[d],t.k&&(I[t.k]=C.value))}else ce?(I[C]=p,U(C)&&(T[C]=p)):Q&&(C.value=p,t.k&&(I[t.k]=p))};p?(be.id=-1,Xn(be,i)):be()}}}ta().requestIdleCallback;ta().cancelIdleCallback;const os=t=>!!t.type.__asyncLoader,Gu=t=>t.type.__isKeepAlive;function $h(t,n){Yu(t,"a",n)}function Zh(t,n){Yu(t,"da",n)}function Yu(t,n,i=Dn){const c=t.__wdc||(t.__wdc=()=>{let f=i;for(;f;){if(f.isDeactivated)return;f=f.parent}return t()});if(ia(n,c,i),i){let f=i.parent;for(;f&&f.parent;)Gu(f.parent.vnode)&&qh(c,n,i,f),f=f.parent}}function qh(t,n,i,c){const f=ia(n,t,c,!0);Ol(()=>{gl(c[n],f)},i)}function ia(t,n,i=Dn,c=!1){if(i){const f=i[t]||(i[t]=[]),d=n.__weh||(n.__weh=(...p)=>{wi();const b=ro(i),C=Rr(n,i,t,p);return b(),xi(),C});return c?f.unshift(d):f.push(d),d}}const Qr=t=>(n,i=Dn)=>{(!to||t==="sp")&&ia(t,(...c)=>n(...c),i)},Kh=Qr("bm"),Xu=Qr("m"),Qh=Qr("bu"),Jh=Qr("u"),e1=Qr("bum"),Ol=Qr("um"),t1=Qr("sp"),n1=Qr("rtg"),r1=Qr("rtc");function i1(t,n=Dn){ia("ec",t,n)}const s1=Symbol.for("v-ndc");function $u(t,n,i={},c,f){if(An.ce||An.parent&&os(An.parent)&&An.parent.ce)return Kn(),sl(cr,null,[pr("slot",i,c)],64);let d=t[n];d&&d._c&&(d._d=!1),Kn();const p=d&&Zu(d(i)),b=i.key||p&&p.key,C=sl(cr,{key:(b&&!Kr(b)?b:"_".concat(n))+""},p||[],p&&t._===1?64:-2);return C.scopeId&&(C.slotScopeIds=[C.scopeId+"-s"]),d&&d._c&&(d._d=!0),C}function Zu(t){return t.some(n=>Nl(n)?!(n.type===gi||n.type===cr&&!Zu(n.children)):!0)?t:null}const tl=t=>t?wf(t)?aa(t):tl(t.parent):null,$s=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tl(t.parent),$root:t=>tl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ku(t),$forceUpdate:t=>t.f||(t.f=()=>{Sl(t.update)}),$nextTick:t=>t.n||(t.n=Hh.bind(t.proxy)),$watch:t=>T1.bind(t)}),Ua=(t,n)=>t!==_t&&!t.__isScriptSetup&&yt(t,n),o1={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:i,setupState:c,data:f,props:d,accessCache:p,type:b,appContext:C}=t;let w;if(n[0]!=="$"){const U=p[n];if(U!==void 0)switch(U){case 1:return c[n];case 2:return f[n];case 4:return i[n];case 3:return d[n]}else{if(Ua(c,n))return p[n]=1,c[n];if(f!==_t&&yt(f,n))return p[n]=2,f[n];if((w=t.propsOptions[0])&&yt(w,n))return p[n]=3,d[n];if(i!==_t&&yt(i,n))return p[n]=4,i[n];nl&&(p[n]=0)}}const I=$s[n];let T,B;if(I)return n==="$attrs"&&Cn(t.attrs,"get",""),I(t);if((T=b.__cssModules)&&(T=T[n]))return T;if(i!==_t&&yt(i,n))return p[n]=4,i[n];if(B=C.config.globalProperties,yt(B,n))return B[n]},set({_:t},n,i){const{data:c,setupState:f,ctx:d}=t;return Ua(f,n)?(f[n]=i,!0):c!==_t&&yt(c,n)?(c[n]=i,!0):yt(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(d[n]=i,!0)},has({_:{data:t,setupState:n,accessCache:i,ctx:c,appContext:f,propsOptions:d}},p){let b;return!!i[p]||t!==_t&&yt(t,p)||Ua(n,p)||(b=d[0])&&yt(b,p)||yt(c,p)||yt($s,p)||yt(f.config.globalProperties,p)},defineProperty(t,n,i){return i.get!=null?t._.accessCache[n]=0:yt(i,"value")&&this.set(t,n,i.value,null),Reflect.defineProperty(t,n,i)}};function ic(t){return Je(t)?t.reduce((n,i)=>(n[i]=null,n),{}):t}let nl=!0;function a1(t){const n=Ku(t),i=t.proxy,c=t.ctx;nl=!1,n.beforeCreate&&sc(n.beforeCreate,t,"bc");const{data:f,computed:d,methods:p,watch:b,provide:C,inject:w,created:I,beforeMount:T,mounted:B,beforeUpdate:U,updated:ce,activated:Q,deactivated:be,beforeDestroy:ye,beforeUnmount:ve,destroyed:ne,unmounted:Z,render:Ae,renderTracked:je,renderTriggered:se,errorCaptured:Ve,serverPrefetch:le,expose:jt,inheritAttrs:ge,components:ee,directives:pe,filters:Me}=n;if(w&&l1(w,c,null),p)for(const xe in p){const He=p[xe];Qe(He)&&(c[xe]=He.bind(i))}if(f){const xe=f.call(i,i);Xt(xe)&&(t.data=El(xe))}if(nl=!0,d)for(const xe in d){const He=d[xe],At=Qe(He)?He.bind(i,i):Qe(He.get)?He.get.bind(i,i):Dr,fn=!Qe(He)&&Qe(He.set)?He.set.bind(i):Dr,rn=Oo({get:At,set:fn});Object.defineProperty(c,xe,{enumerable:!0,configurable:!0,get:()=>rn.value,set:tt=>rn.value=tt})}if(b)for(const xe in b)qu(b[xe],c,i,xe);if(C){const xe=Qe(C)?C.call(i):C;Reflect.ownKeys(xe).forEach(He=>{g1(He,xe[He])})}I&&sc(I,t,"c");function We(xe,He){Je(He)?He.forEach(At=>xe(At.bind(i))):He&&xe(He.bind(i))}if(We(Kh,T),We(Xu,B),We(Qh,U),We(Jh,ce),We($h,Q),We(Zh,be),We(i1,Ve),We(r1,je),We(n1,se),We(e1,ve),We(Ol,Z),We(t1,le),Je(jt))if(jt.length){const xe=t.exposed||(t.exposed={});jt.forEach(He=>{Object.defineProperty(xe,He,{get:()=>i[He],set:At=>i[He]=At})})}else t.exposed||(t.exposed={});Ae&&t.render===Dr&&(t.render=Ae),ge!=null&&(t.inheritAttrs=ge),ee&&(t.components=ee),pe&&(t.directives=pe),le&&zu(t)}function l1(t,n,i=Dr){Je(t)&&(t=rl(t));for(const c in t){const f=t[c];let d;Xt(f)?"default"in f?d=To(f.from||c,f.default,!0):d=To(f.from||c):d=To(f),En(d)?Object.defineProperty(n,c,{enumerable:!0,configurable:!0,get:()=>d.value,set:p=>d.value=p}):n[c]=d}}function sc(t,n,i){Rr(Je(t)?t.map(c=>c.bind(n.proxy)):t.bind(n.proxy),n,i)}function qu(t,n,i,c){let f=c.includes(".")?df(i,c):()=>i[c];if(un(t)){const d=n[t];Qe(d)&&li(f,d)}else if(Qe(t))li(f,t.bind(i));else if(Xt(t))if(Je(t))t.forEach(d=>qu(d,n,i,c));else{const d=Qe(t.handler)?t.handler.bind(i):n[t.handler];Qe(d)&&li(f,d,t)}}function Ku(t){const n=t.type,{mixins:i,extends:c}=n,{mixins:f,optionsCache:d,config:{optionMergeStrategies:p}}=t.appContext,b=d.get(n);let C;return b?C=b:!f.length&&!i&&!c?C=n:(C={},f.length&&f.forEach(w=>ko(C,w,p,!0)),ko(C,n,p)),Xt(n)&&d.set(n,C),C}function ko(t,n,i,c=!1){const{mixins:f,extends:d}=n;d&&ko(t,d,i,!0),f&&f.forEach(p=>ko(t,p,i,!0));for(const p in n)if(!(c&&p==="expose")){const b=c1[p]||i&&i[p];t[p]=b?b(t[p],n[p]):n[p]}return t}const c1={data:oc,props:ac,emits:ac,methods:Hs,computed:Hs,beforeCreate:On,created:On,beforeMount:On,mounted:On,beforeUpdate:On,updated:On,beforeDestroy:On,beforeUnmount:On,destroyed:On,unmounted:On,activated:On,deactivated:On,errorCaptured:On,serverPrefetch:On,components:Hs,directives:Hs,watch:f1,provide:oc,inject:u1};function oc(t,n){return n?t?function(){return vn(Qe(t)?t.call(this,this):t,Qe(n)?n.call(this,this):n)}:n:t}function u1(t,n){return Hs(rl(t),rl(n))}function rl(t){if(Je(t)){const n={};for(let i=0;i<t.length;i++)n[t[i]]=t[i];return n}return t}function On(t,n){return t?[...new Set([].concat(t,n))]:n}function Hs(t,n){return t?vn(Object.create(null),t,n):n}function ac(t,n){return t?Je(t)&&Je(n)?[...new Set([...t,...n])]:vn(Object.create(null),ic(t),ic(n!=null?n:{})):n}function f1(t,n){if(!t)return n;if(!n)return t;const i=vn(Object.create(null),t);for(const c in n)i[c]=On(t[c],n[c]);return i}function Qu(){return{app:null,config:{isNativeTag:Jd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let d1=0;function h1(t,n){return function(c,f=null){Qe(c)||(c=vn({},c)),f!=null&&!Xt(f)&&(f=null);const d=Qu(),p=new WeakSet,b=[];let C=!1;const w=d.app={_uid:d1++,_component:c,_props:f,_container:null,_context:d,_instance:null,version:$1,get config(){return d.config},set config(I){},use(I,...T){return p.has(I)||(I&&Qe(I.install)?(p.add(I),I.install(w,...T)):Qe(I)&&(p.add(I),I(w,...T))),w},mixin(I){return d.mixins.includes(I)||d.mixins.push(I),w},component(I,T){return T?(d.components[I]=T,w):d.components[I]},directive(I,T){return T?(d.directives[I]=T,w):d.directives[I]},mount(I,T,B){if(!C){const U=w._ceVNode||pr(c,f);return U.appContext=d,B===!0?B="svg":B===!1&&(B=void 0),t(U,I,B),C=!0,w._container=I,I.__vue_app__=w,aa(U.component)}},onUnmount(I){b.push(I)},unmount(){C&&(Rr(b,w._instance,16),t(null,w._container),delete w._container.__vue_app__)},provide(I,T){return d.provides[I]=T,w},runWithContext(I){const T=as;as=w;try{return I()}finally{as=T}}};return w}}let as=null;function g1(t,n){if(Dn){let i=Dn.provides;const c=Dn.parent&&Dn.parent.provides;c===i&&(i=Dn.provides=Object.create(c)),i[t]=n}}function To(t,n,i=!1){const c=Dn||An;if(c||as){const f=as?as._context.provides:c?c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:void 0;if(f&&t in f)return f[t];if(arguments.length>1)return i&&Qe(n)?n.call(c&&c.proxy):n}}const Ju={},ef=()=>Object.create(Ju),tf=t=>Object.getPrototypeOf(t)===Ju;function p1(t,n,i,c=!1){const f={},d=ef();t.propsDefaults=Object.create(null),nf(t,n,f,d);for(const p in t.propsOptions[0])p in f||(f[p]=void 0);i?t.props=c?f:Nh(f):t.type.props?t.props=f:t.props=d,t.attrs=d}function m1(t,n,i,c){const{props:f,attrs:d,vnode:{patchFlag:p}}=t,b=xt(f),[C]=t.propsOptions;let w=!1;if((c||p>0)&&!(p&16)){if(p&8){const I=t.vnode.dynamicProps;for(let T=0;T<I.length;T++){let B=I[T];if(sa(t.emitsOptions,B))continue;const U=n[B];if(C)if(yt(d,B))U!==d[B]&&(d[B]=U,w=!0);else{const ce=hi(B);f[ce]=il(C,b,ce,U,t,!1)}else U!==d[B]&&(d[B]=U,w=!0)}}}else{nf(t,n,f,d)&&(w=!0);let I;for(const T in b)(!n||!yt(n,T)&&((I=Fi(T))===T||!yt(n,I)))&&(C?i&&(i[T]!==void 0||i[I]!==void 0)&&(f[T]=il(C,b,T,void 0,t,!0)):delete f[T]);if(d!==b)for(const T in d)(!n||!yt(n,T))&&(delete d[T],w=!0)}w&&Yr(t.attrs,"set","")}function nf(t,n,i,c){const[f,d]=t.propsOptions;let p=!1,b;if(n)for(let C in n){if(zs(C))continue;const w=n[C];let I;f&&yt(f,I=hi(C))?!d||!d.includes(I)?i[I]=w:(b||(b={}))[I]=w:sa(t.emitsOptions,C)||(!(C in c)||w!==c[C])&&(c[C]=w,p=!0)}if(d){const C=xt(i),w=b||_t;for(let I=0;I<d.length;I++){const T=d[I];i[T]=il(f,C,T,w[T],t,!yt(w,T))}}return p}function il(t,n,i,c,f,d){const p=t[i];if(p!=null){const b=yt(p,"default");if(b&&c===void 0){const C=p.default;if(p.type!==Function&&!p.skipFactory&&Qe(C)){const{propsDefaults:w}=f;if(i in w)c=w[i];else{const I=ro(f);c=w[i]=C.call(null,n),I()}}else c=C;f.ce&&f.ce._setProp(i,c)}p[0]&&(d&&!b?c=!1:p[1]&&(c===""||c===Fi(i))&&(c=!0))}return c}const w1=new WeakMap;function rf(t,n,i=!1){const c=i?w1:n.propsCache,f=c.get(t);if(f)return f;const d=t.props,p={},b=[];let C=!1;if(!Qe(t)){const I=T=>{C=!0;const[B,U]=rf(T,n,!0);vn(p,B),U&&b.push(...U)};!i&&n.mixins.length&&n.mixins.forEach(I),t.extends&&I(t.extends),t.mixins&&t.mixins.forEach(I)}if(!d&&!C)return Xt(t)&&c.set(t,rs),rs;if(Je(d))for(let I=0;I<d.length;I++){const T=hi(d[I]);lc(T)&&(p[T]=_t)}else if(d)for(const I in d){const T=hi(I);if(lc(T)){const B=d[I],U=p[T]=Je(B)||Qe(B)?{type:B}:vn({},B),ce=U.type;let Q=!1,be=!0;if(Je(ce))for(let ye=0;ye<ce.length;++ye){const ve=ce[ye],ne=Qe(ve)&&ve.name;if(ne==="Boolean"){Q=!0;break}else ne==="String"&&(be=!1)}else Q=Qe(ce)&&ce.name==="Boolean";U[0]=Q,U[1]=be,(Q||yt(U,"default"))&&b.push(T)}}const w=[p,b];return Xt(t)&&c.set(t,w),w}function lc(t){return t[0]!=="$"&&!zs(t)}const sf=t=>t[0]==="_"||t==="$stable",Ml=t=>Je(t)?t.map(Nr):[Nr(t)],x1=(t,n,i)=>{if(n._n)return n;const c=zh((...f)=>Ml(n(...f)),i);return c._c=!1,c},of=(t,n,i)=>{const c=t._ctx;for(const f in t){if(sf(f))continue;const d=t[f];if(Qe(d))n[f]=x1(f,d,c);else if(d!=null){const p=Ml(d);n[f]=()=>p}}},af=(t,n)=>{const i=Ml(n);t.slots.default=()=>i},lf=(t,n,i)=>{for(const c in n)(i||c!=="_")&&(t[c]=n[c])},y1=(t,n,i)=>{const c=t.slots=ef();if(t.vnode.shapeFlag&32){const f=n._;f?(lf(c,n,i),i&&xu(c,"_",f,!0)):of(n,c)}else n&&af(t,n)},b1=(t,n,i)=>{const{vnode:c,slots:f}=t;let d=!0,p=_t;if(c.shapeFlag&32){const b=n._;b?i&&b===1?d=!1:lf(f,n,i):(d=!n.$stable,of(n,f)),p=n}else n&&(af(t,n),p={default:1});if(d)for(const b in f)!sf(b)&&p[b]==null&&delete f[b]},Xn=L1;function C1(t){return A1(t)}function A1(t,n){const i=ta();i.__VUE__=!0;const{insert:c,remove:f,patchProp:d,createElement:p,createText:b,createComment:C,setText:w,setElementText:I,parentNode:T,nextSibling:B,setScopeId:U=Dr,insertStaticContent:ce}=t,Q=(N,D,X,J=null,re=null,q=null,oe=void 0,K=null,me=!!D.dynamicChildren)=>{if(N===D)return;N&&!Us(N,D)&&(J=rr(N),tt(N,re,q,!0),N=null),D.patchFlag===-2&&(me=!1,D.dynamicChildren=null);const{type:H,ref:Re,shapeFlag:Ce}=D;switch(H){case oa:be(N,D,X,J);break;case gi:ye(N,D,X,J);break;case Ha:N==null&&ve(D,X,J,oe);break;case cr:ee(N,D,X,J,re,q,oe,K,me);break;default:Ce&1?Ae(N,D,X,J,re,q,oe,K,me):Ce&6?pe(N,D,X,J,re,q,oe,K,me):(Ce&64||Ce&128)&&H.process(N,D,X,J,re,q,oe,K,me,Vn)}Re!=null&&re&&Bo(Re,N&&N.ref,q,D||N,!D)},be=(N,D,X,J)=>{if(N==null)c(D.el=b(D.children),X,J);else{const re=D.el=N.el;D.children!==N.children&&w(re,D.children)}},ye=(N,D,X,J)=>{N==null?c(D.el=C(D.children||""),X,J):D.el=N.el},ve=(N,D,X,J)=>{[N.el,N.anchor]=ce(N.children,D,X,J,N.el,N.anchor)},ne=({el:N,anchor:D},X,J)=>{let re;for(;N&&N!==D;)re=B(N),c(N,X,J),N=re;c(D,X,J)},Z=({el:N,anchor:D})=>{let X;for(;N&&N!==D;)X=B(N),f(N),N=X;f(D)},Ae=(N,D,X,J,re,q,oe,K,me)=>{D.type==="svg"?oe="svg":D.type==="math"&&(oe="mathml"),N==null?je(D,X,J,re,q,oe,K,me):le(N,D,re,q,oe,K,me)},je=(N,D,X,J,re,q,oe,K)=>{let me,H;const{props:Re,shapeFlag:Ce,transition:Te,dirs:Fe}=N;if(me=N.el=p(N.type,q,Re&&Re.is,Re),Ce&8?I(me,N.children):Ce&16&&Ve(N.children,me,null,J,re,ja(N,q),oe,K),Fe&&Oi(N,null,J,"created"),se(me,N,N.scopeId,oe,J),Re){for(const ct in Re)ct!=="value"&&!zs(ct)&&d(me,ct,null,Re[ct],q,J);"value"in Re&&d(me,"value",null,Re.value,q),(H=Re.onVnodeBeforeMount)&&Ir(H,J,N)}Fe&&Oi(N,null,J,"beforeMount");const Ue=E1(re,Te);Ue&&Te.beforeEnter(me),c(me,D,X),((H=Re&&Re.onVnodeMounted)||Ue||Fe)&&Xn(()=>{H&&Ir(H,J,N),Ue&&Te.enter(me),Fe&&Oi(N,null,J,"mounted")},re)},se=(N,D,X,J,re)=>{if(X&&U(N,X),J)for(let q=0;q<J.length;q++)U(N,J[q]);if(re){let q=re.subTree;if(D===q||gf(q.type)&&(q.ssContent===D||q.ssFallback===D)){const oe=re.vnode;se(N,oe,oe.scopeId,oe.slotScopeIds,re.parent)}}},Ve=(N,D,X,J,re,q,oe,K,me=0)=>{for(let H=me;H<N.length;H++){const Re=N[H]=K?ai(N[H]):Nr(N[H]);Q(null,Re,D,X,J,re,q,oe,K)}},le=(N,D,X,J,re,q,oe)=>{const K=D.el=N.el;let{patchFlag:me,dynamicChildren:H,dirs:Re}=D;me|=N.patchFlag&16;const Ce=N.props||_t,Te=D.props||_t;let Fe;if(X&&Mi(X,!1),(Fe=Te.onVnodeBeforeUpdate)&&Ir(Fe,X,D,N),Re&&Oi(D,N,X,"beforeUpdate"),X&&Mi(X,!0),(Ce.innerHTML&&Te.innerHTML==null||Ce.textContent&&Te.textContent==null)&&I(K,""),H?jt(N.dynamicChildren,H,K,X,J,ja(D,re),q):oe||He(N,D,K,null,X,J,ja(D,re),q,!1),me>0){if(me&16)ge(K,Ce,Te,X,re);else if(me&2&&Ce.class!==Te.class&&d(K,"class",null,Te.class,re),me&4&&d(K,"style",Ce.style,Te.style,re),me&8){const Ue=D.dynamicProps;for(let ct=0;ct<Ue.length;ct++){const qe=Ue[ct],ot=Ce[qe],Nt=Te[qe];(Nt!==ot||qe==="value")&&d(K,qe,ot,Nt,re,X)}}me&1&&N.children!==D.children&&I(K,D.children)}else!oe&&H==null&&ge(K,Ce,Te,X,re);((Fe=Te.onVnodeUpdated)||Re)&&Xn(()=>{Fe&&Ir(Fe,X,D,N),Re&&Oi(D,N,X,"updated")},J)},jt=(N,D,X,J,re,q,oe)=>{for(let K=0;K<D.length;K++){const me=N[K],H=D[K],Re=me.el&&(me.type===cr||!Us(me,H)||me.shapeFlag&70)?T(me.el):X;Q(me,H,Re,null,J,re,q,oe,!0)}},ge=(N,D,X,J,re)=>{if(D!==X){if(D!==_t)for(const q in D)!zs(q)&&!(q in X)&&d(N,q,D[q],null,re,J);for(const q in X){if(zs(q))continue;const oe=X[q],K=D[q];oe!==K&&q!=="value"&&d(N,q,K,oe,re,J)}"value"in X&&d(N,"value",D.value,X.value,re)}},ee=(N,D,X,J,re,q,oe,K,me)=>{const H=D.el=N?N.el:b(""),Re=D.anchor=N?N.anchor:b("");let{patchFlag:Ce,dynamicChildren:Te,slotScopeIds:Fe}=D;Fe&&(K=K?K.concat(Fe):Fe),N==null?(c(H,X,J),c(Re,X,J),Ve(D.children||[],X,Re,re,q,oe,K,me)):Ce>0&&Ce&64&&Te&&N.dynamicChildren?(jt(N.dynamicChildren,Te,X,re,q,oe,K),(D.key!=null||re&&D===re.subTree)&&cf(N,D,!0)):He(N,D,X,Re,re,q,oe,K,me)},pe=(N,D,X,J,re,q,oe,K,me)=>{D.slotScopeIds=K,N==null?D.shapeFlag&512?re.ctx.activate(D,X,J,oe,me):Me(D,X,J,re,q,oe,me):z(N,D,me)},Me=(N,D,X,J,re,q,oe)=>{const K=N.component=V1(N,J,re);if(Gu(N)&&(K.ctx.renderer=Vn),W1(K,!1,oe),K.asyncDep){if(re&&re.registerDep(K,We,oe),!N.el){const me=K.subTree=pr(gi);ye(null,me,D,X)}}else We(K,N,D,X,re,q,oe)},z=(N,D,X)=>{const J=D.component=N.component;if(D1(N,D,X))if(J.asyncDep&&!J.asyncResolved){xe(J,D,X);return}else J.next=D,J.update();else D.el=N.el,J.vnode=D},We=(N,D,X,J,re,q,oe)=>{const K=()=>{if(N.isMounted){let{next:Ce,bu:Te,u:Fe,parent:Ue,vnode:ct}=N;{const Sn=uf(N);if(Sn){Ce&&(Ce.el=ct.el,xe(N,Ce,oe)),Sn.asyncDep.then(()=>{N.isUnmounted||K()});return}}let qe=Ce,ot;Mi(N,!1),Ce?(Ce.el=ct.el,xe(N,Ce,oe)):Ce=ct,Te&&La(Te),(ot=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&Ir(ot,Ue,Ce,ct),Mi(N,!0);const Nt=uc(N),Qt=N.subTree;N.subTree=Nt,Q(Qt,Nt,T(Qt.el),rr(Qt),N,re,q),Ce.el=Nt.el,qe===null&&R1(N,Nt.el),Fe&&Xn(Fe,re),(ot=Ce.props&&Ce.props.onVnodeUpdated)&&Xn(()=>Ir(ot,Ue,Ce,ct),re)}else{let Ce;const{el:Te,props:Fe}=D,{bm:Ue,m:ct,parent:qe,root:ot,type:Nt}=N,Qt=os(D);Mi(N,!1),Ue&&La(Ue),!Qt&&(Ce=Fe&&Fe.onVnodeBeforeMount)&&Ir(Ce,qe,D),Mi(N,!0);{ot.ce&&ot.ce._injectChildStyle(Nt);const Sn=N.subTree=uc(N);Q(null,Sn,X,J,N,re,q),D.el=Sn.el}if(ct&&Xn(ct,re),!Qt&&(Ce=Fe&&Fe.onVnodeMounted)){const Sn=D;Xn(()=>Ir(Ce,qe,Sn),re)}(D.shapeFlag&256||qe&&os(qe.vnode)&&qe.vnode.shapeFlag&256)&&N.a&&Xn(N.a,re),N.isMounted=!0,D=X=J=null}};N.scope.on();const me=N.effect=new Au(K);N.scope.off();const H=N.update=me.run.bind(me),Re=N.job=me.runIfDirty.bind(me);Re.i=N,Re.id=N.uid,me.scheduler=()=>Sl(Re),Mi(N,!0),H()},xe=(N,D,X)=>{D.component=N;const J=N.vnode.props;N.vnode=D,N.next=null,m1(N,D.props,J,X),b1(N,D.children,X),wi(),rc(N),xi()},He=(N,D,X,J,re,q,oe,K,me=!1)=>{const H=N&&N.children,Re=N?N.shapeFlag:0,Ce=D.children,{patchFlag:Te,shapeFlag:Fe}=D;if(Te>0){if(Te&128){fn(H,Ce,X,J,re,q,oe,K,me);return}else if(Te&256){At(H,Ce,X,J,re,q,oe,K,me);return}}Fe&8?(Re&16&&Oe(H,re,q),Ce!==H&&I(X,Ce)):Re&16?Fe&16?fn(H,Ce,X,J,re,q,oe,K,me):Oe(H,re,q,!0):(Re&8&&I(X,""),Fe&16&&Ve(Ce,X,J,re,q,oe,K,me))},At=(N,D,X,J,re,q,oe,K,me)=>{N=N||rs,D=D||rs;const H=N.length,Re=D.length,Ce=Math.min(H,Re);let Te;for(Te=0;Te<Ce;Te++){const Fe=D[Te]=me?ai(D[Te]):Nr(D[Te]);Q(N[Te],Fe,X,null,re,q,oe,K,me)}H>Re?Oe(N,re,q,!0,!1,Ce):Ve(D,X,J,re,q,oe,K,me,Ce)},fn=(N,D,X,J,re,q,oe,K,me)=>{let H=0;const Re=D.length;let Ce=N.length-1,Te=Re-1;for(;H<=Ce&&H<=Te;){const Fe=N[H],Ue=D[H]=me?ai(D[H]):Nr(D[H]);if(Us(Fe,Ue))Q(Fe,Ue,X,null,re,q,oe,K,me);else break;H++}for(;H<=Ce&&H<=Te;){const Fe=N[Ce],Ue=D[Te]=me?ai(D[Te]):Nr(D[Te]);if(Us(Fe,Ue))Q(Fe,Ue,X,null,re,q,oe,K,me);else break;Ce--,Te--}if(H>Ce){if(H<=Te){const Fe=Te+1,Ue=Fe<Re?D[Fe].el:J;for(;H<=Te;)Q(null,D[H]=me?ai(D[H]):Nr(D[H]),X,Ue,re,q,oe,K,me),H++}}else if(H>Te)for(;H<=Ce;)tt(N[H],re,q,!0),H++;else{const Fe=H,Ue=H,ct=new Map;for(H=Ue;H<=Te;H++){const lt=D[H]=me?ai(D[H]):Nr(D[H]);lt.key!=null&&ct.set(lt.key,H)}let qe,ot=0;const Nt=Te-Ue+1;let Qt=!1,Sn=0;const gt=new Array(Nt);for(H=0;H<Nt;H++)gt[H]=0;for(H=Fe;H<=Ce;H++){const lt=N[H];if(ot>=Nt){tt(lt,re,q,!0);continue}let nt;if(lt.key!=null)nt=ct.get(lt.key);else for(qe=Ue;qe<=Te;qe++)if(gt[qe-Ue]===0&&Us(lt,D[qe])){nt=qe;break}nt===void 0?tt(lt,re,q,!0):(gt[nt-Ue]=H+1,nt>=Sn?Sn=nt:Qt=!0,Q(lt,D[nt],X,null,re,q,oe,K,me),ot++)}const he=Qt?v1(gt):rs;for(qe=he.length-1,H=Nt-1;H>=0;H--){const lt=Ue+H,nt=D[lt],It=lt+1<Re?D[lt+1].el:J;gt[H]===0?Q(null,nt,X,It,re,q,oe,K,me):Qt&&(qe<0||H!==he[qe]?rn(nt,X,It,2):qe--)}}},rn=(N,D,X,J,re=null)=>{const{el:q,type:oe,transition:K,children:me,shapeFlag:H}=N;if(H&6){rn(N.component.subTree,D,X,J);return}if(H&128){N.suspense.move(D,X,J);return}if(H&64){oe.move(N,D,X,Vn);return}if(oe===cr){c(q,D,X);for(let Ce=0;Ce<me.length;Ce++)rn(me[Ce],D,X,J);c(N.anchor,D,X);return}if(oe===Ha){ne(N,D,X);return}if(J!==2&&H&1&&K)if(J===0)K.beforeEnter(q),c(q,D,X),Xn(()=>K.enter(q),re);else{const{leave:Ce,delayLeave:Te,afterLeave:Fe}=K,Ue=()=>c(q,D,X),ct=()=>{Ce(q,()=>{Ue(),Fe&&Fe()})};Te?Te(q,Ue,ct):ct()}else c(q,D,X)},tt=(N,D,X,J=!1,re=!1)=>{const{type:q,props:oe,ref:K,children:me,dynamicChildren:H,shapeFlag:Re,patchFlag:Ce,dirs:Te,cacheIndex:Fe}=N;if(Ce===-2&&(re=!1),K!=null&&Bo(K,null,X,N,!0),Fe!=null&&(D.renderCache[Fe]=void 0),Re&256){D.ctx.deactivate(N);return}const Ue=Re&1&&Te,ct=!os(N);let qe;if(ct&&(qe=oe&&oe.onVnodeBeforeUnmount)&&Ir(qe,D,N),Re&6)Bn(N.component,X,J);else{if(Re&128){N.suspense.unmount(X,J);return}Ue&&Oi(N,null,D,"beforeUnmount"),Re&64?N.type.remove(N,D,X,Vn,J):H&&!H.hasOnce&&(q!==cr||Ce>0&&Ce&64)?Oe(H,D,X,!1,!0):(q===cr&&Ce&384||!re&&Re&16)&&Oe(me,D,X),J&&Pn(N)}(ct&&(qe=oe&&oe.onVnodeUnmounted)||Ue)&&Xn(()=>{qe&&Ir(qe,D,N),Ue&&Oi(N,null,D,"unmounted")},X)},Pn=N=>{const{type:D,el:X,anchor:J,transition:re}=N;if(D===cr){Ht(X,J);return}if(D===Ha){Z(N);return}const q=()=>{f(X),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(N.shapeFlag&1&&re&&!re.persisted){const{leave:oe,delayLeave:K}=re,me=()=>oe(X,q);K?K(N.el,q,me):me()}else q()},Ht=(N,D)=>{let X;for(;N!==D;)X=B(N),f(N),N=X;f(D)},Bn=(N,D,X)=>{const{bum:J,scope:re,job:q,subTree:oe,um:K,m:me,a:H}=N;cc(me),cc(H),J&&La(J),re.stop(),q&&(q.flags|=8,tt(oe,N,D,X)),K&&Xn(K,D),Xn(()=>{N.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Oe=(N,D,X,J=!1,re=!1,q=0)=>{for(let oe=q;oe<N.length;oe++)tt(N[oe],D,X,J,re)},rr=N=>{if(N.shapeFlag&6)return rr(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const D=B(N.anchor||N.el),X=D&&D[Yh];return X?B(X):D};let vt=!1;const mr=(N,D,X)=>{N==null?D._vnode&&tt(D._vnode,null,null,!0):Q(D._vnode||null,N,D,null,null,null,X),D._vnode=N,vt||(vt=!0,rc(),Hu(),vt=!1)},Vn={p:Q,um:tt,m:rn,r:Pn,mt:Me,mc:Ve,pc:He,pbc:jt,n:rr,o:t};return{render:mr,hydrate:void 0,createApp:h1(mr)}}function ja({type:t,props:n},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:i}function Mi({effect:t,job:n},i){i?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function E1(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function cf(t,n,i=!1){const c=t.children,f=n.children;if(Je(c)&&Je(f))for(let d=0;d<c.length;d++){const p=c[d];let b=f[d];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=f[d]=ai(f[d]),b.el=p.el),!i&&b.patchFlag!==-2&&cf(p,b)),b.type===oa&&(b.el=p.el)}}function v1(t){const n=t.slice(),i=[0];let c,f,d,p,b;const C=t.length;for(c=0;c<C;c++){const w=t[c];if(w!==0){if(f=i[i.length-1],t[f]<w){n[c]=f,i.push(c);continue}for(d=0,p=i.length-1;d<p;)b=d+p>>1,t[i[b]]<w?d=b+1:p=b;w<t[i[d]]&&(d>0&&(n[c]=i[d-1]),i[d]=c)}}for(d=i.length,p=i[d-1];d-- >0;)i[d]=p,p=n[p];return i}function uf(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:uf(n)}function cc(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}const I1=Symbol.for("v-scx"),S1=()=>To(I1);function li(t,n,i){return ff(t,n,i)}function ff(t,n,i=_t){const{immediate:c,deep:f,flush:d,once:p}=i,b=vn({},i),C=n&&c||!n&&d!=="post";let w;if(to){if(d==="sync"){const U=S1();w=U.__watcherHandles||(U.__watcherHandles=[])}else if(!C){const U=()=>{};return U.stop=Dr,U.resume=Dr,U.pause=Dr,U}}const I=Dn;b.call=(U,ce,Q)=>Rr(U,I,ce,Q);let T=!1;d==="post"?b.scheduler=U=>{Xn(U,I&&I.suspense)}:d!=="sync"&&(T=!0,b.scheduler=(U,ce)=>{ce?U():Sl(U)}),b.augmentJob=U=>{n&&(U.flags|=4),T&&(U.flags|=2,I&&(U.id=I.uid,U.i=I))};const B=Uh(t,n,b);return to&&(w?w.push(B):C&&B()),B}function T1(t,n,i){const c=this.proxy,f=un(t)?t.includes(".")?df(c,t):()=>c[t]:t.bind(c,c);let d;Qe(n)?d=n:(d=n.handler,i=n);const p=ro(this),b=ff(f,d.bind(c),i);return p(),b}function df(t,n){const i=n.split(".");return()=>{let c=t;for(let f=0;f<i.length&&c;f++)c=c[i[f]];return c}}const _1=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t["".concat(n,"Modifiers")]||t["".concat(hi(n),"Modifiers")]||t["".concat(Fi(n),"Modifiers")];function O1(t,n,...i){if(t.isUnmounted)return;const c=t.vnode.props||_t;let f=i;const d=n.startsWith("update:"),p=d&&_1(c,n.slice(7));p&&(p.trim&&(f=i.map(I=>un(I)?I.trim():I)),p.number&&(f=i.map(ih)));let b,C=c[b=Ra(n)]||c[b=Ra(hi(n))];!C&&d&&(C=c[b=Ra(Fi(n))]),C&&Rr(C,t,6,f);const w=c[b+"Once"];if(w){if(!t.emitted)t.emitted={};else if(t.emitted[b])return;t.emitted[b]=!0,Rr(w,t,6,f)}}function hf(t,n,i=!1){const c=n.emitsCache,f=c.get(t);if(f!==void 0)return f;const d=t.emits;let p={},b=!1;if(!Qe(t)){const C=w=>{const I=hf(w,n,!0);I&&(b=!0,vn(p,I))};!i&&n.mixins.length&&n.mixins.forEach(C),t.extends&&C(t.extends),t.mixins&&t.mixins.forEach(C)}return!d&&!b?(Xt(t)&&c.set(t,null),null):(Je(d)?d.forEach(C=>p[C]=null):vn(p,d),Xt(t)&&c.set(t,p),p)}function sa(t,n){return!t||!Qo(n)?!1:(n=n.slice(2).replace(/Once$/,""),yt(t,n[0].toLowerCase()+n.slice(1))||yt(t,Fi(n))||yt(t,n))}function uc(t){const{type:n,vnode:i,proxy:c,withProxy:f,propsOptions:[d],slots:p,attrs:b,emit:C,render:w,renderCache:I,props:T,data:B,setupState:U,ctx:ce,inheritAttrs:Q}=t,be=Po(t);let ye,ve;try{if(i.shapeFlag&4){const Z=f||c,Ae=Z;ye=Nr(w.call(Ae,Z,I,T,U,B,ce)),ve=b}else{const Z=n;ye=Nr(Z.length>1?Z(T,{attrs:b,slots:p,emit:C}):Z(T,null)),ve=n.props?b:M1(b)}}catch(Z){Zs.length=0,ra(Z,t,1),ye=pr(gi)}let ne=ye;if(ve&&Q!==!1){const Z=Object.keys(ve),{shapeFlag:Ae}=ne;Z.length&&Ae&7&&(d&&Z.some(hl)&&(ve=N1(ve,d)),ne=ds(ne,ve,!1,!0))}return i.dirs&&(ne=ds(ne,null,!1,!0),ne.dirs=ne.dirs?ne.dirs.concat(i.dirs):i.dirs),i.transition&&Tl(ne,i.transition),ye=ne,Po(be),ye}const M1=t=>{let n;for(const i in t)(i==="class"||i==="style"||Qo(i))&&((n||(n={}))[i]=t[i]);return n},N1=(t,n)=>{const i={};for(const c in t)(!hl(c)||!(c.slice(9)in n))&&(i[c]=t[c]);return i};function D1(t,n,i){const{props:c,children:f,component:d}=t,{props:p,children:b,patchFlag:C}=n,w=d.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&C>=0){if(C&1024)return!0;if(C&16)return c?fc(c,p,w):!!p;if(C&8){const I=n.dynamicProps;for(let T=0;T<I.length;T++){const B=I[T];if(p[B]!==c[B]&&!sa(w,B))return!0}}}else return(f||b)&&(!b||!b.$stable)?!0:c===p?!1:c?p?fc(c,p,w):!0:!!p;return!1}function fc(t,n,i){const c=Object.keys(n);if(c.length!==Object.keys(t).length)return!0;for(let f=0;f<c.length;f++){const d=c[f];if(n[d]!==t[d]&&!sa(i,d))return!0}return!1}function R1({vnode:t,parent:n},i){for(;n;){const c=n.subTree;if(c.suspense&&c.suspense.activeBranch===t&&(c.el=t.el),c===t)(t=n.vnode).el=i,n=n.parent;else break}}const gf=t=>t.__isSuspense;function L1(t,n){n&&n.pendingBranch?Je(t)?n.effects.push(...t):n.effects.push(t):Wh(t)}const cr=Symbol.for("v-fgt"),oa=Symbol.for("v-txt"),gi=Symbol.for("v-cmt"),Ha=Symbol.for("v-stc"),Zs=[];let Jn=null;function Kn(t=!1){Zs.push(Jn=t?null:[])}function P1(){Zs.pop(),Jn=Zs[Zs.length-1]||null}let eo=1;function dc(t,n=!1){eo+=t,t<0&&Jn&&n&&(Jn.hasOnce=!0)}function pf(t){return t.dynamicChildren=eo>0?Jn||rs:null,P1(),eo>0&&Jn&&Jn.push(t),t}function Or(t,n,i,c,f,d){return pf(Ze(t,n,i,c,f,d,!0))}function sl(t,n,i,c,f){return pf(pr(t,n,i,c,f,!0))}function Nl(t){return t?t.__v_isVNode===!0:!1}function Us(t,n){return t.type===n.type&&t.key===n.key}const mf=({key:t})=>t!=null?t:null,_o=({ref:t,ref_key:n,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?un(t)||En(t)||Qe(t)?{i:An,r:t,k:n,f:!!i}:t:null);function Ze(t,n=null,i=null,c=0,f=null,d=t===cr?0:1,p=!1,b=!1){const C={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&mf(n),ref:n&&_o(n),scopeId:Wu,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:c,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:An};return b?(Dl(C,i),d&128&&t.normalize(C)):i&&(C.shapeFlag|=un(i)?8:16),eo>0&&!p&&Jn&&(C.patchFlag>0||d&6)&&C.patchFlag!==32&&Jn.push(C),C}const pr=B1;function B1(t,n=null,i=null,c=0,f=null,d=!1){if((!t||t===s1)&&(t=gi),Nl(t)){const b=ds(t,n,!0);return i&&Dl(b,i),eo>0&&!d&&Jn&&(b.shapeFlag&6?Jn[Jn.indexOf(t)]=b:Jn.push(b)),b.patchFlag=-2,b}if(X1(t)&&(t=t.__vccOpts),n){n=k1(n);let{class:b,style:C}=n;b&&!un(b)&&(n.class=ml(b)),Xt(C)&&(Il(C)&&!Je(C)&&(C=vn({},C)),n.style=na(C))}const p=un(t)?1:gf(t)?128:Xh(t)?64:Xt(t)?4:Qe(t)?2:0;return Ze(t,n,i,c,f,p,d,!0)}function k1(t){return t?Il(t)||tf(t)?vn({},t):t:null}function ds(t,n,i=!1,c=!1){const{props:f,ref:d,patchFlag:p,children:b,transition:C}=t,w=n?U1(f||{},n):f,I={__v_isVNode:!0,__v_skip:!0,type:t.type,props:w,key:w&&mf(w),ref:n&&n.ref?i&&d?Je(d)?d.concat(_o(n)):[d,_o(n)]:_o(n):d,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:b,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==cr?p===-1?16:p|16:p,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:C,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ds(t.ssContent),ssFallback:t.ssFallback&&ds(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return C&&c&&Tl(I,C.clone(I)),I}function F1(t=" ",n=0){return pr(oa,null,t,n)}function hc(t="",n=!1){return n?(Kn(),sl(gi,null,t)):pr(gi,null,t)}function Nr(t){return t==null||typeof t=="boolean"?pr(gi):Je(t)?pr(cr,null,t.slice()):Nl(t)?ai(t):pr(oa,null,String(t))}function ai(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ds(t)}function Dl(t,n){let i=0;const{shapeFlag:c}=t;if(n==null)n=null;else if(Je(n))i=16;else if(typeof n=="object")if(c&65){const f=n.default;f&&(f._c&&(f._d=!1),Dl(t,f()),f._c&&(f._d=!0));return}else{i=32;const f=n._;!f&&!tf(n)?n._ctx=An:f===3&&An&&(An.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Qe(n)?(n={default:n,_ctx:An},i=32):(n=String(n),c&64?(i=16,n=[F1(n)]):i=8);t.children=n,t.shapeFlag|=i}function U1(...t){const n={};for(let i=0;i<t.length;i++){const c=t[i];for(const f in c)if(f==="class")n.class!==c.class&&(n.class=ml([n.class,c.class]));else if(f==="style")n.style=na([n.style,c.style]);else if(Qo(f)){const d=n[f],p=c[f];p&&d!==p&&!(Je(d)&&d.includes(p))&&(n[f]=d?[].concat(d,p):p)}else f!==""&&(n[f]=c[f])}return n}function Ir(t,n,i,c=null){Rr(t,n,7,[i,c])}const j1=Qu();let H1=0;function V1(t,n,i){const c=t.type,f=(n?n.appContext:t.appContext)||j1,d={uid:H1++,vnode:t,type:c,parent:n,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(f.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rf(c,f),emitsOptions:hf(c,f),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:c.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=n?n.root:d,d.emit=O1.bind(null,d),t.ce&&t.ce(d),d}let Dn=null,Fo,ol;{const t=ta(),n=(i,c)=>{let f;return(f=t[i])||(f=t[i]=[]),f.push(c),d=>{f.length>1?f.forEach(p=>p(d)):f[0](d)}};Fo=n("__VUE_INSTANCE_SETTERS__",i=>Dn=i),ol=n("__VUE_SSR_SETTERS__",i=>to=i)}const ro=t=>{const n=Dn;return Fo(t),t.scope.on(),()=>{t.scope.off(),Fo(n)}},gc=()=>{Dn&&Dn.scope.off(),Fo(null)};function wf(t){return t.vnode.shapeFlag&4}let to=!1;function W1(t,n=!1,i=!1){n&&ol(n);const{props:c,children:f}=t.vnode,d=wf(t);p1(t,c,d,n),y1(t,f,i);const p=d?z1(t,n):void 0;return n&&ol(!1),p}function z1(t,n){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,o1);const{setup:c}=i;if(c){wi();const f=t.setupContext=c.length>1?Y1(t):null,d=ro(t),p=no(c,t,0,[t.props,f]),b=gu(p);if(xi(),d(),(b||t.sp)&&!os(t)&&zu(t),b){if(p.then(gc,gc),n)return p.then(C=>{pc(t,C)}).catch(C=>{ra(C,t,0)});t.asyncDep=p}else pc(t,p)}else xf(t)}function pc(t,n,i){Qe(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Xt(n)&&(t.setupState=Fu(n)),xf(t)}function xf(t,n,i){const c=t.type;t.render||(t.render=c.render||Dr);{const f=ro(t);wi();try{a1(t)}finally{xi(),f()}}}const G1={get(t,n){return Cn(t,"get",""),t[n]}};function Y1(t){const n=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,G1),slots:t.slots,emit:t.emit,expose:n}}function aa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Fu(Dh(t.exposed)),{get(n,i){if(i in n)return n[i];if(i in $s)return $s[i](t)},has(n,i){return i in n||i in $s}})):t.proxy}function X1(t){return Qe(t)&&"__vccOpts"in t}const Oo=(t,n)=>kh(t,n,to),$1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let al;const mc=typeof window<"u"&&window.trustedTypes;if(mc)try{al=mc.createPolicy("vue",{createHTML:t=>t})}catch(t){}const yf=al?t=>al.createHTML(t):t=>t,Z1="http://www.w3.org/2000/svg",q1="http://www.w3.org/1998/Math/MathML",Gr=typeof document<"u"?document:null,wc=Gr&&Gr.createElement("template"),K1={insert:(t,n,i)=>{n.insertBefore(t,i||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,i,c)=>{const f=n==="svg"?Gr.createElementNS(Z1,t):n==="mathml"?Gr.createElementNS(q1,t):i?Gr.createElement(t,{is:i}):Gr.createElement(t);return t==="select"&&c&&c.multiple!=null&&f.setAttribute("multiple",c.multiple),f},createText:t=>Gr.createTextNode(t),createComment:t=>Gr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,i,c,f,d){const p=i?i.previousSibling:n.lastChild;if(f&&(f===d||f.nextSibling))for(;n.insertBefore(f.cloneNode(!0),i),!(f===d||!(f=f.nextSibling)););else{wc.innerHTML=yf(c==="svg"?"<svg>".concat(t,"</svg>"):c==="mathml"?"<math>".concat(t,"</math>"):t);const b=wc.content;if(c==="svg"||c==="mathml"){const C=b.firstChild;for(;C.firstChild;)b.appendChild(C.firstChild);b.removeChild(C)}n.insertBefore(b,i)}return[p?p.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}},Q1=Symbol("_vtc");function J1(t,n,i){const c=t[Q1];c&&(n=(n?[n,...c]:[...c]).join(" ")),n==null?t.removeAttribute("class"):i?t.setAttribute("class",n):t.className=n}const Uo=Symbol("_vod"),bf=Symbol("_vsh"),e0={beforeMount(t,{value:n},{transition:i}){t[Uo]=t.style.display==="none"?"":t.style.display,i&&n?i.beforeEnter(t):js(t,n)},mounted(t,{value:n},{transition:i}){i&&n&&i.enter(t)},updated(t,{value:n,oldValue:i},{transition:c}){!n!=!i&&(c?n?(c.beforeEnter(t),js(t,!0),c.enter(t)):c.leave(t,()=>{js(t,!1)}):js(t,n))},beforeUnmount(t,{value:n}){js(t,n)}};function js(t,n){t.style.display=n?t[Uo]:"none",t[bf]=!n}const t0=Symbol(""),n0=/(^|;)\s*display\s*:/;function r0(t,n,i){const c=t.style,f=un(i);let d=!1;if(i&&!f){if(n)if(un(n))for(const p of n.split(";")){const b=p.slice(0,p.indexOf(":")).trim();i[b]==null&&Mo(c,b,"")}else for(const p in n)i[p]==null&&Mo(c,p,"");for(const p in i)p==="display"&&(d=!0),Mo(c,p,i[p])}else if(f){if(n!==i){const p=c[t0];p&&(i+=";"+p),c.cssText=i,d=n0.test(i)}}else n&&t.removeAttribute("style");Uo in t&&(t[Uo]=d?c.display:"",t[bf]&&(c.display="none"))}const xc=/\s*!important$/;function Mo(t,n,i){if(Je(i))i.forEach(c=>Mo(t,n,c));else if(i==null&&(i=""),n.startsWith("--"))t.setProperty(n,i);else{const c=i0(t,n);xc.test(i)?t.setProperty(Fi(c),i.replace(xc,""),"important"):t[c]=i}}const yc=["Webkit","Moz","ms"],Va={};function i0(t,n){const i=Va[n];if(i)return i;let c=hi(n);if(c!=="filter"&&c in t)return Va[n]=c;c=wu(c);for(let f=0;f<yc.length;f++){const d=yc[f]+c;if(d in t)return Va[n]=d}return n}const bc="http://www.w3.org/1999/xlink";function Cc(t,n,i,c,f,d=uh(n)){c&&n.startsWith("xlink:")?i==null?t.removeAttributeNS(bc,n.slice(6,n.length)):t.setAttributeNS(bc,n,i):i==null||d&&!yu(i)?t.removeAttribute(n):t.setAttribute(n,d?"":Kr(i)?String(i):i)}function Ac(t,n,i,c,f){if(n==="innerHTML"||n==="textContent"){i!=null&&(t[n]=n==="innerHTML"?yf(i):i);return}const d=t.tagName;if(n==="value"&&d!=="PROGRESS"&&!d.includes("-")){const b=d==="OPTION"?t.getAttribute("value")||"":t.value,C=i==null?t.type==="checkbox"?"on":"":String(i);(b!==C||!("_value"in t))&&(t.value=C),i==null&&t.removeAttribute(n),t._value=i;return}let p=!1;if(i===""||i==null){const b=typeof t[n];b==="boolean"?i=yu(i):i==null&&b==="string"?(i="",p=!0):b==="number"&&(i=0,p=!0)}try{t[n]=i}catch(b){}p&&t.removeAttribute(f||n)}function s0(t,n,i,c){t.addEventListener(n,i,c)}function o0(t,n,i,c){t.removeEventListener(n,i,c)}const Ec=Symbol("_vei");function a0(t,n,i,c,f=null){const d=t[Ec]||(t[Ec]={}),p=d[n];if(c&&p)p.value=c;else{const[b,C]=l0(n);if(c){const w=d[n]=f0(c,f);s0(t,b,w,C)}else p&&(o0(t,b,p,C),d[n]=void 0)}}const vc=/(?:Once|Passive|Capture)$/;function l0(t){let n;if(vc.test(t)){n={};let c;for(;c=t.match(vc);)t=t.slice(0,t.length-c[0].length),n[c[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fi(t.slice(2)),n]}let Wa=0;const c0=Promise.resolve(),u0=()=>Wa||(c0.then(()=>Wa=0),Wa=Date.now());function f0(t,n){const i=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=i.attached)return;Rr(d0(c,i.value),n,5,[c])};return i.value=t,i.attached=u0(),i}function d0(t,n){if(Je(n)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},n.map(c=>f=>!f._stopped&&c&&c(f))}else return n}const Ic=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,h0=(t,n,i,c,f,d)=>{const p=f==="svg";n==="class"?J1(t,c,p):n==="style"?r0(t,i,c):Qo(n)?hl(n)||a0(t,n,i,c,d):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):g0(t,n,c,p))?(Ac(t,n,c),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Cc(t,n,c,p,d,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!un(c))?Ac(t,hi(n),c,d,n):(n==="true-value"?t._trueValue=c:n==="false-value"&&(t._falseValue=c),Cc(t,n,c,p))};function g0(t,n,i,c){if(c)return!!(n==="innerHTML"||n==="textContent"||n in t&&Ic(n)&&Qe(i));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const f=t.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return Ic(n)&&un(i)?!1:n in t}const p0=["ctrl","shift","alt","meta"],m0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>p0.some(i=>t["".concat(i,"Key")]&&!n.includes(i))},Eo=(t,n)=>{const i=t._withMods||(t._withMods={}),c=n.join(".");return i[c]||(i[c]=(f,...d)=>{for(let p=0;p<n.length;p++){const b=m0[n[p]];if(b&&b(f,n))return}return t(f,...d)})},w0=vn({patchProp:h0},K1);let Sc;function x0(){return Sc||(Sc=C1(w0))}const y0=(...t)=>{const n=x0().createApp(...t),{mount:i}=n;return n.mount=c=>{const f=C0(c);if(!f)return;const d=n._component;!Qe(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.nodeType===1&&(f.textContent="");const p=i(f,!1,b0(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),p},n};function b0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function C0(t){return un(t)?document.querySelector(t):t}var Cf=(t,n,i)=>{if(!n.has(t))throw TypeError("Cannot "+i)},Tc=(t,n,i)=>(Cf(t,n,"read from private field"),i?i.call(t):n.get(t)),A0=(t,n,i)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,i)},E0=(t,n,i,c)=>(Cf(t,n,"write to private field"),n.set(t,i),i);const Af=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],v0=[...Af,["unknown"]].map(t=>t[0]),No=new Map(Af);function I0(t){for(const[n,i]of No)if(t===i)return n;return"unknown"}function S0(t){if(Ef(t))return{width:t.naturalWidth,height:t.naturalHeight};if(vf(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(If(t))return{width:t.videoWidth,height:t.videoHeight};if(Tf(t))return{width:t.width,height:t.height};if(Of(t))return{width:t.displayWidth,height:t.displayHeight};if(Sf(t))return{width:t.width,height:t.height};if(_f(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Ef(t){try{return t instanceof HTMLImageElement}catch(n){return!1}}function vf(t){try{return t instanceof SVGImageElement}catch(n){return!1}}function If(t){try{return t instanceof HTMLVideoElement}catch(n){return!1}}function Sf(t){try{return t instanceof HTMLCanvasElement}catch(n){return!1}}function Tf(t){try{return t instanceof ImageBitmap}catch(n){return!1}}function _f(t){try{return t instanceof OffscreenCanvas}catch(n){return!1}}function Of(t){try{return t instanceof VideoFrame}catch(n){return!1}}function Mf(t){try{return t instanceof Blob}catch(n){return!1}}function T0(t){try{return t instanceof ImageData}catch(n){return!1}}function _0(t,n){try{const i=new OffscreenCanvas(t,n);if(i.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return i;throw void 0}catch(i){const c=document.createElement("canvas");return c.width=t,c.height=n,c}}async function Nf(t){if(Ef(t)&&!await D0(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(vf(t)&&!await R0(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Of(t)&&L0(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(If(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Tf(t)&&B0(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:n,height:i}=S0(t);if(n===0||i===0)return null;const c=_0(n,i).getContext("2d");c.drawImage(t,0,0);try{return c.getImageData(0,0,n,i)}catch(f){throw new DOMException("Source would taint origin.","SecurityError")}}async function O0(t){let n;try{if(globalThis.createImageBitmap)n=await createImageBitmap(t);else if(globalThis.Image){n=new Image;let i="";try{i=URL.createObjectURL(t),n.src=i,await n.decode()}finally{URL.revokeObjectURL(i)}}else return t}catch(i){throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Nf(n)}function M0(t){const{width:n,height:i}=t;if(n===0||i===0)return null;const c=t.getContext("2d");try{return c.getImageData(0,0,n,i)}catch(f){throw new DOMException("Source would taint origin.","SecurityError")}}async function N0(t){if(Mf(t))return await O0(t);if(T0(t)){if(P0(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return Sf(t)||_f(t)?M0(t):await Nf(t)}async function D0(t){try{return await t.decode(),!0}catch(n){return!1}}async function R0(t){var n;try{return await((n=t.decode)==null?void 0:n.call(t)),!0}catch(i){return!1}}function L0(t){return t.format===null}function P0(t){return t.data.buffer.byteLength===0}function B0(t){return t.width===0&&t.height===0}function _c(t,n){return t instanceof DOMException?new DOMException("".concat(n,": ").concat(t.message),t.name):t instanceof Error?new t.constructor("".concat(n,": ").concat(t.message)):new Error("".concat(n,": ").concat(t))}const Oc=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function k0(t){return t.join("|")}function F0(t){const n=Mc(t);let i=0,c=Oc.length-1;for(;i<=c;){const f=Math.floor((i+c)/2),d=Oc[f],p=Mc(d);if(p===n)return d;p<n?i=f+1:c=f-1}return"None"}function Mc(t){return t.toLowerCase().replace(/_-\[\]/g,"")}function U0(t,n){return t.Binarizer[n]}function j0(t,n){return t.CharacterSet[n]}const H0=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function V0(t){return H0[t.value]}function W0(t,n){return t.EanAddOnSymbol[n]}function z0(t,n){return t.TextMode[n]}const hs={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function Df(t,n){return{...n,formats:k0(n.formats),binarizer:U0(t,n.binarizer),eanAddOnSymbol:W0(t,n.eanAddOnSymbol),textMode:z0(t,n.textMode),characterSet:j0(t,n.characterSet)}}function Rf(t){return{...t,format:F0(t.format),eccLevel:t.eccLevel,contentType:V0(t.contentType)}}const G0={locateFile:(t,n)=>{const i=t.match(/_(.+?)\.wasm$/);return i?"https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/".concat(i[1],"/").concat(t):n+t}};let ll=new WeakMap;function Rl(t,n){var i;const c=ll.get(t);if(c!=null&&c.modulePromise&&n===void 0)return c.modulePromise;const f=(i=c==null?void 0:c.moduleOverrides)!=null?i:G0,d=t({...f});return ll.set(t,{moduleOverrides:f,modulePromise:d}),d}function Y0(t,n){ll.set(t,{moduleOverrides:n})}async function X0(t,n,i=hs){const c={...hs,...i},f=await Rl(t),{size:d}=n,p=new Uint8Array(await n.arrayBuffer()),b=f._malloc(d);f.HEAPU8.set(p,b);const C=f.readBarcodesFromImage(b,d,Df(f,c));f._free(b);const w=[];for(let I=0;I<C.size();++I)w.push(Rf(C.get(I)));return w}async function $0(t,n,i=hs){const c={...hs,...i},f=await Rl(t),{data:d,width:p,height:b,data:{byteLength:C}}=n,w=f._malloc(C);f.HEAPU8.set(d,w);const I=f.readBarcodesFromPixmap(w,p,b,Df(f,c));f._free(w);const T=[];for(let B=0;B<I.size();++B)T.push(Rf(I.get(B)));return T}({...hs,formats:[...hs.formats]});var la=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(n={}){var i=n,c,f;i.ready=new Promise((m,x)=>{c=m,f=x});var d=Object.assign({},i),p="./this.program",b=typeof window=="object",C=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var w="";function I(m){return i.locateFile?i.locateFile(m,w):w+m}var T;(b||C)&&(C?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),t&&(w=t),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",C&&(T=m=>{var x=new XMLHttpRequest;return x.open("GET",m,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)})),i.print||console.log.bind(console);var B=i.printErr||console.error.bind(console);Object.assign(i,d),d=null,i.arguments&&i.arguments,i.thisProgram&&(p=i.thisProgram),i.quit&&i.quit;var U;i.wasmBinary&&(U=i.wasmBinary),typeof WebAssembly!="object"&&tt("no native wasm support detected");var ce,Q=!1,be,ye,ve,ne,Z,Ae,je,se;function Ve(){var m=ce.buffer;i.HEAP8=be=new Int8Array(m),i.HEAP16=ve=new Int16Array(m),i.HEAPU8=ye=new Uint8Array(m),i.HEAPU16=ne=new Uint16Array(m),i.HEAP32=Z=new Int32Array(m),i.HEAPU32=Ae=new Uint32Array(m),i.HEAPF32=je=new Float32Array(m),i.HEAPF64=se=new Float64Array(m)}var le=[],jt=[],ge=[];function ee(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)z(i.preRun.shift());sn(le)}function pe(){sn(jt)}function Me(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)xe(i.postRun.shift());sn(ge)}function z(m){le.unshift(m)}function We(m){jt.unshift(m)}function xe(m){ge.unshift(m)}var He=0,At=null;function fn(m){var x;He++,(x=i.monitorRunDependencies)===null||x===void 0||x.call(i,He)}function rn(m){var x;if(He--,(x=i.monitorRunDependencies)===null||x===void 0||x.call(i,He),He==0&&At){var v=At;At=null,v()}}function tt(m){var x;(x=i.onAbort)===null||x===void 0||x.call(i,m),m="Aborted("+m+")",B(m),Q=!0,m+=". Build with -sASSERTIONS for more info.";var v=new WebAssembly.RuntimeError(m);throw f(v),v}var Pn="data:application/octet-stream;base64,",Ht=m=>m.startsWith(Pn),Bn;Bn="zxing_reader.wasm",Ht(Bn)||(Bn=I(Bn));function Oe(m){if(m==Bn&&U)return new Uint8Array(U);if(T)return T(m);throw"both async and sync fetching of the wasm failed"}function rr(m){return!U&&(b||C)&&typeof fetch=="function"?fetch(m,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+m+"'";return x.arrayBuffer()}).catch(()=>Oe(m)):Promise.resolve().then(()=>Oe(m))}function vt(m,x,v){return rr(m).then(_=>WebAssembly.instantiate(_,x)).then(_=>_).then(v,_=>{B("failed to asynchronously prepare wasm: ".concat(_)),tt(_)})}function mr(m,x,v,_){return!m&&typeof WebAssembly.instantiateStreaming=="function"&&!Ht(x)&&typeof fetch=="function"?fetch(x,{credentials:"same-origin"}).then(P=>{var F=WebAssembly.instantiateStreaming(P,v);return F.then(_,function(V){return B("wasm streaming compile failed: ".concat(V)),B("falling back to ArrayBuffer instantiation"),vt(x,v,_)})}):vt(x,v,_)}function Vn(){var m={a:Un};function x(_,P){return kt=_.exports,ce=kt.ia,Ve(),fo=kt.ma,We(kt.ja),rn(),kt}fn();function v(_){x(_.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(m,x)}catch(_){B("Module.instantiateWasm callback failed with error: ".concat(_)),f(_)}return mr(U,Bn,m,v).catch(f),{}}var sn=m=>{for(;m.length>0;)m.shift()(i)};i.noExitRuntime;var N=[],D=0,X=m=>{var x=new q(m);return x.get_caught()||(x.set_caught(!0),D--),x.set_rethrown(!1),N.push(x),ii(x.excPtr),x.get_exception_ptr()},J=0,re=()=>{Rt(0,0);var m=N.pop();Qi(m.excPtr),J=0};function q(m){this.excPtr=m,this.ptr=m-24,this.set_type=function(x){Ae[this.ptr+4>>2]=x},this.get_type=function(){return Ae[this.ptr+4>>2]},this.set_destructor=function(x){Ae[this.ptr+8>>2]=x},this.get_destructor=function(){return Ae[this.ptr+8>>2]},this.set_caught=function(x){x=x?1:0,be[this.ptr+12>>0]=x},this.get_caught=function(){return be[this.ptr+12>>0]!=0},this.set_rethrown=function(x){x=x?1:0,be[this.ptr+13>>0]=x},this.get_rethrown=function(){return be[this.ptr+13>>0]!=0},this.init=function(x,v){this.set_adjusted_ptr(0),this.set_type(x),this.set_destructor(v)},this.set_adjusted_ptr=function(x){Ae[this.ptr+16>>2]=x},this.get_adjusted_ptr=function(){return Ae[this.ptr+16>>2]},this.get_exception_ptr=function(){var x=Ti(this.get_type());if(x)return Ae[this.excPtr>>2];var v=this.get_adjusted_ptr();return v!==0?v:this.excPtr}}var oe=m=>{throw J||(J=m),J},K=m=>{var x=J;if(!x)return ri(0),0;var v=new q(x);v.set_adjusted_ptr(x);var _=v.get_type();if(!_)return ri(0),x;for(var P in m){var F=m[P];if(F===0||F===_)break;var V=v.ptr+16;if(at(F,_,V))return ri(F),x}return ri(_),x},me=()=>K([]),H=m=>K([m]),Re=(m,x)=>K([m,x]),Ce=()=>{var m=N.pop();m||tt("no exception to throw");var x=m.excPtr;throw m.get_rethrown()||(N.push(m),m.set_rethrown(!0),m.set_caught(!1),D++),J=x,J},Te=(m,x,v)=>{var _=new q(m);throw _.init(x,v),J=m,D++,J},Fe=()=>D,Ue={},ct=m=>{for(;m.length;){var x=m.pop(),v=m.pop();v(x)}};function qe(m){return this.fromWireType(Z[m>>2])}var ot={},Nt={},Qt={},Sn,gt=m=>{throw new Sn(m)},he=(m,x,v)=>{m.forEach(function(Y){Qt[Y]=x});function _(Y){var ie=v(Y);ie.length!==m.length&&gt("Mismatched type converter count");for(var we=0;we<m.length;++we)Wn(m[we],ie[we])}var P=new Array(x.length),F=[],V=0;x.forEach((Y,ie)=>{Nt.hasOwnProperty(Y)?P[ie]=Nt[Y]:(F.push(Y),ot.hasOwnProperty(Y)||(ot[Y]=[]),ot[Y].push(()=>{P[ie]=Nt[Y],++V,V===F.length&&_(P)}))}),F.length===0&&_(P)},lt=m=>{var x=Ue[m];delete Ue[m];var v=x.rawConstructor,_=x.rawDestructor,P=x.fields,F=P.map(V=>V.getterReturnType).concat(P.map(V=>V.setterArgumentType));he([m],F,V=>{var Y={};return P.forEach((ie,we)=>{var Ie=ie.fieldName,Ge=V[we],Ye=ie.getter,Ke=ie.getterContext,Ut=V[we+P.length],zt=ie.setter,Tt=ie.setterContext;Y[Ie]={read:gn=>Ge.fromWireType(Ye(Ke,gn)),write:(gn,fe)=>{var Ne=[];zt(Tt,gn,Ut.toWireType(Ne,fe)),ct(Ne)}}}),[{name:x.name,fromWireType:ie=>{var we={};for(var Ie in Y)we[Ie]=Y[Ie].read(ie);return _(ie),we},toWireType:(ie,we)=>{for(var Ie in Y)if(!(Ie in we))throw new TypeError('Missing field: "'.concat(Ie,'"'));var Ge=v();for(Ie in Y)Y[Ie].write(Ge,we[Ie]);return ie!==null&&ie.push(_,Ge),Ge},argPackAdvance:zn,readValueFromPointer:qe,destructorFunction:_}]})},nt=(m,x,v,_,P)=>{},It=()=>{for(var m=new Array(256),x=0;x<256;++x)m[x]=String.fromCharCode(x);Jr=m},Jr,Vt=m=>{for(var x="",v=m;ye[v];)x+=Jr[ye[v++]];return x},Br,_e=m=>{throw new Br(m)};function kr(m,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var _=x.name;if(m||_e('type "'.concat(_,'" must have a positive integer typeid pointer')),Nt.hasOwnProperty(m)){if(v.ignoreDuplicateRegistrations)return;_e("Cannot register type '".concat(_,"' twice"))}if(Nt[m]=x,delete Qt[m],ot.hasOwnProperty(m)){var P=ot[m];delete ot[m],P.forEach(F=>F())}}function Wn(m,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in x))throw new TypeError("registerType registeredInstance requires argPackAdvance");return kr(m,x,v)}var zn=8,Gn=(m,x,v,_)=>{x=Vt(x),Wn(m,{name:x,fromWireType:function(P){return!!P},toWireType:function(P,F){return F?v:_},argPackAdvance:zn,readValueFromPointer:function(P){return this.fromWireType(ye[P])},destructorFunction:null})},bs=m=>({count:m.count,deleteScheduled:m.deleteScheduled,preservePointerOnDelete:m.preservePointerOnDelete,ptr:m.ptr,ptrType:m.ptrType,smartPtr:m.smartPtr,smartPtrType:m.smartPtrType}),Jt=m=>{function x(v){return v.$$.ptrType.registeredClass.name}_e(x(m)+" instance already deleted")},wr=!1,yi=m=>{},ir=m=>{m.smartPtr?m.smartPtrType.rawDestructor(m.smartPtr):m.ptrType.registeredClass.rawDestructor(m.ptr)},uo=m=>{m.count.value-=1;var x=m.count.value===0;x&&ir(m)},xr=(m,x,v)=>{if(x===v)return m;if(v.baseClass===void 0)return null;var _=xr(m,x,v.baseClass);return _===null?null:v.downcast(_)},Hi={},wn=()=>Object.keys(or).length,Fr=()=>{var m=[];for(var x in or)or.hasOwnProperty(x)&&m.push(or[x]);return m},dn=[],Ee=()=>{for(;dn.length;){var m=dn.pop();m.$$.deleteScheduled=!1,m.delete()}},sr,Cs=m=>{sr=m,dn.length&&sr&&sr(Ee)},xn=()=>{i.getInheritedInstanceCount=wn,i.getLiveInheritedInstances=Fr,i.flushPendingDeletes=Ee,i.setDelayFunction=Cs},or={},Vi=(m,x)=>{for(x===void 0&&_e("ptr should not be undefined");m.baseClass;)x=m.upcast(x),m=m.baseClass;return x},Wi=(m,x)=>(x=Vi(m,x),or[x]),Tn=(m,x)=>{(!x.ptrType||!x.ptr)&&gt("makeClassHandle requires ptr and ptrType");var v=!!x.smartPtrType,_=!!x.smartPtr;return v!==_&&gt("Both smartPtrType and smartPtr must be specified"),x.count={value:1},bi(Object.create(m,{$$:{value:x,writable:!0}}))};function ga(m){var x=this.getPointee(m);if(!x)return this.destructor(m),null;var v=Wi(this.registeredClass,x);if(v!==void 0){if(v.$$.count.value===0)return v.$$.ptr=x,v.$$.smartPtr=m,v.clone();var _=v.clone();return this.destructor(m),_}function P(){return this.isSmartPointer?Tn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:x,smartPtrType:this,smartPtr:m}):Tn(this.registeredClass.instancePrototype,{ptrType:this,ptr:m})}var F=this.registeredClass.getActualType(x),V=Hi[F];if(!V)return P.call(this);var Y;this.isConst?Y=V.constPointerType:Y=V.pointerType;var ie=xr(x,this.registeredClass,Y.registeredClass);return ie===null?P.call(this):this.isSmartPointer?Tn(Y.registeredClass.instancePrototype,{ptrType:Y,ptr:ie,smartPtrType:this,smartPtr:m}):Tn(Y.registeredClass.instancePrototype,{ptrType:Y,ptr:ie})}var bi=m=>typeof FinalizationRegistry>"u"?(bi=x=>x,m):(wr=new FinalizationRegistry(x=>{uo(x.$$)}),bi=x=>{var v=x.$$,_=!!v.smartPtr;if(_){var P={$$:v};wr.register(x,P,x)}return x},yi=x=>wr.unregister(x),bi(m)),ar=()=>{Object.assign(en.prototype,{isAliasOf(m){if(!(this instanceof en)||!(m instanceof en))return!1;var x=this.$$.ptrType.registeredClass,v=this.$$.ptr;m.$$=m.$$;for(var _=m.$$.ptrType.registeredClass,P=m.$$.ptr;x.baseClass;)v=x.upcast(v),x=x.baseClass;for(;_.baseClass;)P=_.upcast(P),_=_.baseClass;return x===_&&v===P},clone(){if(this.$$.ptr||Jt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var m=bi(Object.create(Object.getPrototypeOf(this),{$$:{value:bs(this.$$)}}));return m.$$.count.value+=1,m.$$.deleteScheduled=!1,m},delete(){this.$$.ptr||Jt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&_e("Object already scheduled for deletion"),yi(this),uo(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Jt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&_e("Object already scheduled for deletion"),dn.push(this),dn.length===1&&sr&&sr(Ee),this.$$.deleteScheduled=!0,this}})};function en(){}var mt=(m,x)=>Object.defineProperty(x,"name",{value:m}),As=(m,x,v)=>{if(m[x].overloadTable===void 0){var _=m[x];m[x]=function(){return m[x].overloadTable.hasOwnProperty(arguments.length)||_e("Function '".concat(v,"' called with an invalid number of arguments (").concat(arguments.length,") - expects one of (").concat(m[x].overloadTable,")!")),m[x].overloadTable[arguments.length].apply(this,arguments)},m[x].overloadTable=[],m[x].overloadTable[_.argCount]=_}},lr=(m,x,v)=>{i.hasOwnProperty(m)?((v===void 0||i[m].overloadTable!==void 0&&i[m].overloadTable[v]!==void 0)&&_e("Cannot register public name '".concat(m,"' twice")),As(i,m,m),i.hasOwnProperty(v)&&_e("Cannot register multiple overloads of a function with the same number of arguments (".concat(v,")!")),i[m].overloadTable[v]=x):(i[m]=x,v!==void 0&&(i[m].numArguments=v))},Es=48,te=57,pa=m=>{if(m===void 0)return"_unknown";m=m.replace(/[^a-zA-Z0-9_]/g,"$");var x=m.charCodeAt(0);return x>=Es&&x<=te?"_".concat(m):m};function Pt(m,x,v,_,P,F,V,Y){this.name=m,this.constructor=x,this.instancePrototype=v,this.rawDestructor=_,this.baseClass=P,this.getActualType=F,this.upcast=V,this.downcast=Y,this.pureVirtualFunctions=[]}var yr=(m,x,v)=>{for(;x!==v;)x.upcast||_e("Expected null or instance of ".concat(v.name,", got an instance of ").concat(x.name)),m=x.upcast(m),x=x.baseClass;return m};function ma(m,x){if(x===null)return this.isReference&&_e("null is not a valid ".concat(this.name)),0;x.$$||_e('Cannot pass "'.concat($e(x),'" as a ').concat(this.name)),x.$$.ptr||_e("Cannot pass deleted object as a pointer of type ".concat(this.name));var v=x.$$.ptrType.registeredClass,_=yr(x.$$.ptr,v,this.registeredClass);return _}function dt(m,x){var v;if(x===null)return this.isReference&&_e("null is not a valid ".concat(this.name)),this.isSmartPointer?(v=this.rawConstructor(),m!==null&&m.push(this.rawDestructor,v),v):0;(!x||!x.$$)&&_e('Cannot pass "'.concat($e(x),'" as a ').concat(this.name)),x.$$.ptr||_e("Cannot pass deleted object as a pointer of type ".concat(this.name)),!this.isConst&&x.$$.ptrType.isConst&&_e("Cannot convert argument of type ".concat(x.$$.smartPtrType?x.$$.smartPtrType.name:x.$$.ptrType.name," to parameter type ").concat(this.name));var _=x.$$.ptrType.registeredClass;if(v=yr(x.$$.ptr,_,this.registeredClass),this.isSmartPointer)switch(x.$$.smartPtr===void 0&&_e("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:x.$$.smartPtrType===this?v=x.$$.smartPtr:_e("Cannot convert argument of type ".concat(x.$$.smartPtrType?x.$$.smartPtrType.name:x.$$.ptrType.name," to parameter type ").concat(this.name));break;case 1:v=x.$$.smartPtr;break;case 2:if(x.$$.smartPtrType===this)v=x.$$.smartPtr;else{var P=x.clone();v=this.rawShare(v,fr.toHandle(()=>P.delete())),m!==null&&m.push(this.rawDestructor,v)}break;default:_e("Unsupporting sharing policy")}return v}function ut(m,x){if(x===null)return this.isReference&&_e("null is not a valid ".concat(this.name)),0;x.$$||_e('Cannot pass "'.concat($e(x),'" as a ').concat(this.name)),x.$$.ptr||_e("Cannot pass deleted object as a pointer of type ".concat(this.name)),x.$$.ptrType.isConst&&_e("Cannot convert argument of type ".concat(x.$$.ptrType.name," to parameter type ").concat(this.name));var v=x.$$.ptrType.registeredClass,_=yr(x.$$.ptr,v,this.registeredClass);return _}function rt(m){return this.fromWireType(Ae[m>>2])}var vs=()=>{Object.assign(ei.prototype,{getPointee(m){return this.rawGetPointee&&(m=this.rawGetPointee(m)),m},destructor(m){var x;(x=this.rawDestructor)===null||x===void 0||x.call(this,m)},argPackAdvance:zn,readValueFromPointer:rt,deleteObject(m){m!==null&&m.delete()},fromWireType:ga})};function ei(m,x,v,_,P,F,V,Y,ie,we,Ie){this.name=m,this.registeredClass=x,this.isReference=v,this.isConst=_,this.isSmartPointer=P,this.pointeeType=F,this.sharingPolicy=V,this.rawGetPointee=Y,this.rawConstructor=ie,this.rawShare=we,this.rawDestructor=Ie,!P&&x.baseClass===void 0?_?(this.toWireType=ma,this.destructorFunction=null):(this.toWireType=ut,this.destructorFunction=null):this.toWireType=dt}var zi=(m,x,v)=>{i.hasOwnProperty(m)||gt("Replacing nonexistant public symbol"),i[m].overloadTable!==void 0&&v!==void 0?i[m].overloadTable[v]=x:(i[m]=x,i[m].argCount=v)},$t=(m,x,v)=>{var _=i["dynCall_"+m];return v&&v.length?_.apply(null,[x].concat(v)):_.call(null,x)},Yn=[],fo,Xe=m=>{var x=Yn[m];return x||(m>=Yn.length&&(Yn.length=m+1),Yn[m]=x=fo.get(m)),x},br=(m,x,v)=>{if(m.includes("j"))return $t(m,x,v);var _=Xe(x).apply(null,v);return _},wa=(m,x)=>{var v=[];return function(){return v.length=0,Object.assign(v,arguments),br(m,x,v)}},hn=(m,x)=>{m=Vt(m);function v(){return m.includes("j")?wa(m,x):Xe(x)}var _=v();return typeof _!="function"&&_e("unknown function pointer with signature ".concat(m,": ").concat(x)),_},Et=(m,x)=>{var v=mt(x,function(_){this.name=x,this.message=_;var P=new Error(_).stack;P!==void 0&&(this.stack=this.toString()+"\n"+P.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(m.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:"".concat(this.name,": ").concat(this.message)},v},on,j=m=>{var x=Ki(m),v=Vt(x);return nn(x),v},O=(m,x)=>{var v=[],_={};function P(F){if(!_[F]&&!Nt[F]){if(Qt[F]){Qt[F].forEach(P);return}v.push(F),_[F]=!0}}throw x.forEach(P),new on("".concat(m,": ")+v.map(j).join([", "]))},De=(m,x,v,_,P,F,V,Y,ie,we,Ie,Ge,Ye)=>{Ie=Vt(Ie),F=hn(P,F),Y&&(Y=hn(V,Y)),we&&(we=hn(ie,we)),Ye=hn(Ge,Ye);var Ke=pa(Ie);lr(Ke,function(){O("Cannot construct ".concat(Ie," due to unbound types"),[_])}),he([m,x,v],_?[_]:[],function(Ut){Ut=Ut[0];var zt,Tt;_?(zt=Ut.registeredClass,Tt=zt.instancePrototype):Tt=en.prototype;var gn=mt(Ie,function(){if(Object.getPrototypeOf(this)!==fe)throw new Br("Use 'new' to construct "+Ie);if(Ne.constructor_body===void 0)throw new Br(Ie+" has no accessible constructor");var Jl=Ne.constructor_body[arguments.length];if(Jl===void 0)throw new Br("Tried to invoke ctor of ".concat(Ie," with invalid number of parameters (").concat(arguments.length,") - expected (").concat(Object.keys(Ne.constructor_body).toString(),") parameters instead!"));return Jl.apply(this,arguments)}),fe=Object.create(Tt,{constructor:{value:gn}});gn.prototype=fe;var Ne=new Pt(Ie,gn,fe,Ye,zt,F,Y,we);if(Ne.baseClass){var Gt,cn;(cn=(Gt=Ne.baseClass).__derivedClasses)!==null&&cn!==void 0||(Gt.__derivedClasses=[]),Ne.baseClass.__derivedClasses.push(Ne)}var Ji=new ei(Ie,Ne,!0,!1,!1),yo=new ei(Ie+"*",Ne,!1,!1,!1),Ql=new ei(Ie+" const*",Ne,!1,!0,!1);return Hi[m]={pointerType:yo,constPointerType:Ql},zi(Ke,gn),[Ji,yo,Ql]})},Wt=(m,x)=>{for(var v=[],_=0;_<m;_++)v.push(Ae[x+_*4>>2]);return v};function kn(m){for(var x=1;x<m.length;++x)if(m[x]!==null&&m[x].destructorFunction===void 0)return!0;return!1}function Is(m,x,v,_,P,F){var V=x.length;V<2&&_e("argTypes array size mismatch! Must at least get return value and 'this' types!");var Y=x[1]!==null&&v!==null,ie=kn(x),we=x[0].name!=="void",Ie=V-2,Ge=new Array(Ie),Ye=[],Ke=[],Ut=function(){arguments.length!==Ie&&_e("function ".concat(m," called with ").concat(arguments.length," arguments, expected ").concat(Ie)),Ke.length=0;var zt;Ye.length=Y?2:1,Ye[0]=P,Y&&(zt=x[1].toWireType(Ke,this),Ye[1]=zt);for(var Tt=0;Tt<Ie;++Tt)Ge[Tt]=x[Tt+2].toWireType(Ke,arguments[Tt]),Ye.push(Ge[Tt]);var gn=_.apply(null,Ye);function fe(Ne){if(ie)ct(Ke);else for(var Gt=Y?1:2;Gt<x.length;Gt++){var cn=Gt===1?zt:Ge[Gt-2];x[Gt].destructorFunction!==null&&x[Gt].destructorFunction(cn)}if(we)return x[0].fromWireType(Ne)}return fe(gn)};return mt(m,Ut)}var Ss=(m,x,v,_,P,F)=>{var V=Wt(x,v);P=hn(_,P),he([],[m],function(Y){Y=Y[0];var ie="constructor ".concat(Y.name);if(Y.registeredClass.constructor_body===void 0&&(Y.registeredClass.constructor_body=[]),Y.registeredClass.constructor_body[x-1]!==void 0)throw new Br("Cannot register multiple constructors with identical number of parameters (".concat(x-1,") for class '").concat(Y.name,"'! Overload resolution is currently only performed using the parameter count, not actual type info!"));return Y.registeredClass.constructor_body[x-1]=()=>{O("Cannot construct ".concat(Y.name," due to unbound types"),V)},he([],V,we=>(we.splice(1,0,null),Y.registeredClass.constructor_body[x-1]=Is(ie,we,null,P,F),[])),[]})},_n=m=>{m=m.trim();const x=m.indexOf("(");return x!==-1?m.substr(0,x):m},Le=(m,x,v,_,P,F,V,Y,ie)=>{var we=Wt(v,_);x=Vt(x),x=_n(x),F=hn(P,F),he([],[m],function(Ie){Ie=Ie[0];var Ge="".concat(Ie.name,".").concat(x);x.startsWith("@@")&&(x=Symbol[x.substring(2)]),Y&&Ie.registeredClass.pureVirtualFunctions.push(x);function Ye(){O("Cannot call ".concat(Ge," due to unbound types"),we)}var Ke=Ie.registeredClass.instancePrototype,Ut=Ke[x];return Ut===void 0||Ut.overloadTable===void 0&&Ut.className!==Ie.name&&Ut.argCount===v-2?(Ye.argCount=v-2,Ye.className=Ie.name,Ke[x]=Ye):(As(Ke,x,Ge),Ke[x].overloadTable[v-2]=Ye),he([],we,function(zt){var Tt=Is(Ge,zt,Ie,F,V);return Ke[x].overloadTable===void 0?(Tt.argCount=v-2,Ke[x]=Tt):Ke[x].overloadTable[v-2]=Tt,[]}),[]})};function Dt(){Object.assign(Ts.prototype,{get(m){return this.allocated[m]},has(m){return this.allocated[m]!==void 0},allocate(m){var x=this.freelist.pop()||this.allocated.length;return this.allocated[x]=m,x},free(m){this.allocated[m]=void 0,this.freelist.push(m)}})}function Ts(){this.allocated=[void 0],this.freelist=[]}var Fn=new Ts,Ci=m=>{m>=Fn.reserved&&--Fn.get(m).refcount===0&&Fn.free(m)},Gi=()=>{for(var m=0,x=Fn.reserved;x<Fn.allocated.length;++x)Fn.allocated[x]!==void 0&&++m;return m},_s=()=>{Fn.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Fn.reserved=Fn.allocated.length,i.count_emval_handles=Gi},fr={toValue:m=>(m||_e("Cannot use deleted val. handle = "+m),Fn.get(m).value),toHandle:m=>{switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Fn.allocate({refcount:1,value:m})}}},tn=(m,x)=>{x=Vt(x),Wn(m,{name:x,fromWireType:v=>{var _=fr.toValue(v);return Ci(v),_},toWireType:(v,_)=>fr.toHandle(_),argPackAdvance:zn,readValueFromPointer:qe,destructorFunction:null})},Ai=(m,x,v)=>{switch(x){case 1:return v?function(_){return this.fromWireType(be[_>>0])}:function(_){return this.fromWireType(ye[_>>0])};case 2:return v?function(_){return this.fromWireType(ve[_>>1])}:function(_){return this.fromWireType(ne[_>>1])};case 4:return v?function(_){return this.fromWireType(Z[_>>2])}:function(_){return this.fromWireType(Ae[_>>2])};default:throw new TypeError("invalid integer width (".concat(x,"): ").concat(m))}},Cr=(m,x,v,_)=>{x=Vt(x);function P(){}P.values={},Wn(m,{name:x,constructor:P,fromWireType:function(F){return this.constructor.values[F]},toWireType:(F,V)=>V.value,argPackAdvance:zn,readValueFromPointer:Ai(x,v,_),destructorFunction:null}),lr(x,P)},Pe=(m,x)=>{var v=Nt[m];return v===void 0&&_e(x+" has unknown type "+j(m)),v},xa=(m,x,v)=>{var _=Pe(m,"enum");x=Vt(x);var P=_.constructor,F=Object.create(_.constructor.prototype,{value:{value:v},constructor:{value:mt("".concat(_.name,"_").concat(x),function(){})}});P.values[v]=F,P[x]=F},$e=m=>{if(m===null)return"null";var x=typeof m;return x==="object"||x==="array"||x==="function"?m.toString():""+m},an=(m,x)=>{switch(x){case 4:return function(v){return this.fromWireType(je[v>>2])};case 8:return function(v){return this.fromWireType(se[v>>3])};default:throw new TypeError("invalid float width (".concat(x,"): ").concat(m))}},ya=(m,x,v)=>{x=Vt(x),Wn(m,{name:x,fromWireType:_=>_,toWireType:(_,P)=>P,argPackAdvance:zn,readValueFromPointer:an(x,v),destructorFunction:null})},Os=(m,x,v,_,P,F,V)=>{var Y=Wt(x,v);m=Vt(m),m=_n(m),P=hn(_,P),lr(m,function(){O("Cannot call ".concat(m," due to unbound types"),Y)},x-1),he([],Y,function(ie){var we=[ie[0],null].concat(ie.slice(1));return zi(m,Is(m,we,null,P,F),x-1),[]})},ho=(m,x,v)=>{switch(x){case 1:return v?_=>be[_>>0]:_=>ye[_>>0];case 2:return v?_=>ve[_>>1]:_=>ne[_>>1];case 4:return v?_=>Z[_>>2]:_=>Ae[_>>2];default:throw new TypeError("invalid integer width (".concat(x,"): ").concat(m))}},Ur=(m,x,v,_,P)=>{x=Vt(x);var F=Ie=>Ie;if(_===0){var V=32-8*v;F=Ie=>Ie<<V>>>V}var Y=x.includes("unsigned"),ie=(Ie,Ge)=>{},we;Y?we=function(Ie,Ge){return ie(Ge,this.name),Ge>>>0}:we=function(Ie,Ge){return ie(Ge,this.name),Ge},Wn(m,{name:x,fromWireType:F,toWireType:we,argPackAdvance:zn,readValueFromPointer:ho(x,v,_!==0),destructorFunction:null})},ba=(m,x,v)=>{var _=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],P=_[x];function F(V){var Y=Ae[V>>2],ie=Ae[V+4>>2];return new P(be.buffer,ie,Y)}v=Vt(v),Wn(m,{name:v,fromWireType:F,argPackAdvance:zn,readValueFromPointer:F},{ignoreDuplicateRegistrations:!0})},ti=(m,x,v,_)=>{if(!(_>0))return 0;for(var P=v,F=v+_-1,V=0;V<m.length;++V){var Y=m.charCodeAt(V);if(Y>=55296&&Y<=57343){var ie=m.charCodeAt(++V);Y=65536+((Y&1023)<<10)|ie&1023}if(Y<=127){if(v>=F)break;x[v++]=Y}else if(Y<=2047){if(v+1>=F)break;x[v++]=192|Y>>6,x[v++]=128|Y&63}else if(Y<=65535){if(v+2>=F)break;x[v++]=224|Y>>12,x[v++]=128|Y>>6&63,x[v++]=128|Y&63}else{if(v+3>=F)break;x[v++]=240|Y>>18,x[v++]=128|Y>>12&63,x[v++]=128|Y>>6&63,x[v++]=128|Y&63}}return x[v]=0,v-P},Ei=(m,x,v)=>ti(m,ye,x,v),ni=m=>{for(var x=0,v=0;v<m.length;++v){var _=m.charCodeAt(v);_<=127?x++:_<=2047?x+=2:_>=55296&&_<=57343?(x+=4,++v):x+=3}return x},Ms=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,vi=(m,x,v)=>{for(var _=x+v,P=x;m[P]&&!(P>=_);)++P;if(P-x>16&&m.buffer&&Ms)return Ms.decode(m.subarray(x,P));for(var F="";x<P;){var V=m[x++];if(!(V&128)){F+=String.fromCharCode(V);continue}var Y=m[x++]&63;if((V&224)==192){F+=String.fromCharCode((V&31)<<6|Y);continue}var ie=m[x++]&63;if((V&240)==224?V=(V&15)<<12|Y<<6|ie:V=(V&7)<<18|Y<<12|ie<<6|m[x++]&63,V<65536)F+=String.fromCharCode(V);else{var we=V-65536;F+=String.fromCharCode(55296|we>>10,56320|we&1023)}}return F},jr=(m,x)=>m?vi(ye,m,x):"",yn=(m,x)=>{x=Vt(x);var v=x==="std::string";Wn(m,{name:x,fromWireType(_){var P=Ae[_>>2],F=_+4,V;if(v)for(var Y=F,ie=0;ie<=P;++ie){var we=F+ie;if(ie==P||ye[we]==0){var Ie=we-Y,Ge=jr(Y,Ie);V===void 0?V=Ge:(V+="\0",V+=Ge),Y=we+1}}else{for(var Ye=new Array(P),ie=0;ie<P;++ie)Ye[ie]=String.fromCharCode(ye[F+ie]);V=Ye.join("")}return nn(_),V},toWireType(_,P){P instanceof ArrayBuffer&&(P=new Uint8Array(P));var F,V=typeof P=="string";V||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int8Array||_e("Cannot pass non-string to std::string"),v&&V?F=ni(P):F=P.length;var Y=ks(4+F+1),ie=Y+4;if(Ae[Y>>2]=F,v&&V)Ei(P,ie,F+1);else if(V)for(var we=0;we<F;++we){var Ie=P.charCodeAt(we);Ie>255&&(nn(ie),_e("String has UTF-16 code units that do not fit in 8 bits")),ye[ie+we]=Ie}else for(var we=0;we<F;++we)ye[ie+we]=P[we];return _!==null&&_.push(nn,Y),Y},argPackAdvance:zn,readValueFromPointer:rt,destructorFunction(_){nn(_)}})},Ns=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,go=(m,x)=>{for(var v=m,_=v>>1,P=_+x/2;!(_>=P)&&ne[_];)++_;if(v=_<<1,v-m>32&&Ns)return Ns.decode(ye.subarray(m,v));for(var F="",V=0;!(V>=x/2);++V){var Y=ve[m+V*2>>1];if(Y==0)break;F+=String.fromCharCode(Y)}return F},po=(m,x,v)=>{var _;if((_=v)!==null&&_!==void 0||(v=2147483647),v<2)return 0;v-=2;for(var P=x,F=v<m.length*2?v/2:m.length,V=0;V<F;++V){var Y=m.charCodeAt(V);ve[x>>1]=Y,x+=2}return ve[x>>1]=0,x-P},Ca=m=>m.length*2,Aa=(m,x)=>{for(var v=0,_="";!(v>=x/4);){var P=Z[m+v*4>>2];if(P==0)break;if(++v,P>=65536){var F=P-65536;_+=String.fromCharCode(55296|F>>10,56320|F&1023)}else _+=String.fromCharCode(P)}return _},Ea=(m,x,v)=>{var _;if((_=v)!==null&&_!==void 0||(v=2147483647),v<4)return 0;for(var P=x,F=P+v-4,V=0;V<m.length;++V){var Y=m.charCodeAt(V);if(Y>=55296&&Y<=57343){var ie=m.charCodeAt(++V);Y=65536+((Y&1023)<<10)|ie&1023}if(Z[x>>2]=Y,x+=4,x+4>F)break}return Z[x>>2]=0,x-P},wt=m=>{for(var x=0,v=0;v<m.length;++v){var _=m.charCodeAt(v);_>=55296&&_<=57343&&++v,x+=4}return x},mo=(m,x,v)=>{v=Vt(v);var _,P,F,V,Y;x===2?(_=go,P=po,V=Ca,F=()=>ne,Y=1):x===4&&(_=Aa,P=Ea,V=wt,F=()=>Ae,Y=2),Wn(m,{name:v,fromWireType:ie=>{for(var we=Ae[ie>>2],Ie=F(),Ge,Ye=ie+4,Ke=0;Ke<=we;++Ke){var Ut=ie+4+Ke*x;if(Ke==we||Ie[Ut>>Y]==0){var zt=Ut-Ye,Tt=_(Ye,zt);Ge===void 0?Ge=Tt:(Ge+="\0",Ge+=Tt),Ye=Ut+x}}return nn(ie),Ge},toWireType:(ie,we)=>{typeof we!="string"&&_e("Cannot pass non-string to C++ string type ".concat(v));var Ie=V(we),Ge=ks(4+Ie+x);return Ae[Ge>>2]=Ie>>Y,P(we,Ge+4,Ie+x),ie!==null&&ie.push(nn,Ge),Ge},argPackAdvance:zn,readValueFromPointer:qe,destructorFunction(ie){nn(ie)}})},Yi=(m,x,v,_,P,F)=>{Ue[m]={name:Vt(x),rawConstructor:hn(v,_),rawDestructor:hn(P,F),fields:[]}},Ar=(m,x,v,_,P,F,V,Y,ie,we)=>{Ue[m].fields.push({fieldName:Vt(x),getterReturnType:v,getter:hn(_,P),getterContext:F,setterArgumentType:V,setter:hn(Y,ie),setterContext:we})},va=(m,x)=>{x=Vt(x),Wn(m,{isVoid:!0,name:x,argPackAdvance:0,fromWireType:()=>{},toWireType:(v,_)=>{}})},W=[],et=(m,x,v,_)=>(m=W[m],x=fr.toValue(x),m(null,x,v,_)),ln={},Xi=m=>{var x=ln[m];return x===void 0?Vt(m):x},Ds=()=>{if(typeof globalThis=="object")return globalThis;function m(x){x.$$$embind_global$$$=x;var v=typeof $$$embind_global$$$=="object"&&x.$$$embind_global$$$==x;return v||delete x.$$$embind_global$$$,v}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&m(global)?$$$embind_global$$$=global:typeof self=="object"&&m(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Ia=m=>m===0?fr.toHandle(Ds()):(m=Xi(m),fr.toHandle(Ds()[m])),Sa=m=>{var x=W.length;return W.push(m),x},Ta=(m,x)=>{for(var v=new Array(m),_=0;_<m;++_)v[_]=Pe(Ae[x+_*4>>2],"parameter "+_);return v},Rs=Reflect.construct,Zt=(m,x,v)=>{var _=[],P=m.toWireType(_,v);return _.length&&(Ae[x>>2]=fr.toHandle(_)),P},Ls=(m,x,v)=>{var _=Ta(m,x),P=_.shift();m--;var F=new Array(m),V=(ie,we,Ie,Ge)=>{for(var Ye=0,Ke=0;Ke<m;++Ke)F[Ke]=_[Ke].readValueFromPointer(Ge+Ye),Ye+=_[Ke].argPackAdvance;for(var Ut=v===1?Rs(we,F):we.apply(ie,F),Ke=0;Ke<m;++Ke){var zt,Tt;(zt=(Tt=_[Ke]).deleteObject)===null||zt===void 0||zt.call(Tt,F[Ke])}return Zt(P,Ie,Ut)},Y="methodCaller<(".concat(_.map(ie=>ie.name).join(", "),") => ").concat(P.name,">");return Sa(mt(Y,V))},Bt=m=>{m>4&&(Fn.get(m).refcount+=1)},$i=m=>{var x=fr.toValue(m);ct(x),Ci(m)},Hr=(m,x)=>{m=Pe(m,"_emval_take_value");var v=m.readValueFromPointer(x);return fr.toHandle(v)},bt=()=>{tt("")},Be=(m,x,v)=>ye.copyWithin(m,x,x+v),_a=()=>2147483648,St=m=>{var x=ce.buffer,v=(m-x.byteLength+65535)/65536;try{return ce.grow(v),Ve(),1}catch(_){}},Vr=m=>{var x=ye.length;m>>>=0;var v=_a();if(m>v)return!1;for(var _=(ie,we)=>ie+(we-ie%we)%we,P=1;P<=4;P*=2){var F=x*(1+.2/P);F=Math.min(F,m+100663296);var V=Math.min(v,_(Math.max(m,F),65536)),Y=St(V);if(Y)return!0}return!1},Er={},Oa=()=>p||"./this.program",bn=()=>{if(!bn.strings){var m=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:m,_:Oa()};for(var v in Er)Er[v]===void 0?delete x[v]:x[v]=Er[v];var _=[];for(var v in x)_.push("".concat(v,"=").concat(x[v]));bn.strings=_}return bn.strings},Ps=(m,x)=>{for(var v=0;v<m.length;++v)be[x++>>0]=m.charCodeAt(v);be[x>>0]=0},wo=(m,x)=>{var v=0;return bn().forEach((_,P)=>{var F=x+v;Ae[m+P*4>>2]=F,Ps(_,F),v+=_.length+1}),0},Bs=(m,x)=>{var v=bn();Ae[m>>2]=v.length;var _=0;return v.forEach(P=>_+=P.length+1),Ae[x>>2]=_,0},xo=m=>m,Ii=m=>m%4===0&&(m%100!==0||m%400===0),Ma=(m,x)=>{for(var v=0,_=0;_<=x;v+=m[_++]);return v},Wr=[31,29,31,30,31,30,31,31,30,31,30,31],Zi=[31,28,31,30,31,30,31,31,30,31,30,31],Na=(m,x)=>{for(var v=new Date(m.getTime());x>0;){var _=Ii(v.getFullYear()),P=v.getMonth(),F=(_?Wr:Zi)[P];if(x>F-v.getDate())x-=F-v.getDate()+1,v.setDate(1),P<11?v.setMonth(P+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else return v.setDate(v.getDate()+x),v}return v};function Si(m,x,v){var _=ni(m)+1,P=new Array(_);return ti(m,P,0,P.length),P}var Da=(m,x)=>{be.set(m,x)},vr=(m,x,v,_)=>{var P=Ae[_+40>>2],F={tm_sec:Z[_>>2],tm_min:Z[_+4>>2],tm_hour:Z[_+8>>2],tm_mday:Z[_+12>>2],tm_mon:Z[_+16>>2],tm_year:Z[_+20>>2],tm_wday:Z[_+24>>2],tm_yday:Z[_+28>>2],tm_isdst:Z[_+32>>2],tm_gmtoff:Z[_+36>>2],tm_zone:P?jr(P):""},V=jr(v),Y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in Y)V=V.replace(new RegExp(ie,"g"),Y[ie]);var we=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ie=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ge(fe,Ne,Gt){for(var cn=typeof fe=="number"?fe.toString():fe||"";cn.length<Ne;)cn=Gt[0]+cn;return cn}function Ye(fe,Ne){return Ge(fe,Ne,"0")}function Ke(fe,Ne){function Gt(Ji){return Ji<0?-1:Ji>0?1:0}var cn;return(cn=Gt(fe.getFullYear()-Ne.getFullYear()))===0&&(cn=Gt(fe.getMonth()-Ne.getMonth()))===0&&(cn=Gt(fe.getDate()-Ne.getDate())),cn}function Ut(fe){switch(fe.getDay()){case 0:return new Date(fe.getFullYear()-1,11,29);case 1:return fe;case 2:return new Date(fe.getFullYear(),0,3);case 3:return new Date(fe.getFullYear(),0,2);case 4:return new Date(fe.getFullYear(),0,1);case 5:return new Date(fe.getFullYear()-1,11,31);case 6:return new Date(fe.getFullYear()-1,11,30)}}function zt(fe){var Ne=Na(new Date(fe.tm_year+1900,0,1),fe.tm_yday),Gt=new Date(Ne.getFullYear(),0,4),cn=new Date(Ne.getFullYear()+1,0,4),Ji=Ut(Gt),yo=Ut(cn);return Ke(Ji,Ne)<=0?Ke(yo,Ne)<=0?Ne.getFullYear()+1:Ne.getFullYear():Ne.getFullYear()-1}var Tt={"%a":fe=>we[fe.tm_wday].substring(0,3),"%A":fe=>we[fe.tm_wday],"%b":fe=>Ie[fe.tm_mon].substring(0,3),"%B":fe=>Ie[fe.tm_mon],"%C":fe=>{var Ne=fe.tm_year+1900;return Ye(Ne/100|0,2)},"%d":fe=>Ye(fe.tm_mday,2),"%e":fe=>Ge(fe.tm_mday,2," "),"%g":fe=>zt(fe).toString().substring(2),"%G":fe=>zt(fe),"%H":fe=>Ye(fe.tm_hour,2),"%I":fe=>{var Ne=fe.tm_hour;return Ne==0?Ne=12:Ne>12&&(Ne-=12),Ye(Ne,2)},"%j":fe=>Ye(fe.tm_mday+Ma(Ii(fe.tm_year+1900)?Wr:Zi,fe.tm_mon-1),3),"%m":fe=>Ye(fe.tm_mon+1,2),"%M":fe=>Ye(fe.tm_min,2),"%n":()=>"\n","%p":fe=>fe.tm_hour>=0&&fe.tm_hour<12?"AM":"PM","%S":fe=>Ye(fe.tm_sec,2),"%t":()=>"	","%u":fe=>fe.tm_wday||7,"%U":fe=>{var Ne=fe.tm_yday+7-fe.tm_wday;return Ye(Math.floor(Ne/7),2)},"%V":fe=>{var Ne=Math.floor((fe.tm_yday+7-(fe.tm_wday+6)%7)/7);if((fe.tm_wday+371-fe.tm_yday-2)%7<=2&&Ne++,Ne){if(Ne==53){var Gt=(fe.tm_wday+371-fe.tm_yday)%7;Gt!=4&&(Gt!=3||!Ii(fe.tm_year))&&(Ne=1)}}else{Ne=52;var cn=(fe.tm_wday+7-fe.tm_yday-1)%7;(cn==4||cn==5&&Ii(fe.tm_year%400-1))&&Ne++}return Ye(Ne,2)},"%w":fe=>fe.tm_wday,"%W":fe=>{var Ne=fe.tm_yday+7-(fe.tm_wday+6)%7;return Ye(Math.floor(Ne/7),2)},"%y":fe=>(fe.tm_year+1900).toString().substring(2),"%Y":fe=>fe.tm_year+1900,"%z":fe=>{var Ne=fe.tm_gmtoff,Gt=Ne>=0;return Ne=Math.abs(Ne)/60,Ne=Ne/60*100+Ne%60,(Gt?"+":"-")+("0000"+Ne).slice(-4)},"%Z":fe=>fe.tm_zone,"%%":()=>"%"};V=V.replace(/%%/g,"\0\0");for(var ie in Tt)V.includes(ie)&&(V=V.replace(new RegExp(ie,"g"),Tt[ie](F)));V=V.replace(/\0\0/g,"%");var gn=Si(V);return gn.length>x?0:(Da(gn,m),gn.length-1)},qi=(m,x,v,_,P)=>vr(m,x,v,_);Sn=i.InternalError=class extends Error{constructor(m){super(m),this.name="InternalError"}},It(),Br=i.BindingError=class extends Error{constructor(m){super(m),this.name="BindingError"}},ar(),xn(),vs(),on=i.UnboundTypeError=Et(Error,"UnboundTypeError"),Dt(),_s();var Un={s:X,u:re,b:me,g:H,q:Re,J:Ce,f:Te,V:Fe,d:oe,da:lt,Q:nt,_:Gn,ca:De,ba:Ss,w:Le,Y:tn,x:Cr,h:xa,L:ya,M:Os,t:Ur,o:ba,K:yn,C:mo,A:Yi,ea:Ar,$:va,R:et,ha:Ci,fa:Ia,Z:Ls,N:Bt,O:$i,aa:Hr,B:bt,X:Be,W:Vr,T:wo,U:Bs,E:k,D:a,F:L,n:G,a:e,e:u,m:o,k:g,H:M,v:E,G:R,z:de,P:it,l:h,j:l,c:s,p:r,I:S,r:ue,i:y,y:ae,ga:xo,S:qi},kt=Vn(),nn=i._free=m=>(nn=i._free=kt.ka)(m),ks=i._malloc=m=>(ks=i._malloc=kt.la)(m),Ki=m=>(Ki=kt.na)(m),Rt=(m,x)=>(Rt=kt.oa)(m,x),ri=m=>(ri=kt.pa)(m),ft=()=>(ft=kt.qa)(),Ft=m=>(Ft=kt.ra)(m),Qi=m=>(Qi=kt.sa)(m),ii=m=>(ii=kt.ta)(m),at=(m,x,v)=>(at=kt.ua)(m,x,v),Ti=m=>(Ti=kt.va)(m);i.dynCall_viijii=(m,x,v,_,P,F,V)=>(i.dynCall_viijii=kt.wa)(m,x,v,_,P,F,V);var A=i.dynCall_jiiii=(m,x,v,_,P)=>(A=i.dynCall_jiiii=kt.xa)(m,x,v,_,P);i.dynCall_iiiiij=(m,x,v,_,P,F,V)=>(i.dynCall_iiiiij=kt.ya)(m,x,v,_,P,F,V),i.dynCall_iiiiijj=(m,x,v,_,P,F,V,Y,ie)=>(i.dynCall_iiiiijj=kt.za)(m,x,v,_,P,F,V,Y,ie),i.dynCall_iiiiiijj=(m,x,v,_,P,F,V,Y,ie,we)=>(i.dynCall_iiiiiijj=kt.Aa)(m,x,v,_,P,F,V,Y,ie,we);function e(m,x){var v=ft();try{return Xe(m)(x)}catch(_){if(Ft(v),_!==_+0)throw _;Rt(1,0)}}function r(m,x,v,_){var P=ft();try{Xe(m)(x,v,_)}catch(F){if(Ft(P),F!==F+0)throw F;Rt(1,0)}}function s(m,x,v){var _=ft();try{Xe(m)(x,v)}catch(P){if(Ft(_),P!==P+0)throw P;Rt(1,0)}}function o(m,x,v,_){var P=ft();try{return Xe(m)(x,v,_)}catch(F){if(Ft(P),F!==F+0)throw F;Rt(1,0)}}function a(m,x,v,_,P){var F=ft();try{return Xe(m)(x,v,_,P)}catch(V){if(Ft(F),V!==V+0)throw V;Rt(1,0)}}function l(m,x){var v=ft();try{Xe(m)(x)}catch(_){if(Ft(v),_!==_+0)throw _;Rt(1,0)}}function u(m,x,v){var _=ft();try{return Xe(m)(x,v)}catch(P){if(Ft(_),P!==P+0)throw P;Rt(1,0)}}function h(m){var x=ft();try{Xe(m)()}catch(v){if(Ft(x),v!==v+0)throw v;Rt(1,0)}}function g(m,x,v,_,P){var F=ft();try{return Xe(m)(x,v,_,P)}catch(V){if(Ft(F),V!==V+0)throw V;Rt(1,0)}}function y(m,x,v,_,P,F,V,Y,ie,we,Ie){var Ge=ft();try{Xe(m)(x,v,_,P,F,V,Y,ie,we,Ie)}catch(Ye){if(Ft(Ge),Ye!==Ye+0)throw Ye;Rt(1,0)}}function E(m,x,v,_,P,F,V){var Y=ft();try{return Xe(m)(x,v,_,P,F,V)}catch(ie){if(Ft(Y),ie!==ie+0)throw ie;Rt(1,0)}}function S(m,x,v,_,P){var F=ft();try{Xe(m)(x,v,_,P)}catch(V){if(Ft(F),V!==V+0)throw V;Rt(1,0)}}function M(m,x,v,_,P,F){var V=ft();try{return Xe(m)(x,v,_,P,F)}catch(Y){if(Ft(V),Y!==Y+0)throw Y;Rt(1,0)}}function R(m,x,v,_,P,F,V,Y){var ie=ft();try{return Xe(m)(x,v,_,P,F,V,Y)}catch(we){if(Ft(ie),we!==we+0)throw we;Rt(1,0)}}function L(m,x,v,_){var P=ft();try{return Xe(m)(x,v,_)}catch(F){if(Ft(P),F!==F+0)throw F;Rt(1,0)}}function k(m,x,v,_){var P=ft();try{return Xe(m)(x,v,_)}catch(F){if(Ft(P),F!==F+0)throw F;Rt(1,0)}}function G(m){var x=ft();try{return Xe(m)()}catch(v){if(Ft(x),v!==v+0)throw v;Rt(1,0)}}function ue(m,x,v,_,P,F,V,Y){var ie=ft();try{Xe(m)(x,v,_,P,F,V,Y)}catch(we){if(Ft(ie),we!==we+0)throw we;Rt(1,0)}}function de(m,x,v,_,P,F,V,Y,ie,we,Ie,Ge){var Ye=ft();try{return Xe(m)(x,v,_,P,F,V,Y,ie,we,Ie,Ge)}catch(Ke){if(Ft(Ye),Ke!==Ke+0)throw Ke;Rt(1,0)}}function ae(m,x,v,_,P,F,V,Y,ie,we,Ie,Ge,Ye,Ke,Ut,zt){var Tt=ft();try{Xe(m)(x,v,_,P,F,V,Y,ie,we,Ie,Ge,Ye,Ke,Ut,zt)}catch(gn){if(Ft(Tt),gn!==gn+0)throw gn;Rt(1,0)}}function it(m,x,v,_,P){var F=ft();try{return A(m,x,v,_,P)}catch(V){if(Ft(F),V!==V+0)throw V;Rt(1,0)}}var ze;At=function m(){ze||mn(),ze||(At=m)};function mn(){if(He>0||(ee(),He>0))return;function m(){ze||(ze=!0,i.calledRun=!0,!Q&&(pe(),c(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Me()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),m()},1)):m()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return mn(),n.ready}})();function Z0(t){return Rl(la,t)}function q0(t){return Y0(la,t)}async function K0(t,n){return X0(la,t,n)}async function Q0(t,n){return $0(la,t,n)}var Vs;class qs extends EventTarget{constructor(n={}){var i;super(),A0(this,Vs,void 0);try{const c=(i=n==null?void 0:n.formats)==null?void 0:i.filter(f=>f!=="unknown");if((c==null?void 0:c.length)===0)throw new TypeError("Hint option provided, but is empty.");c==null||c.forEach(f=>{if(!No.has(f))throw new TypeError("Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '".concat(f,"' is not a valid enum value of type BarcodeFormat."))}),E0(this,Vs,c!=null?c:[]),Z0().then(f=>{this.dispatchEvent(new CustomEvent("load",{detail:f}))}).catch(f=>{this.dispatchEvent(new CustomEvent("error",{detail:f}))})}catch(c){throw _c(c,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return v0.filter(n=>n!=="unknown")}async detect(n){try{const i=await N0(n);if(i===null)return[];let c;try{Mf(i)?c=await K0(i,{tryHarder:!0,formats:Tc(this,Vs).map(f=>No.get(f))}):c=await Q0(i,{tryHarder:!0,formats:Tc(this,Vs).map(f=>No.get(f))})}catch(f){throw console.error(f),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return c.map(f=>{const{topLeft:{x:d,y:p},topRight:{x:b,y:C},bottomLeft:{x:w,y:I},bottomRight:{x:T,y:B}}=f.position,U=Math.min(d,b,w,T),ce=Math.min(p,C,I,B),Q=Math.max(d,b,w,T),be=Math.max(p,C,I,B);return{boundingBox:new DOMRectReadOnly(U,ce,Q-U,be-ce),rawValue:f.text,format:I0(f.format),cornerPoints:[{x:d,y:p},{x:b,y:C},{x:T,y:B},{x:w,y:I}]}})}catch(i){throw _c(i,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Vs=new WeakMap;const Ll=(t,n,i="error")=>{let c,f;const d=new Promise((p,b)=>{c=p,f=b,t.addEventListener(n,c),t.addEventListener(i,f)});return d.finally(()=>{t.removeEventListener(n,c),t.removeEventListener(i,f)}),d},Nc=t=>new Promise(n=>setTimeout(n,t));class J0 extends Error{constructor(){super("can't process cross-origin image"),this.name="DropImageFetchError"}}class Lf extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class eg extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class tg extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}const ng=t=>{let n=!1,i;return(...c)=>(n||(i=t(c),n=!0),i)};function Sr(t,n){if(t===!1)throw new Error(n!=null?n:"assertion failure")}function Dc(t){throw new Error("this code should be unreachable")}function rg(){return navigator.platform.toUpperCase().includes("MAC")}let Pf;async function ig(t){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new qs({formats:t});const n=await window.BarcodeDetector.getSupportedFormats(),i=t.filter(c=>!n.includes(c));return i.length>0?(console.debug("[vue-qrcode-reader] Native BarcodeDetector does not support formats ".concat(JSON.stringify(i),". Will use polyfill.")),new qs({formats:t})):rg()&&t.includes("pdf417")?(console.debug("[vue-qrcode-reader] Native BarcodeDetector is buggy for PDF417 codes on MacOS. Will use polyfill."),new qs({formats:t})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:t}))}async function Bf(t){Pf=await ig(t)}const sg=async(t,{detectHandler:n,locateHandler:i,minDelay:c,formats:f})=>{console.debug("[vue-qrcode-reader] start scanning"),await Bf(f);const d=p=>async b=>{if(t.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:C,contentBefore:w,lastScanHadContent:I}=p;if(b-C<c)window.requestAnimationFrame(d(p));else{const T=await Pf.detect(t),B=T.some(Q=>!w.includes(Q.rawValue));B&&n(T);const U=T.length>0;U&&i(T),!U&&I&&i(T);const ce={lastScanned:b,lastScanHadContent:U,contentBefore:B?T.map(Q=>Q.rawValue):w};window.requestAnimationFrame(d(ce))}}};d({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())},og=async t=>{if(t.startsWith("http")&&t.includes(location.host)===!1)throw new J0;const n=document.createElement("img");return n.src=t,await Ll(n,"load"),n},kf=async(t,n=["qr_code"])=>await new qs({formats:n}).detect(t),ag=async(t,n=["qr_code"])=>{const i=new qs({formats:n}),c=await og(t);return await i.detect(c)};var Ff={},Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.compactObject=Hf;Hn.deprecated=mg;var lg=Hn.detectBrowser=wg;Hn.disableLog=hg;Hn.disableWarnings=gg;Hn.extractVersion=Do;Hn.filterStats=xg;Hn.log=pg;Hn.walkStats=jo;Hn.wrapPeerConnectionEvent=dg;function cg(t,n,i){return n=ug(n),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function ug(t){var n=fg(t,"string");return pi(n)==="symbol"?n:String(n)}function fg(t,n){if(pi(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var c=i.call(t,n);if(pi(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function pi(t){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pi(t)}var Uf=!0,jf=!0;function Do(t,n,i){var c=t.match(n);return c&&c.length>=i&&parseInt(c[i],10)}function dg(t,n,i){if(t.RTCPeerConnection){var c=t.RTCPeerConnection.prototype,f=c.addEventListener;c.addEventListener=function(p,b){if(p!==n)return f.apply(this,arguments);var C=function(w){var I=i(w);I&&(b.handleEvent?b.handleEvent(I):b(I))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(b,C),f.apply(this,[p,C])};var d=c.removeEventListener;c.removeEventListener=function(p,b){if(p!==n||!this._eventMap||!this._eventMap[n])return d.apply(this,arguments);if(!this._eventMap[n].has(b))return d.apply(this,arguments);var C=this._eventMap[n].get(b);return this._eventMap[n].delete(b),this._eventMap[n].size===0&&delete this._eventMap[n],Object.keys(this._eventMap).length===0&&delete this._eventMap,d.apply(this,[p,C])},Object.defineProperty(c,"on"+n,{get:function(){return this["_on"+n]},set:function(p){this["_on"+n]&&(this.removeEventListener(n,this["_on"+n]),delete this["_on"+n]),p&&this.addEventListener(n,this["_on"+n]=p)},enumerable:!0,configurable:!0})}}function hg(t){return typeof t!="boolean"?new Error("Argument type: "+pi(t)+". Please use a boolean."):(Uf=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function gg(t){return typeof t!="boolean"?new Error("Argument type: "+pi(t)+". Please use a boolean."):(jf=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function pg(){if((typeof window>"u"?"undefined":pi(window))==="object"){if(Uf)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function mg(t,n){jf&&console.warn(t+" is deprecated, please use "+n+" instead.")}function wg(t){var n={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return n.browser="Not a browser.",n;var i=t.navigator;if(i.mozGetUserMedia)n.browser="firefox",n.version=Do(i.userAgent,/Firefox\/(\d+)\./,1);else if(i.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)n.browser="chrome",n.version=Do(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./))n.browser="safari",n.version=Do(i.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return n.browser="Not a supported browser.",n;return n}function Rc(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hf(t){return Rc(t)?Object.keys(t).reduce(function(n,i){var c=Rc(t[i]),f=c?Hf(t[i]):t[i],d=c&&!Object.keys(f).length;return f===void 0||d?n:Object.assign(n,cg({},i,f))},{}):t}function jo(t,n,i){!n||i.has(n.id)||(i.set(n.id,n),Object.keys(n).forEach(function(c){c.endsWith("Id")?jo(t,t.get(n[c]),i):c.endsWith("Ids")&&n[c].forEach(function(f){jo(t,t.get(f),i)})}))}function xg(t,n,i){var c=i?"outbound-rtp":"inbound-rtp",f=new Map;if(n===null)return f;var d=[];return t.forEach(function(p){p.type==="track"&&p.trackIdentifier===n.id&&d.push(p)}),d.forEach(function(p){t.forEach(function(b){b.type===c&&b.trackId===p.id&&jo(t,b,f)})}),f}Object.defineProperty(Ff,"__esModule",{value:!0});var yg=Ff.shimGetUserMedia=Ag,bg=Cg(Hn);function Vf(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,i=new WeakMap;return(Vf=function(c){return c?i:n})(t)}function Cg(t,n){if(t&&t.__esModule)return t;if(t===null||ci(t)!=="object"&&typeof t!="function")return{default:t};var i=Vf(n);if(i&&i.has(t))return i.get(t);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if(d!=="default"&&Object.prototype.hasOwnProperty.call(t,d)){var p=f?Object.getOwnPropertyDescriptor(t,d):null;p&&(p.get||p.set)?Object.defineProperty(c,d,p):c[d]=t[d]}return c.default=t,i&&i.set(t,c),c}function ci(t){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ci(t)}var Lc=bg.log;function Ag(t,n){var i=t&&t.navigator;if(i.mediaDevices){var c=function(C){if(ci(C)!=="object"||C.mandatory||C.optional)return C;var w={};return Object.keys(C).forEach(function(I){if(!(I==="require"||I==="advanced"||I==="mediaSource")){var T=ci(C[I])==="object"?C[I]:{ideal:C[I]};T.exact!==void 0&&typeof T.exact=="number"&&(T.min=T.max=T.exact);var B=function(ce,Q){return ce?ce+Q.charAt(0).toUpperCase()+Q.slice(1):Q==="deviceId"?"sourceId":Q};if(T.ideal!==void 0){w.optional=w.optional||[];var U={};typeof T.ideal=="number"?(U[B("min",I)]=T.ideal,w.optional.push(U),U={},U[B("max",I)]=T.ideal,w.optional.push(U)):(U[B("",I)]=T.ideal,w.optional.push(U))}T.exact!==void 0&&typeof T.exact!="number"?(w.mandatory=w.mandatory||{},w.mandatory[B("",I)]=T.exact):["min","max"].forEach(function(ce){T[ce]!==void 0&&(w.mandatory=w.mandatory||{},w.mandatory[B(ce,I)]=T[ce])})}}),C.advanced&&(w.optional=(w.optional||[]).concat(C.advanced)),w},f=function(C,w){if(n.version>=61)return w(C);if(C=JSON.parse(JSON.stringify(C)),C&&ci(C.audio)==="object"){var I=function(ce,Q,be){Q in ce&&!(be in ce)&&(ce[be]=ce[Q],delete ce[Q])};C=JSON.parse(JSON.stringify(C)),I(C.audio,"autoGainControl","googAutoGainControl"),I(C.audio,"noiseSuppression","googNoiseSuppression"),C.audio=c(C.audio)}if(C&&ci(C.video)==="object"){var T=C.video.facingMode;T=T&&(ci(T)==="object"?T:{ideal:T});var B=n.version<66;if(T&&(T.exact==="user"||T.exact==="environment"||T.ideal==="user"||T.ideal==="environment")&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!B)){delete C.video.facingMode;var U;if(T.exact==="environment"||T.ideal==="environment"?U=["back","rear"]:(T.exact==="user"||T.ideal==="user")&&(U=["front"]),U)return i.mediaDevices.enumerateDevices().then(function(ce){ce=ce.filter(function(be){return be.kind==="videoinput"});var Q=ce.find(function(be){return U.some(function(ye){return be.label.toLowerCase().includes(ye)})});return!Q&&ce.length&&U.includes("back")&&(Q=ce[ce.length-1]),Q&&(C.video.deviceId=T.exact?{exact:Q.deviceId}:{ideal:Q.deviceId}),C.video=c(C.video),Lc("chrome: "+JSON.stringify(C)),w(C)})}C.video=c(C.video)}return Lc("chrome: "+JSON.stringify(C)),w(C)},d=function(C){return n.version>=64?C:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[C.name]||C.name,message:C.message,constraint:C.constraint||C.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},p=function(C,w,I){f(C,function(T){i.webkitGetUserMedia(T,w,function(B){I&&I(d(B))})})};if(i.getUserMedia=p.bind(i),i.mediaDevices.getUserMedia){var b=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(C){return f(C,function(w){return b(w).then(function(I){if(w.audio&&!I.getAudioTracks().length||w.video&&!I.getVideoTracks().length)throw I.getTracks().forEach(function(T){T.stop()}),new DOMException("","NotFoundError");return I},function(I){return Promise.reject(d(I))})})}}}}var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});var Eg=Wf.shimGetUserMedia=Sg,vg=Ig(Hn);function zf(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,i=new WeakMap;return(zf=function(c){return c?i:n})(t)}function Ig(t,n){if(t&&t.__esModule)return t;if(t===null||ls(t)!=="object"&&typeof t!="function")return{default:t};var i=zf(n);if(i&&i.has(t))return i.get(t);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if(d!=="default"&&Object.prototype.hasOwnProperty.call(t,d)){var p=f?Object.getOwnPropertyDescriptor(t,d):null;p&&(p.get||p.set)?Object.defineProperty(c,d,p):c[d]=t[d]}return c.default=t,i&&i.set(t,c),c}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ls(t)}function Sg(t,n){var i=t&&t.navigator,c=t&&t.MediaStreamTrack;if(i.getUserMedia=function(C,w,I){vg.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(C).then(w,I)},!(n.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){var f=function(C,w,I){w in C&&!(I in C)&&(C[I]=C[w],delete C[w])},d=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(C){return ls(C)==="object"&&ls(C.audio)==="object"&&(C=JSON.parse(JSON.stringify(C)),f(C.audio,"autoGainControl","mozAutoGainControl"),f(C.audio,"noiseSuppression","mozNoiseSuppression")),d(C)},c&&c.prototype.getSettings){var p=c.prototype.getSettings;c.prototype.getSettings=function(){var C=p.apply(this,arguments);return f(C,"mozAutoGainControl","autoGainControl"),f(C,"mozNoiseSuppression","noiseSuppression"),C}}if(c&&c.prototype.applyConstraints){var b=c.prototype.applyConstraints;c.prototype.applyConstraints=function(C){return this.kind==="audio"&&ls(C)==="object"&&(C=JSON.parse(JSON.stringify(C)),f(C,"autoGainControl","mozAutoGainControl"),f(C,"noiseSuppression","mozNoiseSuppression")),b.apply(this,[C])}}}}var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.shimAudioContext=Bg;Pr.shimCallbacksAPI=Ng;Pr.shimConstraints=Xf;Pr.shimCreateOfferLegacy=Pg;var Tg=Pr.shimGetUserMedia=Dg;Pr.shimLocalStreamsAPI=Og;Pr.shimRTCIceServerUrls=Rg;Pr.shimRemoteStreamsAPI=Mg;Pr.shimTrackEventTransceiver=Lg;var Gf=_g(Hn);function Yf(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,i=new WeakMap;return(Yf=function(c){return c?i:n})(t)}function _g(t,n){if(t&&t.__esModule)return t;if(t===null||mi(t)!=="object"&&typeof t!="function")return{default:t};var i=Yf(n);if(i&&i.has(t))return i.get(t);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if(d!=="default"&&Object.prototype.hasOwnProperty.call(t,d)){var p=f?Object.getOwnPropertyDescriptor(t,d):null;p&&(p.get||p.set)?Object.defineProperty(c,d,p):c[d]=t[d]}return c.default=t,i&&i.set(t,c),c}function mi(t){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mi(t)}function Og(t){if(!(mi(t)!=="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){var n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(i){var c=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(i)||this._localStreams.push(i),i.getAudioTracks().forEach(function(f){return n.call(c,f,i)}),i.getVideoTracks().forEach(function(f){return n.call(c,f,i)})},t.RTCPeerConnection.prototype.addTrack=function(i){for(var c=this,f=arguments.length,d=new Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return d&&d.forEach(function(b){c._localStreams?c._localStreams.includes(b)||c._localStreams.push(b):c._localStreams=[b]}),n.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(i){var c=this;this._localStreams||(this._localStreams=[]);var f=this._localStreams.indexOf(i);if(f!==-1){this._localStreams.splice(f,1);var d=i.getTracks();this.getSenders().forEach(function(p){d.includes(p.track)&&c.removeTrack(p)})}})}}function Mg(t){if(!(mi(t)!=="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(i){var c=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=i),this.addEventListener("track",this._onaddstreampoly=function(f){f.streams.forEach(function(d){if(c._remoteStreams||(c._remoteStreams=[]),!c._remoteStreams.includes(d)){c._remoteStreams.push(d);var p=new Event("addstream");p.stream=d,c.dispatchEvent(p)}})})}});var n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var i=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(c){c.streams.forEach(function(f){if(i._remoteStreams||(i._remoteStreams=[]),!(i._remoteStreams.indexOf(f)>=0)){i._remoteStreams.push(f);var d=new Event("addstream");d.stream=f,i.dispatchEvent(d)}})}),n.apply(i,arguments)}}}function Ng(t){if(!(mi(t)!=="object"||!t.RTCPeerConnection)){var n=t.RTCPeerConnection.prototype,i=n.createOffer,c=n.createAnswer,f=n.setLocalDescription,d=n.setRemoteDescription,p=n.addIceCandidate;n.createOffer=function(C,w){var I=arguments.length>=2?arguments[2]:arguments[0],T=i.apply(this,[I]);return w?(T.then(C,w),Promise.resolve()):T},n.createAnswer=function(C,w){var I=arguments.length>=2?arguments[2]:arguments[0],T=c.apply(this,[I]);return w?(T.then(C,w),Promise.resolve()):T};var b=function(C,w,I){var T=f.apply(this,[C]);return I?(T.then(w,I),Promise.resolve()):T};n.setLocalDescription=b,b=function(C,w,I){var T=d.apply(this,[C]);return I?(T.then(w,I),Promise.resolve()):T},n.setRemoteDescription=b,b=function(C,w,I){var T=p.apply(this,[C]);return I?(T.then(w,I),Promise.resolve()):T},n.addIceCandidate=b}}function Dg(t){var n=t&&t.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){var i=n.mediaDevices,c=i.getUserMedia.bind(i);n.mediaDevices.getUserMedia=function(f){return c(Xf(f))}}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=(function(f,d,p){n.mediaDevices.getUserMedia(f).then(d,p)}).bind(n))}function Xf(t){return t&&t.video!==void 0?Object.assign({},t,{video:Gf.compactObject(t.video)}):t}function Rg(t){if(t.RTCPeerConnection){var n=t.RTCPeerConnection;t.RTCPeerConnection=function(i,c){if(i&&i.iceServers){for(var f=[],d=0;d<i.iceServers.length;d++){var p=i.iceServers[d];p.urls===void 0&&p.url?(Gf.deprecated("RTCIceServer.url","RTCIceServer.urls"),p=JSON.parse(JSON.stringify(p)),p.urls=p.url,delete p.url,f.push(p)):f.push(i.iceServers[d])}i.iceServers=f}return new n(i,c)},t.RTCPeerConnection.prototype=n.prototype,"generateCertificate"in n&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return n.generateCertificate}})}}function Lg(t){mi(t)==="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Pg(t){var n=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(i){if(i){typeof i.offerToReceiveAudio<"u"&&(i.offerToReceiveAudio=!!i.offerToReceiveAudio);var c=this.getTransceivers().find(function(d){return d.receiver.track.kind==="audio"});i.offerToReceiveAudio===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):i.offerToReceiveAudio===!0&&!c&&this.addTransceiver("audio",{direction:"recvonly"}),typeof i.offerToReceiveVideo<"u"&&(i.offerToReceiveVideo=!!i.offerToReceiveVideo);var f=this.getTransceivers().find(function(d){return d.receiver.track.kind==="video"});i.offerToReceiveVideo===!1&&f?f.direction==="sendrecv"?f.setDirection?f.setDirection("sendonly"):f.direction="sendonly":f.direction==="recvonly"&&(f.setDirection?f.setDirection("inactive"):f.direction="inactive"):i.offerToReceiveVideo===!0&&!f&&this.addTransceiver("video",{direction:"recvonly"})}return n.apply(this,arguments)}}function Bg(t){mi(t)!=="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const kg=ng(()=>{const t=lg(window);switch(t.browser){case"chrome":yg(window,t);break;case"firefox":Eg(window,t);break;case"safari":Tg(window,t);break;default:throw new Lf}});let cs=Promise.resolve({type:"stop",data:{}});async function Pc(t,n,i){var c,f,d;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(n)),window.isSecureContext!==!0)throw new eg;if(((c=navigator==null?void 0:navigator.mediaDevices)==null?void 0:c.getUserMedia)===void 0)throw new Lf;kg(),console.debug("[vue-qrcode-reader] calling getUserMedia");const p=await navigator.mediaDevices.getUserMedia({audio:!1,video:n});t.srcObject!==void 0?t.srcObject=p:t.mozSrcObject!==void 0?t.mozSrcObject=p:window.URL.createObjectURL?t.src=window.URL.createObjectURL(p):window.webkitURL?t.src=window.webkitURL.createObjectURL(p):t.src=p.id,t.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([Ll(t,"loadeddata"),Nc(6e3).then(()=>{throw new tg})]),console.debug("[vue-qrcode-reader] video element loaded"),await Nc(500);const[b]=p.getVideoTracks(),C=(d=(f=b==null?void 0:b.getCapabilities)==null?void 0:f.call(b))!=null?d:{};let w=!1;return i&&C.torch&&(await b.applyConstraints({advanced:[{torch:!0}]}),w=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:t,stream:p,capabilities:C,constraints:n,isTorchOn:w}}}async function Fg(t,{constraints:n,torch:i,restart:c=!1}){cs=cs.then(d=>{if(d.type==="start"){const{data:{videoEl:p,stream:b,constraints:C,isTorchOn:w}}=d;return!c&&t===p&&n===C&&i===w?d:$f(p,b,w).then(()=>Pc(t,n,i))}else if(d.type==="stop"||d.type==="failed")return Pc(t,n,i);Dc()}).catch(d=>(console.debug('[vue-qrcode-reader] starting camera failed with "'.concat(d,'"')),{type:"failed",error:d}));const f=await cs;if(f.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(f.type==="failed")throw f.error;if(f.type==="start")return f.data.capabilities;Dc()}async function $f(t,n,i){console.debug("[vue-qrcode-reader] stopping camera"),t.src="",t.srcObject=null,t.load(),await Ll(t,"error");for(const c of n.getTracks())i!=null||await c.applyConstraints({advanced:[{torch:!1}]}),n.removeTrack(c),c.stop();return{type:"stop",data:{}}}async function vo(){if(cs=cs.then(t=>{if(t.type==="stop"||t.type==="failed")return t;const{data:{videoEl:n,stream:i,isTorchOn:c}}=t;return $f(n,i,c)}),(await cs).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const Zf=_l({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(t,{emit:n}){const i=t,c=n,f=_i(i.constraints),d=_i(i.formats);li(()=>i.constraints,(ne,Z)=>{JSON.stringify(ne)!==JSON.stringify(Z)&&(f.value=ne)},{deep:!0}),li(()=>i.formats,(ne,Z)=>{JSON.stringify(ne)!==JSON.stringify(Z)&&(d.value=ne)},{deep:!0});const p=_i(),b=_i(),C=_i(),w=_i(!1),I=_i(!1);Xu(()=>{I.value=!0}),Ol(()=>{vo()});const T=Oo(()=>({torch:i.torch,constraints:f.value,shouldStream:I.value&&!i.paused}));li(T,async ne=>{const Z=C.value;Sr(Z!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const Ae=p.value;Sr(Ae!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const je=Ae.getContext("2d");if(Sr(je!==null,"if cavnas is defined, canvas 2d context should also be non-null"),ne.shouldStream){vo(),w.value=!1;try{const se=await Fg(Z,ne);I.value?(w.value=!0,c("camera-on",se)):await vo()}catch(se){c("error",se)}}else Ae.width=Z.videoWidth,Ae.height=Z.videoHeight,je.drawImage(Z,0,0,Z.videoWidth,Z.videoHeight),vo(),w.value=!1,c("camera-off")},{deep:!0}),li(d,async ne=>{I.value&&await Bf(ne)});const B=Oo(()=>T.value.shouldStream&&w.value);li(B,ne=>{if(ne){Sr(p.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),U(p.value),Sr(b.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),U(b.value);const Z=()=>i.track===void 0?500:40;Sr(C.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),sg(C.value,{detectHandler:Ae=>c("detect",Ae),formats:d.value,locateHandler:ce,minDelay:Z()})}});const U=ne=>{const Z=ne.getContext("2d");Sr(Z!==null,"canvas 2d context should always be non-null"),Z.clearRect(0,0,ne.width,ne.height)},ce=ne=>{const Z=b.value;Sr(Z!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const Ae=C.value;if(Sr(Ae!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),ne.length===0||i.track===void 0)U(Z);else{const je=Ae.offsetWidth,se=Ae.offsetHeight,Ve=Ae.videoWidth,le=Ae.videoHeight,jt=Math.max(je/Ve,se/le),ge=Ve*jt,ee=le*jt,pe=ge/Ve,Me=ee/le,z=(je-ge)/2,We=(se-ee)/2,xe=({x:rn,y:tt})=>({x:Math.floor(rn*pe),y:Math.floor(tt*Me)}),He=({x:rn,y:tt})=>({x:Math.floor(rn+z),y:Math.floor(tt+We)}),At=ne.map(rn=>{const{boundingBox:tt,cornerPoints:Pn}=rn,{x:Ht,y:Bn}=He(xe({x:tt.x,y:tt.y})),{x:Oe,y:rr}=xe({x:tt.width,y:tt.height});return{...rn,cornerPoints:Pn.map(vt=>He(xe(vt))),boundingBox:DOMRectReadOnly.fromRect({x:Ht,y:Bn,width:Oe,height:rr})}});Z.width=Ae.offsetWidth,Z.height=Ae.offsetHeight;const fn=Z.getContext("2d");Sr(fn!==null,"canvas 2d context should always be non-null"),i.track(At,fn)}},Q={width:"100%",height:"100%",position:"relative","z-index":"0"},be={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},ye={width:"100%",height:"100%","object-fit":"cover"},ve=Oo(()=>B.value?ye:{...ye,visibility:"hidden",position:"absolute"});return(ne,Z)=>(Kn(),Or("div",{style:Q},[Ze("video",{ref_key:"videoRef",ref:C,style:na(ve.value),autoplay:"",muted:"",playsinline:""},null,4),Gh(Ze("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:p,style:ye},null,512),[[e0,!B.value]]),Ze("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:b,style:be},null,512),Ze("div",{style:be},[$u(ne.$slots,"default")])]))}}),Ug=_l({__name:"QrcodeCapture",props:{formats:{default:()=>["qr_code"]}},emits:["detect"],setup(t,{emit:n}){const i=t,c=n,f=d=>{if(!(!(d.target instanceof HTMLInputElement)||!d.target.files))for(const p of Array.from(d.target.files))kf(p,i.formats).then(b=>{c("detect",b)})};return(d,p)=>(Kn(),Or("input",{onChange:f,type:"file",name:"image",accept:"image/*",capture:"environment",multiple:""},null,32))}}),jg=_l({__name:"QrcodeDropZone",props:{formats:{default:()=>["qr_code"]}},emits:["detect","dragover","error"],setup(t,{emit:n}){const i=t,c=n,f=async b=>{try{const C=await b;c("detect",C)}catch(C){c("error",C)}},d=b=>{c("dragover",b)},p=({dataTransfer:b})=>{if(!b)return;d(!1);const C=[...Array.from(b.files)],w=b.getData("text/uri-list");C.forEach(I=>{f(kf(I,i.formats))}),w!==""&&f(ag(w,i.formats))};return(b,C)=>(Kn(),Or("div",{onDrop:Eo(p,["prevent","stop"]),onDragenter:C[0]||(C[0]=Eo(w=>d(!0),["prevent","stop"])),onDragleave:C[1]||(C[1]=Eo(w=>d(!1),["prevent","stop"])),onDragover:C[2]||(C[2]=Eo(()=>{},["prevent","stop"]))},[$u(b.$slots,"default")],32))}});function Hg(t){t.component("qrcode-stream",Zf),t.component("qrcode-capture",Ug),t.component("qrcode-drop-zone",jg)}const Vg={install:Hg};var Se;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var Bc=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),kc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(kc||(kc={}));function Wg(t){return Object.values(Se).includes(t)}var qr;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(qr||(qr={}));var dr=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[qr.SCAN_TYPE_CAMERA,qr.SCAN_TYPE_FILE],t}(),qf=function(){function t(n,i){this.format=n,this.formatName=i}return t.prototype.toString=function(){return this.formatName},t.create=function(n){if(!Bc.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new t(n,Bc.get(n))},t}(),Fc=function(){function t(){}return t.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},t.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},t}(),cl;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(cl||(cl={}));var Kf=function(){function t(){}return t.createFrom=function(n){return{errorMessage:n,type:cl.UNKWOWN_ERROR}},t}(),Qf=function(){function t(n){this.verbose=n}return t.prototype.log=function(n){this.verbose&&console.log(n)},t.prototype.warn=function(n){this.verbose&&console.warn(n)},t.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},t.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},t}();function _r(t){return typeof t>"u"||t===null}function zg(t,n,i){return t>i?i:t<n?n:t}var ns=function(){function t(){}return t.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},t.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Ct=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(n){return"Last Match: ".concat(n)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Uc=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),Jf=function(){function t(){}return t.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var c=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(f),p=Object.keys(n),b=0,C=p;b<C.length;b++){var w=C[b];if(d.has(w))return i.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},t}(),Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ws={exports:{}},Yg=Ws.exports,jc;function Xg(){return jc||(jc=1,function(t,n){(function(i,c){c(n)})(Yg,function(i){function c(A){return A==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var r in e)e.hasOwnProperty(r)&&(A[r]=e[r])};function d(A,e){f(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function p(A,e){var r=Object.setPrototypeOf;r?r(A,e):A.__proto__=e}function b(A,e){e===void 0&&(e=A.constructor);var r=Error.captureStackTrace;r&&r(A,e)}var C=function(A){d(e,A);function e(r){var s=this.constructor,o=A.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),p(o,s.prototype),b(o),o}return e}(Error);class w extends C{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}w.kind="Exception";class I extends w{}I.kind="ArgumentException";class T extends w{}T.kind="IllegalArgumentException";class B{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,s,o){const a=this.binarizer.getLuminanceSource().crop(e,r,s,o);return new B(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class U extends w{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class ce{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Q{static arraycopy(e,r,s,o,a){for(;a--;)s[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}class be extends w{}be.kind="IndexOutOfBoundsException";class ye extends be{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}ye.kind="ArrayIndexOutOfBoundsException";class ve{static fill(e,r){for(let s=0,o=e.length;s<o;s++)e[s]=r}static fillWithin(e,r,s,o){ve.rangeCheck(e.length,r,s);for(let a=r;a<s;a++)e[a]=o}static rangeCheck(e,r,s){if(r>s)throw new T("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new ye(r);if(s>e)throw new ye(s)}static asList(...e){return e}static create(e,r,s){return Array.from({length:e}).map(a=>Array.from({length:r}).fill(s))}static createInt32Array(e,r,s){return Array.from({length:e}).map(a=>Int32Array.from({length:r}).fill(s))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let s=0,o=e.length;s<o;s++)if(e[s]!==r[s])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const s of e)r=31*r+s;return r}static fillUint8Array(e,r){for(let s=0;s!==e.length;s++)e[s]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const s=new Uint8Array(r);return s.set(e),s}return e.slice(0,r)}static copyOfRange(e,r,s){const o=s-r,a=new Int32Array(o);return Q.arraycopy(e,r,a,0,o),a}static binarySearch(e,r,s){s===void 0&&(s=ve.numberComparator);let o=0,a=e.length-1;for(;o<=a;){const l=a+o>>1,u=s(r,e[l]);if(u>0)o=l+1;else if(u<0)a=l-1;else return l}return-o-1}static numberComparator(e,r){return e-r}}class ne{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let s=31;return r=e<<16,r!==0&&(s-=16,e=r),r=e<<8,r!==0&&(s-=8,e=r),r=e<<4,r!==0&&(s-=4,e=r),r=e<<2,r!==0&&(s-=2,e=r),s-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}ne.MIN_VALUE_32_BITS=-2147483648,ne.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=Z.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=Z.makeArray(e);Q.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const s=this.bits;let o=Math.floor(e/32),a=s[o];a&=~((1<<(e&31))-1);const l=s.length;for(;a===0;){if(++o===l)return r;a=s[o]}const u=o*32+ne.numberOfTrailingZeros(a);return u>r?r:u}getNextUnset(e){const r=this.size;if(e>=r)return r;const s=this.bits;let o=Math.floor(e/32),a=~s[o];a&=~((1<<(e&31))-1);const l=s.length;for(;a===0;){if(++o===l)return r;a=~s[o]}const u=o*32+ne.numberOfTrailingZeros(a);return u>r?r:u}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new T;if(r===e)return;r--;const s=Math.floor(e/32),o=Math.floor(r/32),a=this.bits;for(let l=s;l<=o;l++){const u=l>s?0:e&31,g=(2<<(l<o?31:r&31))-(1<<u);a[l]|=g}}clear(){const e=this.bits.length,r=this.bits;for(let s=0;s<e;s++)r[s]=0}isRange(e,r,s){if(r<e||e<0||r>this.size)throw new T;if(r===e)return!0;r--;const o=Math.floor(e/32),a=Math.floor(r/32),l=this.bits;for(let u=o;u<=a;u++){const h=u>o?0:e&31,y=(2<<(u<a?31:r&31))-(1<<h)&4294967295;if((l[u]&y)!==(s?y:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((e>>s-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(e.get(s))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=e.bits[s]}toBytes(e,r,s,o){for(let a=0;a<o;a++){let l=0;for(let u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;r[s+a]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let a=0;a<s;a++){let l=o[a];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[r-a]=l}if(this.size!==s*32){const a=s*32-this.size;let l=e[0]>>>a;for(let u=1;u<s;u++){const h=e[u];l|=h<<32-a,e[u-1]=l,l=h>>>a}e[s-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Z))return!1;const r=e;return this.size===r.size&&ve.equals(this.bits,r.bits)}hashCode(){return 31*this.size+ve.hashCode(this.bits)}toString(){let e="";for(let r=0,s=this.size;r<s;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new Z(this.size,this.bits.slice())}}var Ae;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ae||(Ae={}));var je=Ae;class se extends w{static getFormatInstance(){return new se}}se.kind="FormatException";var Ve;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Ve||(Ve={}));class le{constructor(e,r,s,...o){this.valueIdentifier=e,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,le.VALUE_IDENTIFIER_TO_ECI.set(e,this),le.NAME_TO_ECI.set(s,this);const a=this.values;for(let l=0,u=a.length;l!==u;l++){const h=a[l];le.VALUES_TO_ECI.set(h,this)}for(const l of o)le.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new se("incorect value");const r=le.VALUES_TO_ECI.get(e);if(r===void 0)throw new se("incorect value");return r}static getCharacterSetECIByName(e){const r=le.NAME_TO_ECI.get(e);if(r===void 0)throw new se("incorect value");return r}equals(e){if(!(e instanceof le))return!1;const r=e;return this.getName()===r.getName()}}le.VALUE_IDENTIFIER_TO_ECI=new Map,le.VALUES_TO_ECI=new Map,le.NAME_TO_ECI=new Map,le.Cp437=new le(Ve.Cp437,Int32Array.from([0,2]),"Cp437"),le.ISO8859_1=new le(Ve.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),le.ISO8859_2=new le(Ve.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),le.ISO8859_3=new le(Ve.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),le.ISO8859_4=new le(Ve.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),le.ISO8859_5=new le(Ve.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),le.ISO8859_6=new le(Ve.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),le.ISO8859_7=new le(Ve.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),le.ISO8859_8=new le(Ve.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),le.ISO8859_9=new le(Ve.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),le.ISO8859_10=new le(Ve.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),le.ISO8859_11=new le(Ve.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),le.ISO8859_13=new le(Ve.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),le.ISO8859_14=new le(Ve.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),le.ISO8859_15=new le(Ve.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),le.ISO8859_16=new le(Ve.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),le.SJIS=new le(Ve.SJIS,20,"SJIS","Shift_JIS"),le.Cp1250=new le(Ve.Cp1250,21,"Cp1250","windows-1250"),le.Cp1251=new le(Ve.Cp1251,22,"Cp1251","windows-1251"),le.Cp1252=new le(Ve.Cp1252,23,"Cp1252","windows-1252"),le.Cp1256=new le(Ve.Cp1256,24,"Cp1256","windows-1256"),le.UnicodeBigUnmarked=new le(Ve.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),le.UTF8=new le(Ve.UTF8,26,"UTF8","UTF-8"),le.ASCII=new le(Ve.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),le.Big5=new le(Ve.Big5,28,"Big5"),le.GB18030=new le(Ve.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),le.EUC_KR=new le(Ve.EUC_KR,30,"EUC_KR","EUC-KR");class jt extends w{}jt.kind="UnsupportedOperationException";class ge{static decode(e,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)}static shouldDecodeOnFallback(e){return!ge.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof le?e:le.getCharacterSetECIByName(e)}static decodeFallback(e,r){const s=this.encodingCharacterSet(r);if(ge.isDecodeFallbackSupported(s)){let o="";for(let a=0,l=e.length;a<l;a++){let u=e[a].toString(16);u.length<2&&(u="0"+u),o+="%"+u}return decodeURIComponent(o)}if(s.equals(le.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new jt("Encoding ".concat(this.encodingName(r)," not supported by fallback."))}static isDecodeFallbackSupported(e){return e.equals(le.UTF8)||e.equals(le.ISO8859_1)||e.equals(le.ASCII)}static encodeFallback(e){const s=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let a=0;a<s.length;a++)o.push(s[a].charCodeAt(0));return new Uint8Array(o)}}class ee{static castAsNonUtf8Char(e,r=null){const s=r?r.getName():this.ISO88591;return ge.decode(new Uint8Array([e]),s)}static guessEncoding(e,r){if(r!=null&&r.get(je.CHARACTER_SET)!==void 0)return r.get(je.CHARACTER_SET).toString();const s=e.length;let o=!0,a=!0,l=!0,u=0,h=0,g=0,y=0,E=0,S=0,M=0,R=0,L=0,k=0,G=0;const ue=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let de=0;de<s&&(o||a||l);de++){const ae=e[de]&255;l&&(u>0?(ae&128)===0?l=!1:u--:(ae&128)!==0&&((ae&64)===0?l=!1:(u++,(ae&32)===0?h++:(u++,(ae&16)===0?g++:(u++,(ae&8)===0?y++:l=!1))))),o&&(ae>127&&ae<160?o=!1:ae>159&&(ae<192||ae===215||ae===247)&&G++),a&&(E>0?ae<64||ae===127||ae>252?a=!1:E--:ae===128||ae===160||ae>239?a=!1:ae>160&&ae<224?(S++,R=0,M++,M>L&&(L=M)):ae>127?(E++,M=0,R++,R>k&&(k=R)):(M=0,R=0))}return l&&u>0&&(l=!1),a&&E>0&&(a=!1),l&&(ue||h+g+y>0)?ee.UTF8:a&&(ee.ASSUME_SHIFT_JIS||L>=3||k>=3)?ee.SHIFT_JIS:o&&a?L===2&&S===2||G*10>=s?ee.SHIFT_JIS:ee.ISO88591:o?ee.ISO88591:a?ee.SHIFT_JIS:l?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let s=-1;function o(l,u,h,g,y,E){if(l==="%%")return"%";if(r[++s]===void 0)return;l=g?parseInt(g.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,M;switch(E){case"s":M=r[s];break;case"c":M=r[s][0];break;case"f":M=parseFloat(r[s]).toFixed(l);break;case"p":M=parseFloat(r[s]).toPrecision(l);break;case"e":M=parseFloat(r[s]).toExponential(l);break;case"x":M=parseInt(r[s]).toString(S||16);break;case"d":M=parseFloat(parseInt(r[s],S||10).toPrecision(l)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(S);let R=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;M.length<R;)M=u!==void 0?M+L:L+M;return M}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}static getBytes(e,r){return ge.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}ee.SHIFT_JIS=le.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=le.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=le.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class pe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,s){for(let o=r;r<r+s;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Me{constructor(e,r,s,o){if(this.width=e,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=e),this.height=r,e<1||r<1)throw new T("Both dimensions must be greater than 0");s==null&&(s=Math.floor((e+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,s=e[0].length,o=new Me(s,r);for(let a=0;a<r;a++){const l=e[a];for(let u=0;u<s;u++)l[u]&&o.set(u,a)}return o}static parseFromString(e,r,s){if(e===null)throw new T("stringRepresentation cannot be null");const o=new Array(e.length);let a=0,l=0,u=-1,h=0,g=0;for(;g<e.length;)if(e.charAt(g)==="\n"||e.charAt(g)==="\r"){if(a>l){if(u===-1)u=a-l;else if(a-l!==u)throw new T("row lengths do not match");l=a,h++}g++}else if(e.substring(g,g+r.length)===r)g+=r.length,o[a]=!0,a++;else if(e.substring(g,g+s.length)===s)g+=s.length,o[a]=!1,a++;else throw new T("illegal character encountered: "+e.substring(g));if(a>l){if(u===-1)u=a-l;else if(a-l!==u)throw new T("row lengths do not match");h++}const y=new Me(u,h);for(let E=0;E<a;E++)o[E]&&y.set(Math.floor(E%u),Math.floor(E/u));return y}get(e,r){const s=r*this.rowSize+Math.floor(e/32);return(this.bits[s]>>>(e&31)&1)!==0}set(e,r){const s=r*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(e&31)&4294967295}unset(e,r){const s=r*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(e&31)&4294967295)}flip(e,r){const s=r*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const r=new Z(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let a=0,l=this.height;a<l;a++){const u=a*s,h=e.getRow(a,r).getBitArray();for(let g=0;g<s;g++)o[u+g]^=h[g]}}clear(){const e=this.bits,r=e.length;for(let s=0;s<r;s++)e[s]=0}setRegion(e,r,s,o){if(r<0||e<0)throw new T("Left and top must be nonnegative");if(o<1||s<1)throw new T("Height and width must be at least 1");const a=e+s,l=r+o;if(l>this.height||a>this.width)throw new T("The region must fit inside the matrix");const u=this.rowSize,h=this.bits;for(let g=r;g<l;g++){const y=g*u;for(let E=e;E<a;E++)h[y+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new Z(this.width):r.clear();const s=this.rowSize,o=this.bits,a=e*s;for(let l=0;l<s;l++)r.setBulk(l*32,o[a+l]);return r}setRow(e,r){Q.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let s=new Z(e),o=new Z(e);for(let a=0,l=Math.floor((r+1)/2);a<l;a++)s=this.getRow(a,s),o=this.getRow(r-1-a,o),s.reverse(),o.reverse(),this.setRow(a,o),this.setRow(r-1-a,s)}getEnclosingRectangle(){const e=this.width,r=this.height,s=this.rowSize,o=this.bits;let a=e,l=r,u=-1,h=-1;for(let g=0;g<r;g++)for(let y=0;y<s;y++){const E=o[g*s+y];if(E!==0){if(g<l&&(l=g),g>h&&(h=g),y*32<a){let S=0;for(;(E<<31-S&4294967295)===0;)S++;y*32+S<a&&(a=y*32+S)}if(y*32+31>u){let S=31;for(;!(E>>>S);)S--;y*32+S>u&&(u=y*32+S)}}}return u<a||h<l?null:Int32Array.from([a,l,u-a+1,h-l+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/e;let a=s%e*32;const l=r[s];let u=0;for(;(l<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/e);let a=Math.floor(s%e)*32;const l=r[s];let u=31;for(;!(l>>>u);)u--;return a+=u,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Me))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ve.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ve.hashCode(this.bits),e}toString(e="X ",r="  ",s="\n"){return this.buildToString(e,r,s)}buildToString(e,r,s){let o=new pe;for(let a=0,l=this.height;a<l;a++){for(let u=0,h=this.width;u<h;u++)o.append(this.get(u,a)?e:r);o.append(s)}return o.toString()}clone(){return new Me(this.width,this.height,this.rowSize,this.bits.slice())}}class z extends w{static getNotFoundInstance(){return new z}}z.kind="NotFoundException";class We extends ce{constructor(e){super(e),this.luminances=We.EMPTY,this.buckets=new Int32Array(We.LUMINANCE_BUCKETS)}getBlackRow(e,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new Z(o):r.clear(),this.initArrays(o);const a=s.getRow(e,this.luminances),l=this.buckets;for(let h=0;h<o;h++)l[(a[h]&255)>>We.LUMINANCE_SHIFT]++;const u=We.estimateBlackPoint(l);if(o<3)for(let h=0;h<o;h++)(a[h]&255)<u&&r.set(h);else{let h=a[0]&255,g=a[1]&255;for(let y=1;y<o-1;y++){const E=a[y+1]&255;(g*4-h-E)/2<u&&r.set(y),h=g,g=E}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),s=e.getHeight(),o=new Me(r,s);this.initArrays(r);const a=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(s*h/5),y=e.getRow(g,this.luminances),E=Math.floor(r*4/5);for(let S=Math.floor(r/5);S<E;S++){const M=y[S]&255;a[M>>We.LUMINANCE_SHIFT]++}}const l=We.estimateBlackPoint(a),u=e.getMatrix();for(let h=0;h<s;h++){const g=h*r;for(let y=0;y<r;y++)(u[g+y]&255)<l&&o.set(y,h)}return o}createBinarizer(e){return new We(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let s=0;s<We.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(e){const r=e.length;let s=0,o=0,a=0;for(let y=0;y<r;y++)e[y]>a&&(o=y,a=e[y]),e[y]>s&&(s=e[y]);let l=0,u=0;for(let y=0;y<r;y++){const E=y-o,S=e[y]*E*E;S>u&&(l=y,u=S)}if(o>l){const y=o;o=l,l=y}if(l-o<=r/16)throw new z;let h=l-1,g=-1;for(let y=l-1;y>o;y--){const E=y-o,S=E*E*(l-y)*(s-e[y]);S>g&&(h=y,g=S)}return h<<We.LUMINANCE_SHIFT}}We.LUMINANCE_BITS=5,We.LUMINANCE_SHIFT=8-We.LUMINANCE_BITS,We.LUMINANCE_BUCKETS=1<<We.LUMINANCE_BITS,We.EMPTY=Uint8ClampedArray.from([0]);class xe extends We{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),s=e.getHeight();if(r>=xe.MINIMUM_DIMENSION&&s>=xe.MINIMUM_DIMENSION){const o=e.getMatrix();let a=r>>xe.BLOCK_SIZE_POWER;(r&xe.BLOCK_SIZE_MASK)!==0&&a++;let l=s>>xe.BLOCK_SIZE_POWER;(s&xe.BLOCK_SIZE_MASK)!==0&&l++;const u=xe.calculateBlackPoints(o,a,l,r,s),h=new Me(r,s);xe.calculateThresholdForBlock(o,a,l,r,s,u,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new xe(e)}static calculateThresholdForBlock(e,r,s,o,a,l,u){const h=a-xe.BLOCK_SIZE,g=o-xe.BLOCK_SIZE;for(let y=0;y<s;y++){let E=y<<xe.BLOCK_SIZE_POWER;E>h&&(E=h);const S=xe.cap(y,2,s-3);for(let M=0;M<r;M++){let R=M<<xe.BLOCK_SIZE_POWER;R>g&&(R=g);const L=xe.cap(M,2,r-3);let k=0;for(let ue=-2;ue<=2;ue++){const de=l[S+ue];k+=de[L-2]+de[L-1]+de[L]+de[L+1]+de[L+2]}const G=k/25;xe.thresholdBlock(e,R,E,G,o,u)}}}static cap(e,r,s){return e<r?r:e>s?s:e}static thresholdBlock(e,r,s,o,a,l){for(let u=0,h=s*a+r;u<xe.BLOCK_SIZE;u++,h+=a)for(let g=0;g<xe.BLOCK_SIZE;g++)(e[h+g]&255)<=o&&l.set(r+g,s+u)}static calculateBlackPoints(e,r,s,o,a){const l=a-xe.BLOCK_SIZE,u=o-xe.BLOCK_SIZE,h=new Array(s);for(let g=0;g<s;g++){h[g]=new Int32Array(r);let y=g<<xe.BLOCK_SIZE_POWER;y>l&&(y=l);for(let E=0;E<r;E++){let S=E<<xe.BLOCK_SIZE_POWER;S>u&&(S=u);let M=0,R=255,L=0;for(let G=0,ue=y*o+S;G<xe.BLOCK_SIZE;G++,ue+=o){for(let de=0;de<xe.BLOCK_SIZE;de++){const ae=e[ue+de]&255;M+=ae,ae<R&&(R=ae),ae>L&&(L=ae)}if(L-R>xe.MIN_DYNAMIC_RANGE)for(G++,ue+=o;G<xe.BLOCK_SIZE;G++,ue+=o)for(let de=0;de<xe.BLOCK_SIZE;de++)M+=e[ue+de]&255}let k=M>>xe.BLOCK_SIZE_POWER*2;if(L-R<=xe.MIN_DYNAMIC_RANGE&&(k=R/2,g>0&&E>0)){const G=(h[g-1][E]+2*h[g][E-1]+h[g-1][E-1])/4;R<G&&(k=G)}h[g][E]=k}}return h}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class He{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,s,o){throw new jt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new jt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new jt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new pe;for(let s=0;s<this.height;s++){const o=this.getRow(s,e);for(let a=0;a<this.width;a++){const l=o[a]&255;let u;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",r.append(u)}r.append("\n")}return r.toString()}}class At extends He{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const s=this.delegate.getRow(e,r),o=this.getWidth();for(let a=0;a<o;a++)s[a]=255-(s[a]&255);return s}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(e[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,s,o){return new At(this.delegate.crop(e,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new At(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new At(this.delegate.rotateCounterClockwise45())}}class fn extends He{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fn.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return fn.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,s){const o=new Uint8ClampedArray(r*s);for(let a=0,l=0,u=e.length;a<u;a+=4,l++){let h;if(e[a+3]===0)h=255;else{const y=e[a],E=e[a+1],S=e[a+2];h=306*y+601*E+117*S+512>>10}o[l]=h}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const s=this.getWidth(),o=e*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,s,o){return super.crop(e,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=e*fn.DEGREE_TO_RADIANS,a=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*l),h=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*l);return r.width=u,r.height=h,s.translate(u/2,h/2),s.rotate(o),s.drawImage(this.canvas,a/-2,l/-2),this.buffer=fn.makeBufferFromCanvasImageData(r),this}invert(){return new At(this)}}fn.DEGREE_TO_RADIANS=Math.PI/180;class rn{constructor(e,r,s){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var tt=(globalThis||Io||self||window||void 0)&&(globalThis||Io||self||window||void 0).__awaiter||function(A,e,r,s){function o(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(y){try{g(s.next(y))}catch(E){l(E)}}function h(y){try{g(s.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):o(y.value).then(u,h)}g((s=s.apply(A,e||[])).next())})};class Pn{constructor(e,r=500,s){this.reader=e,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return tt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of e){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const a=s.deviceId||s.id,l=s.label||"Video device ".concat(r.length+1),u=s.groupId,h={deviceId:a,label:l,kind:o,groupId:u};r.push(h)}return r})}getVideoInputDevices(){return tt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new rn(r.deviceId,r.label))})}findDeviceById(e){return tt(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return tt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return tt(this,void 0,void 0,function*(){this.reset();let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return tt(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(e,r){return tt(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(e,r,s){return tt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,s)})}decodeFromVideoDevice(e,r,s){return tt(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,r,s)})}decodeFromConstraints(e,r,s){return tt(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(e,r,s){return tt(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return tt(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,e),this.videoElement=s,this.stream=e,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(e){return new Promise((r,s)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return tt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch(r){console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const s=document.getElementById(e);if(!s)throw new I("element with id '".concat(e,"' not found"));if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new I("element with id '".concat(e,"' must be an ").concat(r," element"));return s}decodeFromImage(e,r){if(!e&&!r)throw new I("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new I("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,s){if(e===void 0&&r===void 0)throw new I("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(e,s)}decodeFromImageElement(e){if(!e)throw new I("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(e){if(!e)throw new I("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=e,s}decodeFromVideoUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=e,s}decodeFromVideoUrlContinuously(e,r){if(!e)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=e,o}_decodeOnLoadImage(e){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,s),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return tt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return tt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(a,l)=>{if(this._stopAsyncDecode){l(new z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);a(u)}catch(u){const h=r&&u instanceof z,y=(u instanceof U||u instanceof se)&&s;if(h||y)return setTimeout(o,this._timeBetweenDecodingAttempts,a,l);l(u)}};return new Promise((a,l)=>o(a,l))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const a=o instanceof U||o instanceof se,l=o instanceof z;(a||l)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,s){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),s=new fn(r),o=new xe(s);return new B(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch(s){e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch(r){e.src=""}this.videoElement.removeAttribute("src")}}class Ht{constructor(e,r,s=r==null?0:8*r.length,o,a,l=Q.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=a,this.timestamp=l,this.text=e,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=a,this.resultMetadata=null,l==null?this.timestamp=Q.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const s=new Array(r.length+e.length);Q.arraycopy(r,0,s,0,r.length),Q.arraycopy(e,0,s,r.length,e.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Bn;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Bn||(Bn={}));var Oe=Bn,rr;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rr||(rr={}));var vt=rr;class mr{constructor(e,r,s,o,a=-1,l=-1){this.rawBytes=e,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Vn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class sn{constructor(e,r){if(r.length===0)throw new T;this.field=e;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),Q.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(e===1){s=0;for(let l=0,u=r.length;l!==u;l++){const h=r[l];s=Vn.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,a=this.field;for(let l=1;l<o;l++)s=Vn.addOrSubtract(a.multiply(e,s),r[l]);return s}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,s=e.coefficients;if(r.length>s.length){const l=r;r=s,s=l}let o=new Int32Array(s.length);const a=s.length-r.length;Q.arraycopy(s,0,o,0,a);for(let l=a;l<s.length;l++)o[l]=Vn.addOrSubtract(r[l-a],s[l]);return new sn(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=e.coefficients,a=o.length,l=new Int32Array(s+a-1),u=this.field;for(let h=0;h<s;h++){const g=r[h];for(let y=0;y<a;y++)l[h+y]=Vn.addOrSubtract(l[h+y],u.multiply(g,o[y]))}return new sn(u,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),a=this.coefficients;for(let l=0;l<r;l++)o[l]=s.multiply(a[l],e);return new sn(s,o)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,a=new Int32Array(o+e),l=this.field;for(let u=0;u<o;u++)a[u]=l.multiply(s[u],r);return new sn(l,a)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const a=e.getCoefficient(e.getDegree()),l=r.inverse(a);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const u=o.getDegree()-e.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),l),g=e.multiplyByMonomial(u,h),y=r.buildMonomial(u,h);s=s.addOrSubtract(y),o=o.addOrSubtract(g)}return[s,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class N extends w{}N.kind="ArithmeticException";class D extends Vn{constructor(e,r,s){super(),this.primitive=e,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let a=1;for(let u=0;u<r;u++)o[u]=a,a*=2,a>=r&&(a^=e,a&=r-1);this.expTable=o;const l=new Int32Array(r);for(let u=0;u<r-1;u++)l[o[u]]=u;this.logTable=l,this.zero=new sn(this,Int32Array.from([0])),this.one=new sn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;const s=new Int32Array(e+1);return s[0]=r,new sn(this,s)}inverse(e){if(e===0)throw new N;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ne.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}D.AZTEC_DATA_12=new D(4201,4096,1),D.AZTEC_DATA_10=new D(1033,1024,1),D.AZTEC_DATA_6=new D(67,64,1),D.AZTEC_PARAM=new D(19,16,1),D.QR_CODE_FIELD_256=new D(285,256,0),D.DATA_MATRIX_FIELD_256=new D(301,256,1),D.AZTEC_DATA_8=D.DATA_MATRIX_FIELD_256,D.MAXICODE_FIELD_64=D.AZTEC_DATA_6;class X extends w{}X.kind="ReedSolomonException";class J extends w{}J.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,r){const s=this.field,o=new sn(s,e),a=new Int32Array(r);let l=!0;for(let M=0;M<r;M++){const R=o.evaluateAt(s.exp(M+s.getGeneratorBase()));a[a.length-1-M]=R,R!==0&&(l=!1)}if(l)return;const u=new sn(s,a),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),u,r),g=h[0],y=h[1],E=this.findErrorLocations(g),S=this.findErrorMagnitudes(y,E);for(let M=0;M<E.length;M++){const R=e.length-1-s.log(E[M]);if(R<0)throw new X("Bad error location");e[R]=D.addOrSubtract(e[R],S[M])}}runEuclideanAlgorithm(e,r,s){if(e.getDegree()<r.getDegree()){const M=e;e=r,r=M}const o=this.field;let a=e,l=r,u=o.getZero(),h=o.getOne();for(;l.getDegree()>=(s/2|0);){let M=a,R=u;if(a=l,u=h,a.isZero())throw new X("r_{i-1} was zero");l=M;let L=o.getZero();const k=a.getCoefficient(a.getDegree()),G=o.inverse(k);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){const ue=l.getDegree()-a.getDegree(),de=o.multiply(l.getCoefficient(l.getDegree()),G);L=L.addOrSubtract(o.buildMonomial(ue,de)),l=l.addOrSubtract(a.multiplyByMonomial(ue,de))}if(h=L.multiply(u).addOrSubtract(R),l.getDegree()>=a.getDegree())throw new J("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new X("sigmaTilde(0) was zero");const y=o.inverse(g),E=h.multiplyScalar(y),S=l.multiplyScalar(y);return[E,S]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const a=this.field;for(let l=1;l<a.getSize()&&o<r;l++)e.evaluateAt(l)===0&&(s[o]=a.inverse(l),o++);if(o!==r)throw new X("Error locator degree does not match number of roots");return s}findErrorMagnitudes(e,r){const s=r.length,o=new Int32Array(s),a=this.field;for(let l=0;l<s;l++){const u=a.inverse(r[l]);let h=1;for(let g=0;g<s;g++)if(l!==g){const y=a.multiply(r[g],u),E=(y&1)===0?y|1:y&-2;h=a.multiply(h,E)}o[l]=a.multiply(e.evaluateAt(u),a.inverse(h)),a.getGeneratorBase()!==0&&(o[l]=a.multiply(o[l],u))}return o}}var q;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(q||(q={}));class oe{decode(e){this.ddata=e;let r=e.getBits(),s=this.extractBits(r),o=this.correctBits(s),a=oe.convertBoolArrayToByteArray(o),l=oe.getEncodedData(o),u=new mr(a,l,null,null);return u.setNumBits(o.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,s=q.UPPER,o=q.UPPER,a="",l=0;for(;l<r;)if(o===q.BINARY){if(r-l<5)break;let u=oe.readCode(e,l,5);if(l+=5,u===0){if(r-l<11)break;u=oe.readCode(e,l,11)+31,l+=11}for(let h=0;h<u;h++){if(r-l<8){l=r;break}const g=oe.readCode(e,l,8);a+=ee.castAsNonUtf8Char(g),l+=8}o=s}else{let u=o===q.DIGIT?4:5;if(r-l<u)break;let h=oe.readCode(e,l,u);l+=u;let g=oe.getCharacter(o,h);g.startsWith("CTRL_")?(s=o,o=oe.getTable(g.charAt(5)),g.charAt(6)==="L"&&(s=o)):(a+=g,o=s)}return a}static getTable(e){switch(e){case"L":return q.LOWER;case"P":return q.PUNCT;case"M":return q.MIXED;case"D":return q.DIGIT;case"B":return q.BINARY;case"U":default:return q.UPPER}}static getCharacter(e,r){switch(e){case q.UPPER:return oe.UPPER_TABLE[r];case q.LOWER:return oe.LOWER_TABLE[r];case q.MIXED:return oe.MIXED_TABLE[r];case q.PUNCT:return oe.PUNCT_TABLE[r];case q.DIGIT:return oe.DIGIT_TABLE[r];default:throw new J("Bad table")}}correctBits(e){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=D.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=D.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=D.AZTEC_DATA_10):(s=12,r=D.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=e.length/s;if(a<o)throw new se;let l=e.length%s,u=new Int32Array(a);for(let S=0;S<a;S++,l+=s)u[S]=oe.readCode(e,l,s);try{new re(r).decode(u,a-o)}catch(S){throw new se(S)}let h=(1<<s)-1,g=0;for(let S=0;S<o;S++){let M=u[S];if(M===0||M===h)throw new se;(M===1||M===h-1)&&g++}let y=new Array(o*s-g),E=0;for(let S=0;S<o;S++){let M=u[S];if(M===1||M===h-1)y.fill(M>1,E,E+s-1),E+=s-1;else for(let R=s-1;R>=0;--R)y[E++]=(M&1<<R)!==0}return y}extractBits(e){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,a=new Int32Array(o),l=new Array(this.totalBitsInLayer(s,r));if(r)for(let u=0;u<a.length;u++)a[u]=u;else{let u=o+1+2*ne.truncDivision(ne.truncDivision(o,2)-1,15),h=o/2,g=ne.truncDivision(u,2);for(let y=0;y<h;y++){let E=y+ne.truncDivision(y,15);a[h-y-1]=g-E-1,a[h+y]=g+E+1}}for(let u=0,h=0;u<s;u++){let g=(s-u)*4+(r?9:12),y=u*2,E=o-1-y;for(let S=0;S<g;S++){let M=S*2;for(let R=0;R<2;R++)l[h+M+R]=e.get(a[y+R],a[y+S]),l[h+2*g+M+R]=e.get(a[y+S],a[E-R]),l[h+4*g+M+R]=e.get(a[E-R],a[E-S]),l[h+6*g+M+R]=e.get(a[E-S],a[y+R])}h+=g*8}return l}static readCode(e,r,s){let o=0;for(let a=r;a<r+s;a++)o<<=1,e[a]&&(o|=1);return o}static readByte(e,r){let s=e.length-r;return s>=8?oe.readCode(e,r,8):oe.readCode(e,r,s)<<8-s}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let s=0;s<r.length;s++)r[s]=oe.readByte(e,8*s);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}oe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],oe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],oe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],oe.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],oe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class K{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,s,o){const a=e-s,l=r-o;return Math.sqrt(a*a+l*l)}static sum(e){let r=0;for(let s=0,o=e.length;s!==o;s++){const a=e[s];r+=a}return r}}class me{static floatToIntBits(e){return e}}me.MAX_VALUE=Number.MAX_SAFE_INTEGER;class H{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof H){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*me.floatToIntBits(this.x)+me.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let a,l,u;if(s>=r&&s>=o?(l=e[0],a=e[1],u=e[2]):o>=s&&o>=r?(l=e[1],a=e[0],u=e[2]):(l=e[2],a=e[0],u=e[1]),this.crossProductZ(a,l,u)<0){const h=a;a=u,u=h}e[0]=a,e[1]=l,e[2]=u}static distance(e,r){return K.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,s){const o=r.x,a=r.y;return(s.x-o)*(e.y-a)-(s.y-a)*(e.x-o)}}class Re{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ce extends Re{constructor(e,r,s,o,a){super(e,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Te{constructor(e,r,s,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=Te.INIT_SIZE),s==null&&(s=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const a=r/2|0;if(this.leftInit=s-a,this.rightInit=s+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new z}detect(){let e=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,a=!1,l=!0,u=!1,h=!1,g=!1,y=!1,E=!1;const S=this.width,M=this.height;for(;l;){l=!1;let R=!0;for(;(R||!h)&&r<S;)R=this.containsBlackPoint(s,o,r,!1),R?(r++,l=!0,h=!0):h||r++;if(r>=S){a=!0;break}let L=!0;for(;(L||!g)&&o<M;)L=this.containsBlackPoint(e,r,o,!0),L?(o++,l=!0,g=!0):g||o++;if(o>=M){a=!0;break}let k=!0;for(;(k||!y)&&e>=0;)k=this.containsBlackPoint(s,o,e,!1),k?(e--,l=!0,y=!0):y||e--;if(e<0){a=!0;break}let G=!0;for(;(G||!E)&&s>=0;)G=this.containsBlackPoint(e,r,s,!0),G?(s--,l=!0,E=!0):E||s--;if(s<0){a=!0;break}l&&(u=!0)}if(!a&&u){const R=r-e;let L=null;for(let de=1;L===null&&de<R;de++)L=this.getBlackPointOnSegment(e,o-de,e+de,o);if(L==null)throw new z;let k=null;for(let de=1;k===null&&de<R;de++)k=this.getBlackPointOnSegment(e,s+de,e+de,s);if(k==null)throw new z;let G=null;for(let de=1;G===null&&de<R;de++)G=this.getBlackPointOnSegment(r,s+de,r-de,s);if(G==null)throw new z;let ue=null;for(let de=1;ue===null&&de<R;de++)ue=this.getBlackPointOnSegment(r,o-de,r-de,o);if(ue==null)throw new z;return this.centerEdges(ue,L,G,k)}else throw new z}getBlackPointOnSegment(e,r,s,o){const a=K.round(K.distance(e,r,s,o)),l=(s-e)/a,u=(o-r)/a,h=this.image;for(let g=0;g<a;g++){const y=K.round(e+g*l),E=K.round(r+g*u);if(h.get(y,E))return new H(y,E)}return null}centerEdges(e,r,s,o){const a=e.getX(),l=e.getY(),u=r.getX(),h=r.getY(),g=s.getX(),y=s.getY(),E=o.getX(),S=o.getY(),M=Te.CORR;return a<this.width/2?[new H(E-M,S+M),new H(u+M,h+M),new H(g-M,y-M),new H(a+M,l-M)]:[new H(E+M,S+M),new H(u+M,h-M),new H(g-M,y+M),new H(a-M,l-M)]}containsBlackPoint(e,r,s,o){const a=this.image;if(o){for(let l=e;l<=r;l++)if(a.get(l,s))return!0}else for(let l=e;l<=r;l++)if(a.get(s,l))return!0;return!1}}Te.INIT_SIZE=10,Te.CORR=1;class Fe{static checkAndNudgePoints(e,r){const s=e.getWidth(),o=e.getHeight();let a=!0;for(let l=0;l<r.length&&a;l+=2){const u=Math.floor(r[l]),h=Math.floor(r[l+1]);if(u<-1||u>s||h<-1||h>o)throw new z;a=!1,u===-1?(r[l]=0,a=!0):u===s&&(r[l]=s-1,a=!0),h===-1?(r[l+1]=0,a=!0):h===o&&(r[l+1]=o-1,a=!0)}a=!0;for(let l=r.length-2;l>=0&&a;l-=2){const u=Math.floor(r[l]),h=Math.floor(r[l+1]);if(u<-1||u>s||h<-1||h>o)throw new z;a=!1,u===-1?(r[l]=0,a=!0):u===s&&(r[l]=s-1,a=!0),h===-1?(r[l+1]=0,a=!0):h===o&&(r[l+1]=o-1,a=!0)}}}class Ue{constructor(e,r,s,o,a,l,u,h,g){this.a11=e,this.a21=r,this.a31=s,this.a12=o,this.a22=a,this.a32=l,this.a13=u,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(e,r,s,o,a,l,u,h,g,y,E,S,M,R,L,k){const G=Ue.quadrilateralToSquare(e,r,s,o,a,l,u,h);return Ue.squareToQuadrilateral(g,y,E,S,M,R,L,k).times(G)}transformPoints(e){const r=e.length,s=this.a11,o=this.a12,a=this.a13,l=this.a21,u=this.a22,h=this.a23,g=this.a31,y=this.a32,E=this.a33;for(let S=0;S<r;S+=2){const M=e[S],R=e[S+1],L=a*M+h*R+E;e[S]=(s*M+l*R+g)/L,e[S+1]=(o*M+u*R+y)/L}}transformPointsWithValues(e,r){const s=this.a11,o=this.a12,a=this.a13,l=this.a21,u=this.a22,h=this.a23,g=this.a31,y=this.a32,E=this.a33,S=e.length;for(let M=0;M<S;M++){const R=e[M],L=r[M],k=a*R+h*L+E;e[M]=(s*R+l*L+g)/k,r[M]=(o*R+u*L+y)/k}}static squareToQuadrilateral(e,r,s,o,a,l,u,h){const g=e-s+a-u,y=r-o+l-h;if(g===0&&y===0)return new Ue(s-e,a-s,e,o-r,l-o,r,0,0,1);{const E=s-a,S=u-a,M=o-l,R=h-l,L=E*R-S*M,k=(g*R-S*y)/L,G=(E*y-g*M)/L;return new Ue(s-e+k*s,u-e+G*u,e,o-r+k*o,h-r+G*h,r,k,G,1)}}static quadrilateralToSquare(e,r,s,o,a,l,u,h){return Ue.squareToQuadrilateral(e,r,s,o,a,l,u,h).buildAdjoint()}buildAdjoint(){return new Ue(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ue(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class ct extends Fe{sampleGrid(e,r,s,o,a,l,u,h,g,y,E,S,M,R,L,k,G,ue,de){const ae=Ue.quadrilateralToQuadrilateral(o,a,l,u,h,g,y,E,S,M,R,L,k,G,ue,de);return this.sampleGridWithTransform(e,r,s,ae)}sampleGridWithTransform(e,r,s,o){if(r<=0||s<=0)throw new z;const a=new Me(r,s),l=new Float32Array(2*r);for(let u=0;u<s;u++){const h=l.length,g=u+.5;for(let y=0;y<h;y+=2)l[y]=y/2+.5,l[y+1]=g;o.transformPoints(l),Fe.checkAndNudgePoints(e,l);try{for(let y=0;y<h;y+=2)e.get(Math.floor(l[y]),Math.floor(l[y+1]))&&a.set(y/2,u)}catch(y){throw new z}}return a}}class qe{static setGridSampler(e){qe.gridSampler=e}static getInstance(){return qe.gridSampler}}qe.gridSampler=new ct;class ot{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new H(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Nt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(e){let l=s[0];s[0]=s[2],s[2]=l}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),a=this.getMatrixCornerPoints(s);return new Ce(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new z;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let l=0;l<4;l++){let u=s[(this.shift+l)%4];this.compact?(o<<=7,o+=u>>1&127):(o<<=10,o+=(u>>2&992)+(u>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(e,r){let s=0;e.forEach((o,a,l)=>{let u=(o>>r-2<<1)+(o&1);s=(s<<3)+u}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(ne.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new z}getCorrectedParameterData(e,r){let s,o;r?(s=7,o=2):(s=10,o=4);let a=s-o,l=new Int32Array(s);for(let h=s-1;h>=0;--h)l[h]=e&15,e>>=4;try{new re(D.AZTEC_PARAM).decode(l,a)}catch(h){throw new z}let u=0;for(let h=0;h<o;h++)u=(u<<4)+l[h];return u}getBullsEyeCorners(e){let r=e,s=e,o=e,a=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(r,l,1,-1),S=this.getFirstDifferent(s,l,1,1),M=this.getFirstDifferent(o,l,-1,1),R=this.getFirstDifferent(a,l,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(R,E)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(E,S,M,R))break}r=E,s=S,o=M,a=R,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new z;this.compact=this.nbCenterLayers===5;let u=new H(r.getX()+.5,r.getY()-.5),h=new H(s.getX()+.5,s.getY()+.5),g=new H(o.getX()-.5,o.getY()+.5),y=new H(a.getX()-.5,a.getY()-.5);return this.expandSquare([u,h,g,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,s,o;try{let u=new Te(this.image).detect();e=u[0],r=u[1],s=u[2],o=u[3]}catch(u){let h=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new ot(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ot(h+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ot(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ot(h-7,g-7),!1,-1,-1).toResultPoint()}let a=K.round((e.getX()+o.getX()+r.getX()+s.getX())/4),l=K.round((e.getY()+o.getY()+r.getY()+s.getY())/4);try{let u=new Te(this.image,15,a,l).detect();e=u[0],r=u[1],s=u[2],o=u[3]}catch(u){e=this.getFirstDifferent(new ot(a+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ot(a+7,l+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ot(a-7,l+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ot(a-7,l-7),!1,-1,-1).toResultPoint()}return a=K.round((e.getX()+o.getX()+r.getX()+s.getX())/4),l=K.round((e.getY()+o.getY()+r.getY()+s.getY())/4),new ot(a,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,s,o,a){let l=qe.getInstance(),u=this.getDimension(),h=u/2-this.nbCenterLayers,g=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,h,h,g,h,g,g,h,g,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(e,r,s){let o=0,a=this.distanceResultPoint(e,r),l=a/s,u=e.getX(),h=e.getY(),g=l*(r.getX()-e.getX())/a,y=l*(r.getY()-e.getY())/a;for(let E=0;E<s;E++)this.image.get(K.round(u+E*g),K.round(h+E*y))&&(o|=1<<s-E-1);return o}isWhiteOrBlackRectangle(e,r,s,o){let a=3;e=new ot(e.getX()-a,e.getY()+a),r=new ot(r.getX()-a,r.getY()-a),s=new ot(s.getX()+a,s.getY()-a),o=new ot(o.getX()+a,o.getY()+a);let l=this.getColor(o,e);if(l===0)return!1;let u=this.getColor(e,r);return u!==l||(u=this.getColor(r,s),u!==l)?!1:(u=this.getColor(s,o),u===l)}getColor(e,r){let s=this.distancePoint(e,r),o=(r.getX()-e.getX())/s,a=(r.getY()-e.getY())/s,l=0,u=e.getX(),h=e.getY(),g=this.image.get(e.getX(),e.getY()),y=Math.ceil(s);for(let S=0;S<y;S++)u+=o,h+=a,this.image.get(K.round(u),K.round(h))!==g&&l++;let E=l/s;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(e,r,s,o){let a=e.getX()+s,l=e.getY()+o;for(;this.isValid(a,l)&&this.image.get(a,l)===r;)a+=s,l+=o;for(a-=s,l-=o;this.isValid(a,l)&&this.image.get(a,l)===r;)a+=s;for(a-=s;this.isValid(a,l)&&this.image.get(a,l)===r;)l+=o;return l-=o,new ot(a,l)}expandSquare(e,r,s){let o=s/(2*r),a=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,h=(e[0].getY()+e[2].getY())/2,g=new H(u+o*a,h+o*l),y=new H(u-o*a,h-o*l);a=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,h=(e[1].getY()+e[3].getY())/2;let E=new H(u+o*a,h+o*l),S=new H(u-o*a,h-o*l);return[g,E,y,S]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=K.round(e.getX()),s=K.round(e.getY());return this.isValid(r,s)}distancePoint(e,r){return K.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return K.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ne.truncDivision(this.nbLayers-4,8)+1)+15}}class Qt{decode(e,r=null){let s=null,o=new Nt(e.getBlackMatrix()),a=null,l=null;try{let y=o.detectMirror(!1);a=y.getPoints(),this.reportFoundResultPoints(r,a),l=new oe().decode(y)}catch(y){s=y}if(l==null)try{let y=o.detectMirror(!0);a=y.getPoints(),this.reportFoundResultPoints(r,a),l=new oe().decode(y)}catch(y){throw s!=null?s:y}let u=new Ht(l.getText(),l.getRawBytes(),l.getNumBits(),a,Oe.AZTEC,Q.currentTimeMillis()),h=l.getByteSegments();h!=null&&u.putMetadata(vt.BYTE_SEGMENTS,h);let g=l.getECLevel();return g!=null&&u.putMetadata(vt.ERROR_CORRECTION_LEVEL,g),u}reportFoundResultPoints(e,r){if(e!=null){let s=e.get(je.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,a,l)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class Sn extends Pn{constructor(e=500){super(new Qt,e)}}class gt{decode(e,r){try{return this.doDecode(e,r)}catch(s){if(r&&r.get(je.TRY_HARDER)===!0&&e.isRotateSupported()){const a=e.rotateCounterClockwise(),l=this.doDecode(a,r),u=l.getResultMetadata();let h=270;u!==null&&u.get(vt.ORIENTATION)===!0&&(h=h+u.get(vt.ORIENTATION)%360),l.putMetadata(vt.ORIENTATION,h);const g=l.getResultPoints();if(g!==null){const y=a.getHeight();for(let E=0;E<g.length;E++)g[E]=new H(y-g[E].getY()-1,g[E].getX())}return l}else throw new z}}reset(){}doDecode(e,r){const s=e.getWidth(),o=e.getHeight();let a=new Z(s);const l=r&&r.get(je.TRY_HARDER)===!0,u=Math.max(1,o>>(l?8:5));let h;l?h=o:h=15;const g=Math.trunc(o/2);for(let y=0;y<h;y++){const E=Math.trunc((y+1)/2),S=(y&1)===0,M=g+u*(S?E:-E);if(M<0||M>=o)break;try{a=e.getBlackRow(M,a)}catch(R){continue}for(let R=0;R<2;R++){if(R===1&&(a.reverse(),r&&r.get(je.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;r.forEach((k,G)=>L.set(G,k)),L.delete(je.NEED_RESULT_POINT_CALLBACK),r=L}try{const L=this.decodeRow(M,a,r);if(R===1){L.putMetadata(vt.ORIENTATION,180);const k=L.getResultPoints();k!==null&&(k[0]=new H(s-k[0].getX()-1,k[0].getY()),k[1]=new H(s-k[1].getX()-1,k[1].getY()))}return L}catch(L){}}}throw new z}static recordPattern(e,r,s){const o=s.length;for(let g=0;g<o;g++)s[g]=0;const a=e.getSize();if(r>=a)throw new z;let l=!e.get(r),u=0,h=r;for(;h<a;){if(e.get(h)!==l)s[u]++;else{if(++u===o)break;s[u]=1,l=!l}h++}if(!(u===o||u===o-1&&h===a))throw new z}static recordPatternInReverse(e,r,s){let o=s.length,a=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==a&&(o--,a=!a);if(o>=0)throw new z;gt.recordPattern(e,r+1,s)}static patternMatchVariance(e,r,s){const o=e.length;let a=0,l=0;for(let g=0;g<o;g++)a+=e[g],l+=r[g];if(a<l)return Number.POSITIVE_INFINITY;const u=a/l;s*=u;let h=0;for(let g=0;g<o;g++){const y=e[g],E=r[g]*u,S=y>E?y-E:E-y;if(S>s)return Number.POSITIVE_INFINITY;h+=S}return h/a}}class he extends gt{static findStartPattern(e){const r=e.getSize(),s=e.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),l=s,u=!1;const h=6;for(let g=s;g<r;g++)if(e.get(g)!==u)a[o]++;else{if(o===h-1){let y=he.MAX_AVG_VARIANCE,E=-1;for(let S=he.CODE_START_A;S<=he.CODE_START_C;S++){const M=gt.patternMatchVariance(a,he.CODE_PATTERNS[S],he.MAX_INDIVIDUAL_VARIANCE);M<y&&(y=M,E=S)}if(E>=0&&e.isRange(Math.max(0,l-(g-l)/2),l,!1))return Int32Array.from([l,g,E]);l+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,u=!u}throw new z}static decodeCode(e,r,s){gt.recordPattern(e,s,r);let o=he.MAX_AVG_VARIANCE,a=-1;for(let l=0;l<he.CODE_PATTERNS.length;l++){const u=he.CODE_PATTERNS[l],h=this.patternMatchVariance(r,u,he.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,a=l)}if(a>=0)return a;throw new z}decodeRow(e,r,s){const o=s&&s.get(je.ASSUME_GS1)===!0,a=he.findStartPattern(r),l=a[2];let u=0;const h=new Uint8Array(20);h[u++]=l;let g;switch(l){case he.CODE_START_A:g=he.CODE_CODE_A;break;case he.CODE_START_B:g=he.CODE_CODE_B;break;case he.CODE_START_C:g=he.CODE_CODE_C;break;default:throw new se}let y=!1,E=!1,S="",M=a[0],R=a[1];const L=Int32Array.from([0,0,0,0,0,0]);let k=0,G=0,ue=l,de=0,ae=!0,it=!1,ze=!1;for(;!y;){const V=E;switch(E=!1,k=G,G=he.decodeCode(r,L,R),h[u++]=G,G!==he.CODE_STOP&&(ae=!0),G!==he.CODE_STOP&&(de++,ue+=de*G),M=R,R+=L.reduce((Y,ie)=>Y+ie,0),G){case he.CODE_START_A:case he.CODE_START_B:case he.CODE_START_C:throw new se}switch(g){case he.CODE_CODE_A:if(G<64)ze===it?S+=String.fromCharCode(32+G):S+=String.fromCharCode(32+G+128),ze=!1;else if(G<96)ze===it?S+=String.fromCharCode(G-64):S+=String.fromCharCode(G+64),ze=!1;else switch(G!==he.CODE_STOP&&(ae=!1),G){case he.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_A:!it&&ze?(it=!0,ze=!1):it&&ze?(it=!1,ze=!1):ze=!0;break;case he.CODE_SHIFT:E=!0,g=he.CODE_CODE_B;break;case he.CODE_CODE_B:g=he.CODE_CODE_B;break;case he.CODE_CODE_C:g=he.CODE_CODE_C;break;case he.CODE_STOP:y=!0;break}break;case he.CODE_CODE_B:if(G<96)ze===it?S+=String.fromCharCode(32+G):S+=String.fromCharCode(32+G+128),ze=!1;else switch(G!==he.CODE_STOP&&(ae=!1),G){case he.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_B:!it&&ze?(it=!0,ze=!1):it&&ze?(it=!1,ze=!1):ze=!0;break;case he.CODE_SHIFT:E=!0,g=he.CODE_CODE_A;break;case he.CODE_CODE_A:g=he.CODE_CODE_A;break;case he.CODE_CODE_C:g=he.CODE_CODE_C;break;case he.CODE_STOP:y=!0;break}break;case he.CODE_CODE_C:if(G<100)G<10&&(S+="0"),S+=G;else switch(G!==he.CODE_STOP&&(ae=!1),G){case he.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case he.CODE_CODE_A:g=he.CODE_CODE_A;break;case he.CODE_CODE_B:g=he.CODE_CODE_B;break;case he.CODE_STOP:y=!0;break}break}V&&(g=g===he.CODE_CODE_A?he.CODE_CODE_B:he.CODE_CODE_A)}const mn=R-M;if(R=r.getNextUnset(R),!r.isRange(R,Math.min(r.getSize(),R+(R-M)/2),!1))throw new z;if(ue-=de*k,ue%103!==k)throw new U;const m=S.length;if(m===0)throw new z;m>0&&ae&&(g===he.CODE_CODE_C?S=S.substring(0,m-2):S=S.substring(0,m-1));const x=(a[1]+a[0])/2,v=M+mn/2,_=h.length,P=new Uint8Array(_);for(let V=0;V<_;V++)P[V]=h[V];const F=[new H(x,e),new H(v,e)];return new Ht(S,P,0,F,Oe.CODE_128,new Date().getTime())}}he.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],he.MAX_AVG_VARIANCE=.25,he.MAX_INDIVIDUAL_VARIANCE=.7,he.CODE_SHIFT=98,he.CODE_CODE_C=99,he.CODE_CODE_B=100,he.CODE_CODE_A=101,he.CODE_FNC_1=102,he.CODE_FNC_2=97,he.CODE_FNC_3=96,he.CODE_FNC_4_A=101,he.CODE_FNC_4_B=100,he.CODE_START_A=103,he.CODE_START_B=104,he.CODE_START_C=105,he.CODE_STOP=106;class lt extends gt{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=lt.findAsteriskPattern(r,o),l=r.getNextSet(a[1]),u=r.getSize(),h,g;do{lt.recordPattern(r,l,o);let L=lt.toNarrowWidePattern(o);if(L<0)throw new z;h=lt.patternToChar(L),this.decodeRowResult+=h,g=l;for(let k of o)l+=k;l=r.getNextSet(l)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let L of o)y+=L;let E=l-g-y;if(l!==u&&E*2<y)throw new z;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,k=0;for(let G=0;G<L;G++)k+=lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(L)!==lt.ALPHABET_STRING.charAt(k%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new z;let S;this.extendedMode?S=lt.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let M=(a[1]+a[0])/2,R=g+y/2;return new Ht(S,null,0,[new H(M,e),new H(R,e)],Oe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let s=e.getSize(),o=e.getNextSet(0),a=0,l=o,u=!1,h=r.length;for(let g=o;g<s;g++)if(e.get(g)!==u)r[a]++;else{if(a===h-1){if(this.toNarrowWidePattern(r)===lt.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((g-l)/2)),l,!1))return[l,g];l+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,u=!u}throw new z}static toNarrowWidePattern(e){let r=e.length,s=0,o;do{let a=2147483647;for(let h of e)h<a&&h>s&&(a=h);s=a,o=0;let l=0,u=0;for(let h=0;h<r;h++){let g=e[h];g>s&&(u|=1<<r-1-h,o++,l+=g)}if(o===3){for(let h=0;h<r&&o>0;h++){let g=e[h];if(g>s&&(o--,g*2>=l))return-1}return u}}while(o>3);return-1}static patternToChar(e){for(let r=0;r<lt.CHARACTER_ENCODINGS.length;r++)if(lt.CHARACTER_ENCODINGS[r]===e)return lt.ALPHABET_STRING.charAt(r);if(e===lt.ASTERISK_ENCODING)return"*";throw new z}static decodeExtended(e){let r=e.length,s="";for(let o=0;o<r;o++){let a=e.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let l=e.charAt(o+1),u="\0";switch(a){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new se;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new se;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new se;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new se;break}s+=u,o++}else s+=a}return s}}lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],lt.ASTERISK_ENCODING=148;class nt extends gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,s){let o=this.decodeStart(r),a=this.decodeEnd(r),l=new pe;nt.decodeMiddle(r,o[1],a[0],l);let u=l.toString(),h=null;s!=null&&(h=s.get(je.ALLOWED_LENGTHS)),h==null&&(h=nt.DEFAULT_ALLOWED_LENGTHS);let g=u.length,y=!1,E=0;for(let R of h){if(g===R){y=!0;break}R>E&&(E=R)}if(!y&&g>E&&(y=!0),!y)throw new se;const S=[new H(o[1],e),new H(a[0],e)];return new Ht(u,null,0,S,Oe.ITF,new Date().getTime())}static decodeMiddle(e,r,s,o){let a=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),l.fill(0),u.fill(0);r<s;){gt.recordPattern(e,r,a);for(let g=0;g<5;g++){let y=2*g;l[g]=a[y],u[g]=a[y+1]}let h=nt.decodeDigit(l);o.append(h.toString()),h=this.decodeDigit(u),o.append(h.toString()),a.forEach(function(g){r+=g})}}decodeStart(e){let r=nt.skipWhiteSpace(e),s=nt.findGuardPattern(e,r,nt.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(e,s[0]),s}validateQuietZone(e,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!e.get(o);o--)s--;if(s!==0)throw new z}static skipWhiteSpace(e){const r=e.getSize(),s=e.getNextSet(0);if(s===r)throw new z;return s}decodeEnd(e){e.reverse();try{let r=nt.skipWhiteSpace(e),s;try{s=nt.findGuardPattern(e,r,nt.END_PATTERN_REVERSED[0])}catch(a){a instanceof z&&(s=nt.findGuardPattern(e,r,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,s[0]);let o=s[0];return s[0]=e.getSize()-s[1],s[1]=e.getSize()-o,s}finally{e.reverse()}}static findGuardPattern(e,r,s){let o=s.length,a=new Int32Array(o),l=e.getSize(),u=!1,h=0,g=r;a.fill(0);for(let y=r;y<l;y++)if(e.get(y)!==u)a[h]++;else{if(h===o-1){if(gt.patternMatchVariance(a,s,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[g,y];g+=a[0]+a[1],Q.arraycopy(a,2,a,0,h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new z}static decodeDigit(e){let r=nt.MAX_AVG_VARIANCE,s=-1,o=nt.PATTERNS.length;for(let a=0;a<o;a++){let l=nt.PATTERNS[a],u=gt.patternMatchVariance(e,l,nt.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,s=a):u===r&&(s=-1)}if(s>=0)return s%10;throw new z}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,s,o=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),s=It.findGuardPattern(e,o,!1,this.START_END_PATTERN,a);let l=s[0];o=s[1];let u=l-(o-l);u>=0&&(r=e.isRange(u,l,!1))}return s}static checkChecksum(e){return It.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let s=parseInt(e.charAt(r-1),10);return It.getStandardUPCEANChecksum(e.substring(0,r-1))===s}static getStandardUPCEANChecksum(e){let r=e.length,s=0;for(let o=r-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new se;s+=a}s*=3;for(let o=r-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new se;s+=a}return(1e3-s)%10}static decodeEnd(e,r){return It.findGuardPattern(e,r,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,s,o){return this.findGuardPattern(e,r,s,o,new Int32Array(o.length))}static findGuardPattern(e,r,s,o,a){let l=e.getSize();r=s?e.getNextUnset(r):e.getNextSet(r);let u=0,h=r,g=o.length,y=s;for(let E=r;E<l;E++)if(e.get(E)!==y)a[u]++;else{if(u===g-1){if(gt.patternMatchVariance(a,o,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=a[0]+a[1];let S=a.slice(2,a.length-1);for(let M=0;M<u-1;M++)a[M]=S[M];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,y=!y}throw new z}static decodeDigit(e,r,s,o){this.recordPattern(e,s,r);let a=this.MAX_AVG_VARIANCE,l=-1,u=o.length;for(let h=0;h<u;h++){let g=o[h],y=gt.patternMatchVariance(r,g,It.MAX_INDIVIDUAL_VARIANCE);y<a&&(a=y,l=h)}if(l>=0)return l;throw new z}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Jr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,s){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,s,o),l=o.toString(),u=Jr.parseExtensionString(l),h=[new H((s[0]+s[1])/2,e),new H(a,e)],g=new Ht(l,null,0,h,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&g.putAllMetadata(u),g}decodeMiddle(e,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),l=r[1],u=0;for(let g=0;g<5&&l<a;g++){let y=It.decodeDigit(e,o,l,It.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of o)l+=E;y>=10&&(u|=1<<4-g),g!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(s.length!==5)throw new z;let h=this.determineCheckDigit(u);if(Jr.extensionChecksum(s.toString())!==h)throw new z;return l}static extensionChecksum(e){let r=e.length,s=0;for(let o=r-2;o>=0;o-=2)s+=e.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=e.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new z}static parseExtensionString(e){if(e.length!==5)return null;let r=Jr.parseExtension5String(e);return r==null?null:new Map([[vt.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(e.substring(1)),o=(s/100).toString(),a=s%100,l=a<10?"0"+a:a.toString();return r+o+"."+l}}class Vt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,s){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,s,o),l=o.toString(),u=Vt.parseExtensionString(l),h=[new H((s[0]+s[1])/2,e),new H(a,e)],g=new Ht(l,null,0,h,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&g.putAllMetadata(u),g}decodeMiddle(e,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),l=r[1],u=0;for(let h=0;h<2&&l<a;h++){let g=It.decodeDigit(e,o,l,It.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);for(let y of o)l+=y;g>=10&&(u|=1<<1-h),h!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(s.length!==2)throw new z;if(parseInt(s.toString())%4!==u)throw new z;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(e)]])}}class Br{static decodeRow(e,r,s){let o=It.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Jr().decodeRow(e,r,o)}catch(a){return new Vt().decodeRow(e,r,o)}}}Br.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _e extends It{constructor(){super(),this.decodeRowStringBuffer="",_e.L_AND_G_PATTERNS=_e.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=_e.L_PATTERNS[e-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];_e.L_AND_G_PATTERNS[e]=s}}decodeRow(e,r,s){let o=_e.findStartGuardPattern(r),a=s==null?null:s.get(je.NEED_RESULT_POINT_CALLBACK);if(a!=null){const ae=new H((o[0]+o[1])/2,e);a.foundPossibleResultPoint(ae)}let l=this.decodeMiddle(r,o,this.decodeRowStringBuffer),u=l.rowOffset,h=l.resultString;if(a!=null){const ae=new H(u,e);a.foundPossibleResultPoint(ae)}let g=this.decodeEnd(r,u);if(a!=null){const ae=new H((g[0]+g[1])/2,e);a.foundPossibleResultPoint(ae)}let y=g[1],E=y+(y-g[0]);if(E>=r.getSize()||!r.isRange(y,E,!1))throw new z;let S=h.toString();if(S.length<8)throw new se;if(!_e.checkChecksum(S))throw new U;let M=(o[1]+o[0])/2,R=(g[1]+g[0])/2,L=this.getBarcodeFormat(),k=[new H(M,e),new H(R,e)],G=new Ht(S,null,0,k,L,new Date().getTime()),ue=0;try{let ae=Br.decodeRow(e,r,g[1]);G.putMetadata(vt.UPC_EAN_EXTENSION,ae.getText()),G.putAllMetadata(ae.getResultMetadata()),G.addResultPoints(ae.getResultPoints()),ue=ae.getText().length}catch(ae){}let de=s==null?null:s.get(je.ALLOWED_EAN_EXTENSIONS);if(de!=null){let ae=!1;for(let it in de)if(ue.toString()===it){ae=!0;break}if(!ae)throw new z}return G}decodeEnd(e,r){return _e.findGuardPattern(e,r,!1,_e.START_END_PATTERN,new Int32Array(_e.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return _e.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let s=parseInt(e.charAt(r-1),10);return _e.getStandardUPCEANChecksum(e.substring(0,r-1))===s}static getStandardUPCEANChecksum(e){let r=e.length,s=0;for(let o=r-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new se;s+=a}s*=3;for(let o=r-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new se;s+=a}return(1e3-s)%10}}class kr extends _e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),l=r[1],u=0;for(let g=0;g<6&&l<a;g++){let y=_e.decodeDigit(e,o,l,_e.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of o)l+=E;y>=10&&(u|=1<<5-g)}s=kr.determineFirstDigit(s,u),l=_e.findGuardPattern(e,l,!0,_e.MIDDLE_PATTERN,new Int32Array(_e.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&l<a;g++){let y=_e.decodeDigit(e,o,l,_e.L_PATTERNS);s+=String.fromCharCode(48+y);for(let E of o)l+=E}return{rowOffset:l,resultString:s}}getBarcodeFormat(){return Oe.EAN_13}static determineFirstDigit(e,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return e=String.fromCharCode(48+s)+e,e;throw new z}}kr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wn extends _e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),l=r[1];for(let h=0;h<4&&l<a;h++){let g=_e.decodeDigit(e,o,l,_e.L_PATTERNS);s+=String.fromCharCode(48+g);for(let y of o)l+=y}l=_e.findGuardPattern(e,l,!0,_e.MIDDLE_PATTERN,new Int32Array(_e.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&l<a;h++){let g=_e.decodeDigit(e,o,l,_e.L_PATTERNS);s+=String.fromCharCode(48+g);for(let y of o)l+=y}return{rowOffset:l,resultString:s}}getBarcodeFormat(){return Oe.EAN_8}}class zn extends _e{constructor(){super(...arguments),this.ean13Reader=new kr}getBarcodeFormat(){return Oe.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,s))}decodeMiddle(e,r,s){return this.ean13Reader.decodeMiddle(e,r,s)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let s=new Ht(r.substring(1),null,null,e.getResultPoints(),Oe.UPC_A);return e.getResultMetadata()!=null&&s.putAllMetadata(e.getResultMetadata()),s}else throw new z}reset(){this.ean13Reader.reset()}}class Gn extends _e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,s){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=e.getSize();let l=r[1],u=0;for(let g=0;g<6&&l<a;g++){const y=Gn.decodeDigit(e,o,l,Gn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of o)l+=E;y>=10&&(u|=1<<5-g)}let h=Gn.determineNumSysAndCheckDigit(s,u);return{rowOffset:l,resultString:h}}decodeEnd(e,r){return Gn.findGuardPatternWithoutCounters(e,r,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(e){return _e.checkChecksum(Gn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let a=String.fromCharCode(48+s),l=String.fromCharCode(48+o);return a+e+l}throw z.getNotFoundInstance()}getBarcodeFormat(){return Oe.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(a=>a.charCodeAt(0)),s=new pe;s.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return e.length>=8&&s.append(e.charAt(7)),s.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class bs extends gt{constructor(e){super();let r=e==null?null:e.get(je.POSSIBLE_FORMATS),s=[];c(r)?(s.push(new kr),s.push(new zn),s.push(new Wn),s.push(new Gn)):(r.indexOf(Oe.EAN_13)>-1&&s.push(new kr),r.indexOf(Oe.UPC_A)>-1&&s.push(new zn),r.indexOf(Oe.EAN_8)>-1&&s.push(new Wn),r.indexOf(Oe.UPC_E)>-1&&s.push(new Gn)),this.readers=s}decodeRow(e,r,s){for(let o of this.readers)try{const a=o.decodeRow(e,r,s),l=a.getBarcodeFormat()===Oe.EAN_13&&a.getText().charAt(0)==="0",u=s==null?null:s.get(je.POSSIBLE_FORMATS),h=u==null||u.includes(Oe.UPC_A);if(l&&h){const g=a.getRawBytes(),y=new Ht(a.getText().substring(1),g,g?g.length:null,a.getResultPoints(),Oe.UPC_A);return y.putAllMetadata(a.getResultMetadata()),y}return a}catch(a){}throw new z}reset(){for(let e of this.readers)e.reset()}}class Jt extends gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let s=0;s<r.length;s++)if(gt.patternMatchVariance(e,r[s],Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE)return s;throw new z}static count(e){return K.sum(new Int32Array(e))}static increment(e,r){let s=0,o=r[0];for(let a=1;a<e.length;a++)r[a]>o&&(o=r[a],s=a);e[s]++}static decrement(e,r){let s=0,o=r[0];for(let a=1;a<e.length;a++)r[a]<o&&(o=r[a],s=a);e[s]--}static isFinderPattern(e){let r=e[0]+e[1],s=r+e[2]+e[3],o=r/s;if(o>=Jt.MIN_FINDER_PATTERN_RATIO&&o<=Jt.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let u of e)u>l&&(l=u),u<a&&(a=u);return l<10*a}return!1}}Jt.MAX_AVG_VARIANCE=.2,Jt.MAX_INDIVIDUAL_VARIANCE=.45,Jt.MIN_FINDER_PATTERN_RATIO=9.5/12,Jt.MAX_FINDER_PATTERN_RATIO=12.5/14;class wr{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof wr))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class yi{constructor(e,r,s,o,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new H(s,a)),this.resultPoints.push(new H(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof yi))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class ir{constructor(){}static getRSSvalue(e,r,s){let o=0;for(let h of e)o+=h;let a=0,l=0,u=e.length;for(let h=0;h<u-1;h++){let g;for(g=1,l|=1<<h;g<e[h];g++,l&=~(1<<h)){let y=ir.combins(o-g-1,u-h-2);if(s&&l===0&&o-g-(u-h-1)>=u-h-1&&(y-=ir.combins(o-g-(u-h),u-h-2)),u-h-1>1){let E=0;for(let S=o-g-(u-h-2);S>r;S--)E+=ir.combins(o-g-S-1,u-h-3);y-=E*(u-1-h)}else o-g>r&&y--;a+=y}o-=g}return a}static combins(e,r){let s,o;e-r>r?(o=r,s=e-r):(o=e-r,s=r);let a=1,l=1;for(let u=e;u>s;u--)a*=u,l<=o&&(a/=l,l++);for(;l<=o;)a/=l,l++;return a}}class uo{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new Z(s),a=0,u=e[0].getRightChar().getValue();for(let h=11;h>=0;--h)(u&1<<h)!=0&&o.set(a),a++;for(let h=1;h<e.length;++h){let g=e[h],y=g.getLeftChar().getValue();for(let E=11;E>=0;--E)(y&1<<E)!=0&&o.set(a),a++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let S=11;S>=0;--S)(E&1<<S)!=0&&o.set(a),a++}}return o}}class xr{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Hi{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class wn extends Hi{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===wn.FNC1}}wn.FNC1="$";class Fr extends Hi{constructor(e,r,s){super(e),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class dn extends Hi{constructor(e,r,s){if(super(e),r<0||r>10||s<0||s>10)throw new se;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===dn.FNC1}isAnyFNC1(){return this.firstDigit===dn.FNC1||this.secondDigit===dn.FNC1}}dn.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new z;let r=e.substring(0,2);for(let a of Ee.TWO_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,a[2],e):Ee.processFixedAI(2,a[1],e);if(e.length<3)throw new z;let s=e.substring(0,3);for(let a of Ee.THREE_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,a[2],e):Ee.processFixedAI(3,a[1],e);for(let a of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,a[2],e):Ee.processFixedAI(4,a[1],e);if(e.length<4)throw new z;let o=e.substring(0,4);for(let a of Ee.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,a[2],e):Ee.processFixedAI(4,a[1],e);throw new z}static processFixedAI(e,r,s){if(s.length<e)throw new z;let o=s.substring(0,e);if(s.length<e+r)throw new z;let a=s.substring(e,e+r),l=s.substring(e+r),u="("+o+")"+a,h=Ee.parseFieldsInGeneralPurpose(l);return h==null?u:u+h}static processVariableAI(e,r,s){let o=s.substring(0,e),a;s.length<e+r?a=s.length:a=e+r;let l=s.substring(e,a),u=s.substring(a),h="("+o+")"+l,g=Ee.parseFieldsInGeneralPurpose(u);return g==null?h:h+g}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class sr{constructor(e){this.buffer=new pe,this.information=e}decodeAllCodes(e,r){let s=r,o=null;do{let a=this.decodeGeneralPurposeField(s,o),l=Ee.parseFieldsInGeneralPurpose(a.getNewString());if(l!=null&&e.append(l),a.isRemaining()?o=""+a.getRemainingValue():o=null,s===a.getNewPosition())break;s=a.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(e,4);return a===0?new dn(this.information.getSize(),dn.FNC1,dn.FNC1):new dn(this.information.getSize(),a-1,dn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),s=(r-8)/11,o=(r-8)%11;return new dn(e+7,s,o)}extractNumericValueFromBitArray(e,r){return sr.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,s){let o=0;for(let a=0;a<s;++a)e.get(r+a)&&(o|=1<<s-a-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Fr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Fr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(s!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new Fr(this.current.getPosition(),this.buffer.toString()):r=new Fr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new xr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new Fr(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Fr(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Fr(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wn(e+5,wn.FNC1);if(r>=5&&r<15)return new wn(e+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new wn(e+7,""+(s+1));if(s>=90&&s<116)return new wn(e+7,""+(s+7));let o=this.extractNumericValueFromBitArray(e,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new se}return new wn(e+8,a)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wn(e+5,wn.FNC1);if(r>=5&&r<15)return new wn(e+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new wn(e+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new J("Decoding invalid alphanumeric value: "+s)}return new wn(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class Cs{constructor(e){this.information=e,this.generalDecoder=new sr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class xn extends Cs{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let s=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,s)}encodeCompressedGtinWithoutAI(e,r,s){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);a/100===0&&e.append("0"),a/10===0&&e.append("0"),e.append(a)}xn.appendCheckDigit(e,s)}static appendCheckDigit(e,r){let s=0;for(let o=0;o<13;o++){let a=e.charAt(o+r).charCodeAt(0)-48;s+=(o&1)===0?3*a:a}s=10-s%10,s===10&&(s=0),e.append(s)}}xn.GTIN_SIZE=40;class or extends xn{constructor(e){super(e)}parseInformation(){let e=new pe;e.append("(01)");let r=e.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(or.HEADER_SIZE,4);return e.append(s),this.encodeCompressedGtinWithoutAI(e,or.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,or.HEADER_SIZE+44)}}or.HEADER_SIZE=4;class Vi extends Cs{constructor(e){super(e)}parseInformation(){let e=new pe;return this.getGeneralDecoder().decodeAllCodes(e,Vi.HEADER_SIZE)}}Vi.HEADER_SIZE=5;class Wi extends xn{constructor(e){super(e)}encodeCompressedWeight(e,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(e,o);let a=this.checkWeight(o),l=1e5;for(let u=0;u<5;++u)a/l===0&&e.append("0"),l/=10;e.append(a)}}class Tn extends Wi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Tn.HEADER_SIZE+Wi.GTIN_SIZE+Tn.WEIGHT_SIZE)throw new z;let e=new pe;return this.encodeCompressedGtin(e,Tn.HEADER_SIZE),this.encodeCompressedWeight(e,Tn.HEADER_SIZE+Wi.GTIN_SIZE,Tn.WEIGHT_SIZE),e.toString()}}Tn.HEADER_SIZE=5,Tn.WEIGHT_SIZE=15;class ga extends Tn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class bi extends Tn{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class ar extends xn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ar.HEADER_SIZE+xn.GTIN_SIZE)throw new z;let e=new pe;this.encodeCompressedGtin(e,ar.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+xn.GTIN_SIZE,ar.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(ar.HEADER_SIZE+xn.GTIN_SIZE+ar.LAST_DIGIT_SIZE,null);return e.append(s.getNewString()),e.toString()}}ar.HEADER_SIZE=8,ar.LAST_DIGIT_SIZE=2;class en extends xn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+xn.GTIN_SIZE)throw new z;let e=new pe;this.encodeCompressedGtin(e,en.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+xn.GTIN_SIZE,en.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+xn.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+xn.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class mt extends Wi{constructor(e,r,s){super(e),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE+mt.DATE_SIZE)throw new z;let e=new pe;return this.encodeCompressedGtin(e,mt.HEADER_SIZE),this.encodeCompressedWeight(e,mt.HEADER_SIZE+mt.GTIN_SIZE,mt.WEIGHT_SIZE),this.encodeCompressedDate(e,mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,mt.DATE_SIZE);if(s==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=s%32;s/=32;let a=s%12+1;s/=12;let l=s;l/10==0&&e.append("0"),e.append(l),a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}mt.HEADER_SIZE=8,mt.WEIGHT_SIZE=20,mt.DATE_SIZE=16;function As(A){try{if(A.get(1))return new or(A);if(!A.get(2))return new Vi(A);switch(sr.extractNumericValueFromBitArray(A,1,4)){case 4:return new ga(A);case 5:return new bi(A)}switch(sr.extractNumericValueFromBitArray(A,1,5)){case 12:return new ar(A);case 13:return new en(A)}switch(sr.extractNumericValueFromBitArray(A,1,7)){case 56:return new mt(A,"310","11");case 57:return new mt(A,"320","11");case 58:return new mt(A,"310","13");case 59:return new mt(A,"320","13");case 60:return new mt(A,"310","15");case 61:return new mt(A,"320","15");case 62:return new mt(A,"310","17");case 63:return new mt(A,"320","17")}}catch(e){throw console.log(e),new J("unknown decoder: "+A)}}class lr{constructor(e,r,s,o){this.leftchar=e,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof lr?lr.equalsOrNull(e.leftchar,r.leftchar)&&lr.equalsOrNull(e.rightchar,r.rightchar)&&lr.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:lr.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Es{constructor(e,r,s){this.pairs=e,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof Es?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let s;return e.forEach((o,a)=>{r.forEach(l=>{o.getLeftChar().getValue()===l.getLeftChar().getValue()&&o.getRightChar().getValue()===l.getRightChar().getValue()&&o.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(s=!0)})}),s}}class te extends Jt{constructor(e){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,s){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(a){if(a instanceof z){if(!this.pairs.length)throw new z;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new z}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(o.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(o);try{return this.checkRows(a,s+1)}catch(l){this.verbose&&console.log(l)}}throw new z}static isValidSequence(e){for(let r of te.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let s=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(e,r){let s=0,o=!1,a=!1;for(;s<this.rows.length;){let l=this.rows[s];if(l.getRowNumber()>e){a=l.isEquivalent(this.pairs);break}o=l.isEquivalent(this.pairs),s++}a||o||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Es(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let s of r)if(s.getPairs().length!==e.length){for(let o of s.getPairs())for(let a of e)if(lr.equals(o,a))break}}static isPartialRow(e,r){for(let s of r){let o=!0;for(let a of e){let l=!1;for(let u of s.getPairs())if(a.equals(u)){l=!0;break}if(!l){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=uo.buildBitArray(e),o=As(r).parseInformation(),a=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),u=[a[0],a[1],l[0],l[1]];return new Ht(o,null,null,u,Oe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),s=e.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),a=2;for(let u=1;u<this.pairs.size();++u){let h=this.pairs.get(u);o+=h.getLeftChar().getChecksumPortion(),a++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==r.getValue()}static getNextSecondBar(e,r){let s;return e.get(r)?(s=e.getNextUnset(r),s=e.getNextSet(s)):(s=e.getNextSet(r),s=e.getNextUnset(s)),s}retrieveNextPair(e,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let a,l=!0,u=-1;do this.findNextPair(e,r,u),a=this.parseFoundFinderPattern(e,s,o),a==null?u=te.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let h=this.decodeDataCharacter(e,a,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new z;let g;try{g=this.decodeDataCharacter(e,a,o,!1)}catch(y){g=null,this.verbose&&console.log(y)}return new lr(h,g,a,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),l;s>=0?l=s:this.isEmptyPair(r)?l=0:l=r[r.length-1].getFinderPattern().getStartEnd()[1];let u=r.length%2!=0;this.startFromEven&&(u=!u);let h=!1;for(;l<a&&(h=!e.get(l),!!h);)l++;let g=0,y=l;for(let E=l;E<a;E++)if(e.get(E)!=h)o[g]++;else{if(g==3){if(u&&te.reverseCounters(o),te.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=E;return}u&&te.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new z}static reverseCounters(e){let r=e.length;for(let s=0;s<r/2;++s){let o=e[s];e[s]=e[r-s-1],e[r-s-1]=o}}parseFoundFinderPattern(e,r,s){let o,a,l;if(s){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,o=this.startEnd[0]-g,a=g,l=this.startEnd[1]}else a=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),o=l-this.startEnd[1];let u=this.getDecodeFinderCounters();Q.arraycopy(u,0,u,1,u.length-1),u[0]=o;let h;try{h=this.parseFinderValue(u,te.FINDER_PATTERNS)}catch(g){return null}return new yi(h,[a,l],a,l,r)}decodeDataCharacter(e,r,s,o){let a=this.getDataCharacterCounters();for(let v=0;v<a.length;v++)a[v]=0;if(o)te.recordPatternInReverse(e,r.getStartEnd()[0],a);else{te.recordPattern(e,r.getStartEnd()[1],a);for(let v=0,_=a.length-1;v<_;v++,_--){let P=a[v];a[v]=a[_],a[_]=P}}let l=17,u=K.sum(new Int32Array(a))/l,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(u-h)/h>.3)throw new z;let g=this.getOddCounts(),y=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let v=0;v<a.length;v++){let _=1*a[v]/u,P=_+.5;if(P<1){if(_<.3)throw new z;P=1}else if(P>8){if(_>8.7)throw new z;P=8}let F=v/2;(v&1)==0?(g[F]=P,E[F]=_-P):(y[F]=P,S[F]=_-P)}this.adjustOddEvenCounts(l);let M=4*r.getValue()+(s?0:2)+(o?0:1)-1,R=0,L=0;for(let v=g.length-1;v>=0;v--){if(te.isNotA1left(r,s,o)){let _=te.WEIGHTS[M][2*v];L+=g[v]*_}R+=g[v]}let k=0;for(let v=y.length-1;v>=0;v--)if(te.isNotA1left(r,s,o)){let _=te.WEIGHTS[M][2*v+1];k+=y[v]*_}let G=L+k;if((R&1)!=0||R>13||R<4)throw new z;let ue=(13-R)/2,de=te.SYMBOL_WIDEST[ue],ae=9-de,it=ir.getRSSvalue(g,de,!0),ze=ir.getRSSvalue(y,ae,!1),mn=te.EVEN_TOTAL_SUBSET[ue],m=te.GSUM[ue],x=it*mn+ze+m;return new wr(x,G)}static isNotA1left(e,r,s){return!(e.getValue()==0&&r&&s)}adjustOddEvenCounts(e){let r=K.sum(new Int32Array(this.getOddCounts())),s=K.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);let l=!1,u=!1;s>13?u=!0:s<4&&(l=!0);let h=r+s-e,g=(r&1)==1,y=(s&1)==0;if(h==1)if(g){if(y)throw new z;a=!0}else{if(!y)throw new z;u=!0}else if(h==-1)if(g){if(y)throw new z;o=!0}else{if(!y)throw new z;l=!0}else if(h==0){if(g){if(!y)throw new z;r<s?(o=!0,u=!0):(a=!0,l=!0)}else if(y)throw new z}else throw new z;if(o){if(a)throw new z;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new z;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class pa extends wr{constructor(e,r,s){super(e,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pt extends Jt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,s){const o=this.decodePair(r,!1,e,s);Pt.addOrTally(this.possibleLeftPairs,o),r.reverse();let a=this.decodePair(r,!0,e,s);Pt.addOrTally(this.possibleRightPairs,a),r.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Pt.checkChecksum(l,u))return Pt.constructResult(l,u)}throw new z}static addOrTally(e,r){if(r==null)return;let s=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let s=4537077*e.getValue()+r.getValue(),o=new String(s).toString(),a=new pe;for(let g=13-o.length;g>0;g--)a.append("0");a.append(o);let l=0;for(let g=0;g<13;g++){let y=a.charAt(g).charCodeAt(0)-48;l+=(g&1)===0?3*y:y}l=10-l%10,l===10&&(l=0),a.append(l.toString());let u=e.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ht(a.toString(),null,0,[u[0],u[1],h[0],h[1]],Oe.RSS_14,new Date().getTime())}static checkChecksum(e,r){let s=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(e,r,s,o){try{let a=this.findFinderPattern(e,r),l=this.parseFoundFinderPattern(e,s,r,a),u=o==null?null:o.get(je.NEED_RESULT_POINT_CALLBACK);if(u!=null){let y=(a[0]+a[1])/2;r&&(y=e.getSize()-1-y),u.foundPossibleResultPoint(new H(y,s))}let h=this.decodeDataCharacter(e,l,!0),g=this.decodeDataCharacter(e,l,!1);return new pa(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),l)}catch(a){return null}}decodeDataCharacter(e,r,s){let o=this.getDataCharacterCounters();for(let k=0;k<o.length;k++)o[k]=0;if(s)gt.recordPatternInReverse(e,r.getStartEnd()[0],o);else{gt.recordPattern(e,r.getStartEnd()[1]+1,o);for(let k=0,G=o.length-1;k<G;k++,G--){let ue=o[k];o[k]=o[G],o[G]=ue}}let a=s?16:15,l=K.sum(new Int32Array(o))/a,u=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let k=0;k<o.length;k++){let G=o[k]/l,ue=Math.floor(G+.5);ue<1?ue=1:ue>8&&(ue=8);let de=Math.floor(k/2);(k&1)===0?(u[de]=ue,g[de]=G-ue):(h[de]=ue,y[de]=G-ue)}this.adjustOddEvenCounts(s,a);let E=0,S=0;for(let k=u.length-1;k>=0;k--)S*=9,S+=u[k],E+=u[k];let M=0,R=0;for(let k=h.length-1;k>=0;k--)M*=9,M+=h[k],R+=h[k];let L=S+3*M;if(s){if((E&1)!==0||E>12||E<4)throw new z;let k=(12-E)/2,G=Pt.OUTSIDE_ODD_WIDEST[k],ue=9-G,de=ir.getRSSvalue(u,G,!1),ae=ir.getRSSvalue(h,ue,!0),it=Pt.OUTSIDE_EVEN_TOTAL_SUBSET[k],ze=Pt.OUTSIDE_GSUM[k];return new wr(de*it+ae+ze,L)}else{if((R&1)!==0||R>10||R<4)throw new z;let k=(10-R)/2,G=Pt.INSIDE_ODD_WIDEST[k],ue=9-G,de=ir.getRSSvalue(u,G,!0),ae=ir.getRSSvalue(h,ue,!1),it=Pt.INSIDE_ODD_TOTAL_SUBSET[k],ze=Pt.INSIDE_GSUM[k];return new wr(ae*it+de+ze,L)}}findFinderPattern(e,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=!1,l=0;for(;l<o&&(a=!e.get(l),r!==a);)l++;let u=0,h=l;for(let g=l;g<o;g++)if(e.get(g)!==a)s[u]++;else{if(u===3){if(Jt.isFinderPattern(s))return[h,g];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,u--}else u++;s[u]=1,a=!a}throw new z}parseFoundFinderPattern(e,r,s,o){let a=e.get(o[0]),l=o[0]-1;for(;l>=0&&a!==e.get(l);)l--;l++;const u=o[0]-l,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);Q.arraycopy(h,0,g,1,h.length-1),g[0]=u;const y=this.parseFinderValue(g,Pt.FINDER_PATTERNS);let E=l,S=o[1];return s&&(E=e.getSize()-1-E,S=e.getSize()-1-S),new yi(y,[l,o[1]],E,S,r)}adjustOddEvenCounts(e,r){let s=K.sum(new Int32Array(this.getOddCounts())),o=K.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1,u=!1,h=!1;e?(s>12?l=!0:s<4&&(a=!0),o>12?h=!0:o<4&&(u=!0)):(s>11?l=!0:s<5&&(a=!0),o>10?h=!0:o<4&&(u=!0));let g=s+o-r,y=(s&1)===(e?1:0),E=(o&1)===1;if(g===1)if(y){if(E)throw new z;l=!0}else{if(!E)throw new z;h=!0}else if(g===-1)if(y){if(E)throw new z;a=!0}else{if(!E)throw new z;u=!0}else if(g===0){if(y){if(!E)throw new z;s<o?(a=!0,h=!0):(l=!0,u=!0)}else if(E)throw new z}else throw new z;if(a){if(l)throw new z;Jt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Jt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new z;Jt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Jt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pt.OUTSIDE_GSUM=[0,161,961,2015,2715],Pt.INSIDE_GSUM=[0,336,1036,1516],Pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pt.INSIDE_ODD_WIDEST=[2,4,6,8],Pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class yr extends gt{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const s=e?e.get(je.POSSIBLE_FORMATS):null,o=e&&e.get(je.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(Oe.EAN_13)||s.includes(Oe.UPC_A)||s.includes(Oe.EAN_8)||s.includes(Oe.UPC_E))&&this.readers.push(new bs(e)),s.includes(Oe.CODE_39)&&this.readers.push(new lt(o)),s.includes(Oe.CODE_128)&&this.readers.push(new he),s.includes(Oe.ITF)&&this.readers.push(new nt),s.includes(Oe.RSS_14)&&this.readers.push(new Pt),s.includes(Oe.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new bs(e)),this.readers.push(new lt),this.readers.push(new bs(e)),this.readers.push(new he),this.readers.push(new nt),this.readers.push(new Pt),this.readers.push(new te(this.verbose)))}decodeRow(e,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,s)}catch(a){}throw new z}reset(){this.readers.forEach(e=>e.reset())}}class ma extends Pn{constructor(e=500,r){super(new yr(r),e,r)}}class dt{constructor(e,r,s){this.ecCodewords=e,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ut{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(e,r,s,o,a,l){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=l;let u=0;const h=l.getECCodewords(),g=l.getECBlocks();for(let y of g)u+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if((e&1)!==0||(r&1)!==0)throw new se;for(let s of rt.VERSIONS)if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s;throw new se}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new dt(5,new ut(1,3))),new rt(2,12,12,10,10,new dt(7,new ut(1,5))),new rt(3,14,14,12,12,new dt(10,new ut(1,8))),new rt(4,16,16,14,14,new dt(12,new ut(1,12))),new rt(5,18,18,16,16,new dt(14,new ut(1,18))),new rt(6,20,20,18,18,new dt(18,new ut(1,22))),new rt(7,22,22,20,20,new dt(20,new ut(1,30))),new rt(8,24,24,22,22,new dt(24,new ut(1,36))),new rt(9,26,26,24,24,new dt(28,new ut(1,44))),new rt(10,32,32,14,14,new dt(36,new ut(1,62))),new rt(11,36,36,16,16,new dt(42,new ut(1,86))),new rt(12,40,40,18,18,new dt(48,new ut(1,114))),new rt(13,44,44,20,20,new dt(56,new ut(1,144))),new rt(14,48,48,22,22,new dt(68,new ut(1,174))),new rt(15,52,52,24,24,new dt(42,new ut(2,102))),new rt(16,64,64,14,14,new dt(56,new ut(2,140))),new rt(17,72,72,16,16,new dt(36,new ut(4,92))),new rt(18,80,80,18,18,new dt(48,new ut(4,114))),new rt(19,88,88,20,20,new dt(56,new ut(4,144))),new rt(20,96,96,22,22,new dt(68,new ut(4,174))),new rt(21,104,104,24,24,new dt(56,new ut(6,136))),new rt(22,120,120,18,18,new dt(68,new ut(6,175))),new rt(23,132,132,20,20,new dt(62,new ut(8,163))),new rt(24,144,144,22,22,new dt(62,new ut(8,156),new ut(2,155))),new rt(25,8,18,6,16,new dt(7,new ut(1,5))),new rt(26,8,32,6,14,new dt(11,new ut(1,10))),new rt(27,12,26,10,24,new dt(14,new ut(1,16))),new rt(28,12,36,10,16,new dt(18,new ut(1,22))),new rt(29,16,36,14,16,new dt(24,new ut(1,32))),new rt(30,16,48,14,22,new dt(28,new ut(1,49)))]}}rt.VERSIONS=rt.buildVersions();class vs{constructor(e){const r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new se;this.version=vs.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),s=e.getWidth();return rt.getVersionForDimensions(r,s)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const a=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let u=!1,h=!1,g=!1,y=!1;do if(s===a&&o===0&&!u)e[r++]=this.readCorner1(a,l)&255,s-=2,o+=2,u=!0;else if(s===a-2&&o===0&&(l&3)!==0&&!h)e[r++]=this.readCorner2(a,l)&255,s-=2,o+=2,h=!0;else if(s===a+4&&o===2&&(l&7)===0&&!g)e[r++]=this.readCorner3(a,l)&255,s-=2,o+=2,g=!0;else if(s===a-2&&o===0&&(l&7)===4&&!y)e[r++]=this.readCorner4(a,l)&255,s-=2,o+=2,y=!0;else{do s<a&&o>=0&&!this.readMappingMatrix.get(o,s)&&(e[r++]=this.readUtah(s,o,a,l)&255),s-=2,o+=2;while(s>=0&&o<l);s+=1,o+=3;do s>=0&&o<l&&!this.readMappingMatrix.get(o,s)&&(e[r++]=this.readUtah(s,o,a,l)&255),s+=2,o-=2;while(s<a&&o>=0);s+=3,o+=1}while(s<a||o<l);if(r!==this.version.getTotalCodewords())throw new se;return e}readModule(e,r,s,o){return e<0&&(e+=s,r+=4-(s+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,s,o){let a=0;return this.readModule(e-2,r-2,s,o)&&(a|=1),a<<=1,this.readModule(e-2,r-1,s,o)&&(a|=1),a<<=1,this.readModule(e-1,r-2,s,o)&&(a|=1),a<<=1,this.readModule(e-1,r-1,s,o)&&(a|=1),a<<=1,this.readModule(e-1,r,s,o)&&(a|=1),a<<=1,this.readModule(e,r-2,s,o)&&(a|=1),a<<=1,this.readModule(e,r-1,s,o)&&(a|=1),a<<=1,this.readModule(e,r,s,o)&&(a|=1),a}readCorner1(e,r){let s=0;return this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,1,e,r)&&(s|=1),s<<=1,this.readModule(e-1,2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(2,r-1,e,r)&&(s|=1),s<<=1,this.readModule(3,r-1,e,r)&&(s|=1),s}readCorner2(e,r){let s=0;return this.readModule(e-3,0,e,r)&&(s|=1),s<<=1,this.readModule(e-2,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(0,r-4,e,r)&&(s|=1),s<<=1,this.readModule(0,r-3,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s}readCorner3(e,r){let s=0;return this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(0,r-3,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-3,e,r)&&(s|=1),s<<=1,this.readModule(1,r-2,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s}readCorner4(e,r){let s=0;return this.readModule(e-3,0,e,r)&&(s|=1),s<<=1,this.readModule(e-2,0,e,r)&&(s|=1),s<<=1,this.readModule(e-1,0,e,r)&&(s|=1),s<<=1,this.readModule(0,r-2,e,r)&&(s|=1),s<<=1,this.readModule(0,r-1,e,r)&&(s|=1),s<<=1,this.readModule(1,r-1,e,r)&&(s|=1),s<<=1,this.readModule(2,r-1,e,r)&&(s|=1),s<<=1,this.readModule(3,r-1,e,r)&&(s|=1),s}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),l=r/o|0,u=s/a|0,h=l*o,g=u*a,y=new Me(g,h);for(let E=0;E<l;++E){const S=E*o;for(let M=0;M<u;++M){const R=M*a;for(let L=0;L<o;++L){const k=E*(o+2)+1+L,G=S+L;for(let ue=0;ue<a;++ue){const de=M*(a+2)+1+ue;if(e.get(de,k)){const ae=R+ue;y.set(ae,G)}}}}}return y}}class ei{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const s=r.getECBlocks();let o=0;const a=s.getECBlocks();for(let L of a)o+=L.getCount();const l=new Array(o);let u=0;for(let L of a)for(let k=0;k<L.getCount();k++){const G=L.getDataCodewords(),ue=s.getECCodewords()+G;l[u++]=new ei(G,new Uint8Array(ue))}const g=l[0].codewords.length-s.getECCodewords(),y=g-1;let E=0;for(let L=0;L<y;L++)for(let k=0;k<u;k++)l[k].codewords[L]=e[E++];const S=r.getVersionNumber()===24,M=S?8:u;for(let L=0;L<M;L++)l[L].codewords[g-1]=e[E++];const R=l[0].codewords.length;for(let L=g;L<R;L++)for(let k=0;k<u;k++){const G=S?(k+8)%u:k,ue=S&&G>7?L-1:L;l[G].codewords[ue]=e[E++]}if(E!==e.length)throw new T;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let r=0,s=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(s>0){const l=8-s,u=e<l?e:l,h=l-u,g=255>>8-u<<h;r=(a[o]&g)>>h,e-=u,s+=u,s===8&&(s=0,o++)}if(e>0){for(;e>=8;)r=r<<8|a[o]&255,o++,e-=8;if(e>0){const l=8-e,u=255>>l<<l;r=r<<e|(a[o]&u)>>l,s+=e}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class Yn{static decode(e){const r=new zi(e),s=new pe,o=new pe,a=new Array;let l=$t.ASCII_ENCODE;do if(l===$t.ASCII_ENCODE)l=this.decodeAsciiSegment(r,s,o);else{switch(l){case $t.C40_ENCODE:this.decodeC40Segment(r,s);break;case $t.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(r,s,a);break;default:throw new se}l=$t.ASCII_ENCODE}while(l!==$t.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new mr(e,s.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(e,r,s){let o=!1;do{let a=e.readBits(8);if(a===0)throw new se;if(a<=128)return o&&(a+=128),r.append(String.fromCharCode(a-1)),$t.ASCII_ENCODE;if(a===129)return $t.PAD_ENCODE;if(a<=229){const l=a-130;l<10&&r.append("0"),r.append(""+l)}else switch(a){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new se;break}}while(e.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(e,r){let s=!1;const o=[];let a=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(let u=0;u<3;u++){const h=o[u];switch(a){case 0:if(h<3)a=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new se;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new se}a=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),a=0;break;default:throw new se}}}while(e.available()>0)}static decodeTextSegment(e,r){let s=!1,o=[],a=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(let u=0;u<3;u++){const h=o[u];switch(a){case 0:if(h<3)a=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new se;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new se}a=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g),a=0}else throw new se;break;default:throw new se}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const s=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),s);for(let a=0;a<3;a++){const l=s[a];switch(l){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(l<14)r.append(String.fromCharCode(l+44));else if(l<40)r.append(String.fromCharCode(l+51));else throw new se;break}}}while(e.available()>0)}static parseTwoBytes(e,r,s){let o=(e<<8)+r-1,a=Math.floor(o/1600);s[0]=a,o-=a*1600,a=Math.floor(o/40),s[1]=a,s[2]=o-a*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let s=0;s<4;s++){let o=e.readBits(6);if(o===31){const a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(o&32)===0&&(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,s){let o=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),o++);let l;if(a===0?l=e.available()/8|0:a<250?l=a:l=250*(a-249)+this.unrandomize255State(e.readBits(8),o++),l<0)throw new se;const u=new Uint8Array(l);for(let h=0;h<l;h++){if(e.available()<8)throw new se;u[h]=this.unrandomize255State(e.readBits(8),o++)}s.push(u);try{r.append(ge.decode(u,ee.ISO88591))}catch(h){throw new J("Platform does not support required encoding: "+h.message)}}static unrandomize255State(e,r){const s=149*r%255+1,o=e-s;return o>=0?o:o+256}}Yn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Yn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Yn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Yn.TEXT_SHIFT2_SET_CHARS=Yn.C40_SHIFT2_SET_CHARS,Yn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class fo{constructor(){this.rsDecoder=new re(D.DATA_MATRIX_FIELD_256)}decode(e){const r=new vs(e),s=r.getVersion(),o=r.readCodewords(),a=ei.getDataBlocks(o,s);let l=0;for(let g of a)l+=g.getNumDataCodewords();const u=new Uint8Array(l),h=a.length;for(let g=0;g<h;g++){const y=a[g],E=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(E,S);for(let M=0;M<S;M++)u[M*h+g]=E[M]}return Yn.decode(u)}correctErrors(e,r){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-r)}catch(o){throw new U}for(let o=0;o<r;o++)e[o]=s[o]}}class Xe{constructor(e){this.image=e,this.rectangleDetector=new Te(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new z;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],a=r[2],l=r[3];let u=this.transitionsBetween(s,l)+1,h=this.transitionsBetween(a,l)+1;(u&1)===1&&(u+=1),(h&1)===1&&(h+=1),4*u<7*h&&4*h<7*u&&(u=h=Math.max(u,h));let g=Xe.sampleGrid(this.image,s,o,a,l,u,h);return new Re(g,[s,o,a,l])}static shiftPoint(e,r,s){let o=(r.getX()-e.getX())/(s+1),a=(r.getY()-e.getY())/(s+1);return new H(e.getX()+o,e.getY()+a)}static moveAway(e,r,s){let o=e.getX(),a=e.getY();return o<r?o-=1:o+=1,a<s?a-=1:a+=1,new H(o,a)}detectSolid1(e){let r=e[0],s=e[1],o=e[3],a=e[2],l=this.transitionsBetween(r,s),u=this.transitionsBetween(s,o),h=this.transitionsBetween(o,a),g=this.transitionsBetween(a,r),y=l,E=[a,r,s,o];return y>u&&(y=u,E[0]=r,E[1]=s,E[2]=o,E[3]=a),y>h&&(y=h,E[0]=s,E[1]=o,E[2]=a,E[3]=r),y>g&&(E[0]=o,E[1]=a,E[2]=r,E[3]=s),E}detectSolid2(e){let r=e[0],s=e[1],o=e[2],a=e[3],l=this.transitionsBetween(r,a),u=Xe.shiftPoint(s,o,(l+1)*4),h=Xe.shiftPoint(o,s,(l+1)*4),g=this.transitionsBetween(u,r),y=this.transitionsBetween(h,a);return g<y?(e[0]=r,e[1]=s,e[2]=o,e[3]=a):(e[0]=s,e[1]=o,e[2]=a,e[3]=r),e}correctTopRight(e){let r=e[0],s=e[1],o=e[2],a=e[3],l=this.transitionsBetween(r,a),u=this.transitionsBetween(s,a),h=Xe.shiftPoint(r,s,(u+1)*4),g=Xe.shiftPoint(o,s,(l+1)*4);l=this.transitionsBetween(h,a),u=this.transitionsBetween(g,a);let y=new H(a.getX()+(o.getX()-s.getX())/(l+1),a.getY()+(o.getY()-s.getY())/(l+1)),E=new H(a.getX()+(r.getX()-s.getX())/(u+1),a.getY()+(r.getY()-s.getY())/(u+1));if(!this.isValid(y))return this.isValid(E)?E:null;if(!this.isValid(E))return y;let S=this.transitionsBetween(h,y)+this.transitionsBetween(g,y),M=this.transitionsBetween(h,E)+this.transitionsBetween(g,E);return S>M?y:E}shiftToModuleCenter(e){let r=e[0],s=e[1],o=e[2],a=e[3],l=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(o,a)+1,h=Xe.shiftPoint(r,s,u*4),g=Xe.shiftPoint(o,s,l*4);l=this.transitionsBetween(h,a)+1,u=this.transitionsBetween(g,a)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);let y=(r.getX()+s.getX()+o.getX()+a.getX())/4,E=(r.getY()+s.getY()+o.getY()+a.getY())/4;r=Xe.moveAway(r,y,E),s=Xe.moveAway(s,y,E),o=Xe.moveAway(o,y,E),a=Xe.moveAway(a,y,E);let S,M;return h=Xe.shiftPoint(r,s,u*4),h=Xe.shiftPoint(h,a,l*4),S=Xe.shiftPoint(s,r,u*4),S=Xe.shiftPoint(S,o,l*4),g=Xe.shiftPoint(o,a,u*4),g=Xe.shiftPoint(g,s,l*4),M=Xe.shiftPoint(a,o,u*4),M=Xe.shiftPoint(M,r,l*4),[h,S,g,M]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,s,o,a,l,u){return qe.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,r.getX(),r.getY(),a.getX(),a.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(e,r){let s=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.trunc(r.getX()),l=Math.trunc(r.getY()),u=Math.abs(l-o)>Math.abs(a-s);if(u){let L=s;s=o,o=L,L=a,a=l,l=L}let h=Math.abs(a-s),g=Math.abs(l-o),y=-h/2,E=o<l?1:-1,S=s<a?1:-1,M=0,R=this.image.get(u?o:s,u?s:o);for(let L=s,k=o;L!==a;L+=S){let G=this.image.get(u?k:L,u?L:k);if(G!==R&&(M++,R=G),y+=g,y>0){if(k===l)break;k+=E,y-=h}}return M}}class br{constructor(){this.decoder=new fo}decode(e,r=null){let s,o;if(r!=null&&r.has(je.PURE_BARCODE)){const g=br.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(g),o=br.NO_POINTS}else{const g=new Xe(e.getBlackMatrix()).detect();s=this.decoder.decode(g.getBits()),o=g.getPoints()}const a=s.getRawBytes(),l=new Ht(s.getText(),a,8*a.length,o,Oe.DATA_MATRIX,Q.currentTimeMillis()),u=s.getByteSegments();u!=null&&l.putMetadata(vt.BYTE_SEGMENTS,u);const h=s.getECLevel();return h!=null&&l.putMetadata(vt.ERROR_CORRECTION_LEVEL,h),l}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(r==null||s==null)throw new z;const o=this.moduleSize(r,e);let a=r[1];const l=s[1];let u=r[0];const g=(s[0]-u+1)/o,y=(l-a+1)/o;if(g<=0||y<=0)throw new z;const E=o/2;a+=E,u+=E;const S=new Me(g,y);for(let M=0;M<y;M++){const R=a+M*o;for(let L=0;L<g;L++)e.get(u+L*o,R)&&S.set(L,M)}return S}static moduleSize(e,r){const s=r.getWidth();let o=e[0];const a=e[1];for(;o<s&&r.get(o,a);)o++;if(o===s)throw new z;const l=o-e[0];if(l===0)throw new z;return l}}br.NO_POINTS=[];class wa extends Pn{constructor(e=500){super(new br,e)}}var hn;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(hn||(hn={}));class Et{constructor(e,r,s){this.value=e,this.stringValue=r,this.bits=s,Et.FOR_BITS.set(s,this),Et.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new I(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Et))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=Et.FOR_BITS.size)throw new T;return Et.FOR_BITS.get(e)}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.L=new Et(hn.L,"L",1),Et.M=new Et(hn.M,"M",0),Et.Q=new Et(hn.Q,"Q",3),Et.H=new Et(hn.H,"H",2);class on{constructor(e){this.errorCorrectionLevel=Et.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return ne.bitCount(e^r)}static decodeFormatInformation(e,r){const s=on.doDecodeFormatInformation(e,r);return s!==null?s:on.doDecodeFormatInformation(e^on.FORMAT_INFO_MASK_QR,r^on.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const a of on.FORMAT_INFO_DECODE_LOOKUP){const l=a[0];if(l===e||l===r)return new on(a[1]);let u=on.numBitsDiffering(e,l);u<s&&(o=a[1],s=u),e!==r&&(u=on.numBitsDiffering(r,l),u<s&&(o=a[1],s=u))}return s<=3?new on(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof on))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}on.FORMAT_INFO_MASK_QR=21522,on.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const s of r)e+=s.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(e,r,...s){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const a=s[0].getECCodewordsPerBlock(),l=s[0].getECBlocks();for(const u of l)o+=u.getCount()*(u.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new se;try{return this.getVersionForNumber((e-17)/4)}catch(r){throw new se}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return De.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<De.VERSION_DECODE_INFO.length;o++){const a=De.VERSION_DECODE_INFO[o];if(a===e)return De.getVersionForNumber(o+7);const l=on.numBitsDiffering(e,a);l<r&&(s=o+7,r=l)}return r<=3?De.getVersionForNumber(s):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Me(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const a=this.alignmentPatternCenters[o]-2;for(let l=0;l<s;l++)o===0&&(l===0||l===s-1)||o===s-1&&l===0||r.setRegion(this.alignmentPatternCenters[l]-2,a,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new j(7,new O(1,19)),new j(10,new O(1,16)),new j(13,new O(1,13)),new j(17,new O(1,9))),new De(2,Int32Array.from([6,18]),new j(10,new O(1,34)),new j(16,new O(1,28)),new j(22,new O(1,22)),new j(28,new O(1,16))),new De(3,Int32Array.from([6,22]),new j(15,new O(1,55)),new j(26,new O(1,44)),new j(18,new O(2,17)),new j(22,new O(2,13))),new De(4,Int32Array.from([6,26]),new j(20,new O(1,80)),new j(18,new O(2,32)),new j(26,new O(2,24)),new j(16,new O(4,9))),new De(5,Int32Array.from([6,30]),new j(26,new O(1,108)),new j(24,new O(2,43)),new j(18,new O(2,15),new O(2,16)),new j(22,new O(2,11),new O(2,12))),new De(6,Int32Array.from([6,34]),new j(18,new O(2,68)),new j(16,new O(4,27)),new j(24,new O(4,19)),new j(28,new O(4,15))),new De(7,Int32Array.from([6,22,38]),new j(20,new O(2,78)),new j(18,new O(4,31)),new j(18,new O(2,14),new O(4,15)),new j(26,new O(4,13),new O(1,14))),new De(8,Int32Array.from([6,24,42]),new j(24,new O(2,97)),new j(22,new O(2,38),new O(2,39)),new j(22,new O(4,18),new O(2,19)),new j(26,new O(4,14),new O(2,15))),new De(9,Int32Array.from([6,26,46]),new j(30,new O(2,116)),new j(22,new O(3,36),new O(2,37)),new j(20,new O(4,16),new O(4,17)),new j(24,new O(4,12),new O(4,13))),new De(10,Int32Array.from([6,28,50]),new j(18,new O(2,68),new O(2,69)),new j(26,new O(4,43),new O(1,44)),new j(24,new O(6,19),new O(2,20)),new j(28,new O(6,15),new O(2,16))),new De(11,Int32Array.from([6,30,54]),new j(20,new O(4,81)),new j(30,new O(1,50),new O(4,51)),new j(28,new O(4,22),new O(4,23)),new j(24,new O(3,12),new O(8,13))),new De(12,Int32Array.from([6,32,58]),new j(24,new O(2,92),new O(2,93)),new j(22,new O(6,36),new O(2,37)),new j(26,new O(4,20),new O(6,21)),new j(28,new O(7,14),new O(4,15))),new De(13,Int32Array.from([6,34,62]),new j(26,new O(4,107)),new j(22,new O(8,37),new O(1,38)),new j(24,new O(8,20),new O(4,21)),new j(22,new O(12,11),new O(4,12))),new De(14,Int32Array.from([6,26,46,66]),new j(30,new O(3,115),new O(1,116)),new j(24,new O(4,40),new O(5,41)),new j(20,new O(11,16),new O(5,17)),new j(24,new O(11,12),new O(5,13))),new De(15,Int32Array.from([6,26,48,70]),new j(22,new O(5,87),new O(1,88)),new j(24,new O(5,41),new O(5,42)),new j(30,new O(5,24),new O(7,25)),new j(24,new O(11,12),new O(7,13))),new De(16,Int32Array.from([6,26,50,74]),new j(24,new O(5,98),new O(1,99)),new j(28,new O(7,45),new O(3,46)),new j(24,new O(15,19),new O(2,20)),new j(30,new O(3,15),new O(13,16))),new De(17,Int32Array.from([6,30,54,78]),new j(28,new O(1,107),new O(5,108)),new j(28,new O(10,46),new O(1,47)),new j(28,new O(1,22),new O(15,23)),new j(28,new O(2,14),new O(17,15))),new De(18,Int32Array.from([6,30,56,82]),new j(30,new O(5,120),new O(1,121)),new j(26,new O(9,43),new O(4,44)),new j(28,new O(17,22),new O(1,23)),new j(28,new O(2,14),new O(19,15))),new De(19,Int32Array.from([6,30,58,86]),new j(28,new O(3,113),new O(4,114)),new j(26,new O(3,44),new O(11,45)),new j(26,new O(17,21),new O(4,22)),new j(26,new O(9,13),new O(16,14))),new De(20,Int32Array.from([6,34,62,90]),new j(28,new O(3,107),new O(5,108)),new j(26,new O(3,41),new O(13,42)),new j(30,new O(15,24),new O(5,25)),new j(28,new O(15,15),new O(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new j(28,new O(4,116),new O(4,117)),new j(26,new O(17,42)),new j(28,new O(17,22),new O(6,23)),new j(30,new O(19,16),new O(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new j(28,new O(2,111),new O(7,112)),new j(28,new O(17,46)),new j(30,new O(7,24),new O(16,25)),new j(24,new O(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new j(30,new O(4,121),new O(5,122)),new j(28,new O(4,47),new O(14,48)),new j(30,new O(11,24),new O(14,25)),new j(30,new O(16,15),new O(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new j(30,new O(6,117),new O(4,118)),new j(28,new O(6,45),new O(14,46)),new j(30,new O(11,24),new O(16,25)),new j(30,new O(30,16),new O(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new j(26,new O(8,106),new O(4,107)),new j(28,new O(8,47),new O(13,48)),new j(30,new O(7,24),new O(22,25)),new j(30,new O(22,15),new O(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new j(28,new O(10,114),new O(2,115)),new j(28,new O(19,46),new O(4,47)),new j(28,new O(28,22),new O(6,23)),new j(30,new O(33,16),new O(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new j(30,new O(8,122),new O(4,123)),new j(28,new O(22,45),new O(3,46)),new j(30,new O(8,23),new O(26,24)),new j(30,new O(12,15),new O(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new O(3,117),new O(10,118)),new j(28,new O(3,45),new O(23,46)),new j(30,new O(4,24),new O(31,25)),new j(30,new O(11,15),new O(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new O(7,116),new O(7,117)),new j(28,new O(21,45),new O(7,46)),new j(30,new O(1,23),new O(37,24)),new j(30,new O(19,15),new O(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new O(5,115),new O(10,116)),new j(28,new O(19,47),new O(10,48)),new j(30,new O(15,24),new O(25,25)),new j(30,new O(23,15),new O(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new O(13,115),new O(3,116)),new j(28,new O(2,46),new O(29,47)),new j(30,new O(42,24),new O(1,25)),new j(30,new O(23,15),new O(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new O(17,115)),new j(28,new O(10,46),new O(23,47)),new j(30,new O(10,24),new O(35,25)),new j(30,new O(19,15),new O(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new O(17,115),new O(1,116)),new j(28,new O(14,46),new O(21,47)),new j(30,new O(29,24),new O(19,25)),new j(30,new O(11,15),new O(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new O(13,115),new O(6,116)),new j(28,new O(14,46),new O(23,47)),new j(30,new O(44,24),new O(7,25)),new j(30,new O(59,16),new O(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new O(12,121),new O(7,122)),new j(28,new O(12,47),new O(26,48)),new j(30,new O(39,24),new O(14,25)),new j(30,new O(22,15),new O(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new O(6,121),new O(14,122)),new j(28,new O(6,47),new O(34,48)),new j(30,new O(46,24),new O(10,25)),new j(30,new O(2,15),new O(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new O(17,122),new O(4,123)),new j(28,new O(29,46),new O(14,47)),new j(30,new O(49,24),new O(10,25)),new j(30,new O(24,15),new O(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new O(4,122),new O(18,123)),new j(28,new O(13,46),new O(32,47)),new j(30,new O(48,24),new O(14,25)),new j(30,new O(42,15),new O(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new O(20,117),new O(4,118)),new j(28,new O(40,47),new O(7,48)),new j(30,new O(43,24),new O(22,25)),new j(30,new O(10,15),new O(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new O(19,118),new O(6,119)),new j(28,new O(18,47),new O(31,48)),new j(30,new O(34,24),new O(34,25)),new j(30,new O(20,15),new O(61,16)))];var Wt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Wt||(Wt={}));class kn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&e.flip(o,s)}}kn.values=new Map([[Wt.DATA_MASK_000,new kn(Wt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Wt.DATA_MASK_001,new kn(Wt.DATA_MASK_001,(A,e)=>(A&1)===0)],[Wt.DATA_MASK_010,new kn(Wt.DATA_MASK_010,(A,e)=>e%3===0)],[Wt.DATA_MASK_011,new kn(Wt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Wt.DATA_MASK_100,new kn(Wt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Wt.DATA_MASK_101,new kn(Wt.DATA_MASK_101,(A,e)=>A*e%6===0)],[Wt.DATA_MASK_110,new kn(Wt.DATA_MASK_110,(A,e)=>A*e%6<3)],[Wt.DATA_MASK_111,new kn(Wt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Is{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new se;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let a=r-1;a>=o;a--)s=this.copyBit(8,a,s);for(let a=r-8;a<r;a++)s=this.copyBit(a,8,s);if(this.parsedFormatInfo=on.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new se}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return De.getVersionForNumber(r);let s=0;const o=e-11;for(let l=5;l>=0;l--)for(let u=e-9;u>=o;u--)s=this.copyBit(u,l,s);let a=De.decodeVersionInformation(s);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;s=0;for(let l=5;l>=0;l--)for(let u=e-9;u>=o;u--)s=this.copyBit(l,u,s);if(a=De.decodeVersionInformation(s),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new se}copyBit(e,r,s){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?s<<1|1:s<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),s=kn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const a=r.buildFunctionPattern();let l=!0;const u=new Uint8Array(r.getTotalCodewords());let h=0,g=0,y=0;for(let E=o-1;E>0;E-=2){E===6&&E--;for(let S=0;S<o;S++){const M=l?o-1-S:S;for(let R=0;R<2;R++)a.get(E-R,M)||(y++,g<<=1,this.bitMatrix.get(E-R,M)&&(g|=1),y===8&&(u[h++]=g,y=0,g=0))}l=!l}if(h!==r.getTotalCodewords())throw new se;return u}remask(){if(this.parsedFormatInfo===null)return;const e=kn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,s=e.getWidth();r<s;r++)for(let o=r+1,a=e.getHeight();o<a;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class Ss{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,s){if(e.length!==r.getTotalCodewords())throw new T;const o=r.getECBlocksForLevel(s);let a=0;const l=o.getECBlocks();for(const R of l)a+=R.getCount();const u=new Array(a);let h=0;for(const R of l)for(let L=0;L<R.getCount();L++){const k=R.getDataCodewords(),G=o.getECCodewordsPerBlock()+k;u[h++]=new Ss(k,new Uint8Array(G))}const g=u[0].codewords.length;let y=u.length-1;for(;y>=0&&u[y].codewords.length!==g;)y--;y++;const E=g-o.getECCodewordsPerBlock();let S=0;for(let R=0;R<E;R++)for(let L=0;L<h;L++)u[L].codewords[R]=e[S++];for(let R=y;R<h;R++)u[R].codewords[E]=e[S++];const M=u[0].codewords.length;for(let R=E;R<M;R++)for(let L=0;L<h;L++){const k=L<y?R:R+1;u[L].codewords[k]=e[S++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _n;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(_n||(_n={}));class Le{constructor(e,r,s,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,Le.FOR_BITS.set(o,this),Le.FOR_VALUE.set(e,this)}static forBits(e){const r=Le.FOR_BITS.get(e);if(r===void 0)throw new T;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Le))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(_n.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(_n.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(_n.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(_n.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(_n.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(_n.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(_n.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(_n.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(_n.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(_n.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Dt{static decode(e,r,s,o){const a=new zi(e);let l=new pe;const u=new Array;let h=-1,g=-1;try{let y=null,E=!1,S;do{if(a.available()<4)S=Le.TERMINATOR;else{const M=a.readBits(4);S=Le.forBits(M)}switch(S){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:E=!0;break;case Le.STRUCTURED_APPEND:if(a.available()<16)throw new se;h=a.readBits(8),g=a.readBits(8);break;case Le.ECI:const M=Dt.parseECIValue(a);if(y=le.getCharacterSetECIByValue(M),y===null)throw new se;break;case Le.HANZI:const R=a.readBits(4),L=a.readBits(S.getCharacterCountBits(r));R===Dt.GB2312_SUBSET&&Dt.decodeHanziSegment(a,l,L);break;default:const k=a.readBits(S.getCharacterCountBits(r));switch(S){case Le.NUMERIC:Dt.decodeNumericSegment(a,l,k);break;case Le.ALPHANUMERIC:Dt.decodeAlphanumericSegment(a,l,k,E);break;case Le.BYTE:Dt.decodeByteSegment(a,l,k,y,u,o);break;case Le.KANJI:Dt.decodeKanjiSegment(a,l,k);break;default:throw new se}break}}while(S!==Le.TERMINATOR)}catch(y){throw new se}return new mr(e,l.toString(),u.length===0?null:u,s===null?null:s.toString(),h,g)}static decodeHanziSegment(e,r,s){if(s*13>e.available())throw new se;const o=new Uint8Array(2*s);let a=0;for(;s>0;){const l=e.readBits(13);let u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,o[a]=u>>8&255,o[a+1]=u&255,a+=2,s--}try{r.append(ge.decode(o,ee.GB2312))}catch(l){throw new se(l)}}static decodeKanjiSegment(e,r,s){if(s*13>e.available())throw new se;const o=new Uint8Array(2*s);let a=0;for(;s>0;){const l=e.readBits(13);let u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,o[a]=u>>8,o[a+1]=u,a+=2,s--}try{r.append(ge.decode(o,ee.SHIFT_JIS))}catch(l){throw new se(l)}}static decodeByteSegment(e,r,s,o,a,l){if(8*s>e.available())throw new se;const u=new Uint8Array(s);for(let g=0;g<s;g++)u[g]=e.readBits(8);let h;o===null?h=ee.guessEncoding(u,l):h=o.getName();try{r.append(ge.decode(u,h))}catch(g){throw new se(g)}a.push(u)}static toAlphaNumericChar(e){if(e>=Dt.ALPHANUMERIC_CHARS.length)throw new se;return Dt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,s,o){const a=r.length();for(;s>1;){if(e.available()<11)throw new se;const l=e.readBits(11);r.append(Dt.toAlphaNumericChar(Math.floor(l/45))),r.append(Dt.toAlphaNumericChar(l%45)),s-=2}if(s===1){if(e.available()<6)throw new se;r.append(Dt.toAlphaNumericChar(e.readBits(6)))}if(o)for(let l=a;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))}static decodeNumericSegment(e,r,s){for(;s>=3;){if(e.available()<10)throw new se;const o=e.readBits(10);if(o>=1e3)throw new se;r.append(Dt.toAlphaNumericChar(Math.floor(o/100))),r.append(Dt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Dt.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(e.available()<7)throw new se;const o=e.readBits(7);if(o>=100)throw new se;r.append(Dt.toAlphaNumericChar(Math.floor(o/10))),r.append(Dt.toAlphaNumericChar(o%10))}else if(s===1){if(e.available()<4)throw new se;const o=e.readBits(4);if(o>=10)throw new se;r.append(Dt.toAlphaNumericChar(o))}}static parseECIValue(e){const r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const s=e.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=e.readBits(16);return(r&31)<<16&4294967295|s}throw new se}}Dt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Dt.GB2312_SUBSET=1;class Ts{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class Fn{constructor(){this.rsDecoder=new re(D.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Me.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const s=new Is(e);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(a){o=a}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const a=this.decodeBitMatrixParser(s,r);return a.setOther(new Ts(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(e,r){const s=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),l=Ss.getDataBlocks(a,s,o);let u=0;for(const y of l)u+=y.getNumDataCodewords();const h=new Uint8Array(u);let g=0;for(const y of l){const E=y.getCodewords(),S=y.getNumDataCodewords();this.correctErrors(E,S);for(let M=0;M<S;M++)h[g++]=E[M]}return Dt.decode(h,s,o,r)}correctErrors(e,r){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-r)}catch(o){throw new U}for(let o=0;o<r;o++)e[o]=s[o]}}class Ci extends H{constructor(e,r,s){super(e,r),this.estimatedModuleSize=s}aboutEquals(e,r,s){if(Math.abs(r-this.getY())<=e&&Math.abs(s-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,s){const o=(this.getX()+r)/2,a=(this.getY()+e)/2,l=(this.estimatedModuleSize+s)/2;return new Ci(o,a,l)}}class Gi{constructor(e,r,s,o,a,l,u){this.image=e,this.startX=r,this.startY=s,this.width=o,this.height=a,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,s=this.width,o=e+s,a=this.startY+r/2,l=new Int32Array(3),u=this.image;for(let h=0;h<r;h++){const g=a+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));l[0]=0,l[1]=0,l[2]=0;let y=e;for(;y<o&&!u.get(y,g);)y++;let E=0;for(;y<o;){if(u.get(y,g))if(E===1)l[1]++;else if(E===2){if(this.foundPatternCross(l)){const S=this.handlePossibleCenter(l,g,y);if(S!==null)return S}l[0]=l[2],l[1]=1,l[2]=0,E=1}else l[++E]++;else E===1&&E++,l[E]++;y++}if(this.foundPatternCross(l)){const S=this.handlePossibleCenter(l,g,o);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new z}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=s)return!1;return!0}crossCheckVertical(e,r,s,o){const a=this.image,l=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let h=e;for(;h>=0&&a.get(r,h)&&u[1]<=s;)u[1]++,h--;if(h<0||u[1]>s)return NaN;for(;h>=0&&!a.get(r,h)&&u[0]<=s;)u[0]++,h--;if(u[0]>s)return NaN;for(h=e+1;h<l&&a.get(r,h)&&u[1]<=s;)u[1]++,h++;if(h===l||u[1]>s)return NaN;for(;h<l&&!a.get(r,h)&&u[2]<=s;)u[2]++,h++;if(u[2]>s)return NaN;const g=u[0]+u[1]+u[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(u)?Gi.centerFromEnd(u,h):NaN}handlePossibleCenter(e,r,s){const o=e[0]+e[1]+e[2],a=Gi.centerFromEnd(e,s),l=this.crossCheckVertical(r,a,2*e[1],o);if(!isNaN(l)){const u=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(u,l,a))return g.combineEstimate(l,a,u);const h=new Ci(a,l,u);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class _s extends H{constructor(e,r,s,o){super(e,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,s){if(Math.abs(r-this.getY())<=e&&Math.abs(s-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,s){const o=this.count+1,a=(this.count*this.getX()+r)/o,l=(this.count*this.getY()+e)/o,u=(this.count*this.estimatedModuleSize+s)/o;return new _s(a,l,u,o)}}class fr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tn{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(je.TRY_HARDER)!==void 0,s=e!=null&&e.get(je.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),l=o.getWidth();let u=Math.floor(3*a/(4*tn.MAX_MODULES));(u<tn.MIN_SKIP||r)&&(u=tn.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let E=u-1;E<a&&!h;E+=u){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let S=0;for(let M=0;M<l;M++)if(o.get(M,E))(S&1)===1&&S++,g[S]++;else if((S&1)===0)if(S===4)if(tn.foundPatternCross(g)){if(this.handlePossibleCenter(g,E,M,s)===!0)if(u=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>g[2]&&(E+=L-g[2]-u,M=l-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;continue}S=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;else g[++S]++;else g[S]++;tn.foundPatternCross(g)&&this.handlePossibleCenter(g,E,l,s)===!0&&(u=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return H.orderBestPatterns(y),new fr(y)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let a=0;a<5;a++){const l=e[a];if(l===0)return!1;r+=l}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-e[0])<o&&Math.abs(s-e[1])<o&&Math.abs(3*s-e[2])<3*o&&Math.abs(s-e[3])<o&&Math.abs(s-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,s,o){const a=this.getCrossCheckStateCount();let l=0;const u=this.image;for(;e>=l&&r>=l&&u.get(r-l,e-l);)a[2]++,l++;if(e<l||r<l)return!1;for(;e>=l&&r>=l&&!u.get(r-l,e-l)&&a[1]<=s;)a[1]++,l++;if(e<l||r<l||a[1]>s)return!1;for(;e>=l&&r>=l&&u.get(r-l,e-l)&&a[0]<=s;)a[0]++,l++;if(a[0]>s)return!1;const h=u.getHeight(),g=u.getWidth();for(l=1;e+l<h&&r+l<g&&u.get(r+l,e+l);)a[2]++,l++;if(e+l>=h||r+l>=g)return!1;for(;e+l<h&&r+l<g&&!u.get(r+l,e+l)&&a[3]<s;)a[3]++,l++;if(e+l>=h||r+l>=g||a[3]>=s)return!1;for(;e+l<h&&r+l<g&&u.get(r+l,e+l)&&a[4]<s;)a[4]++,l++;if(a[4]>=s)return!1;const y=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(y-o)<2*o&&tn.foundPatternCross(a)}crossCheckVertical(e,r,s,o){const a=this.image,l=a.getHeight(),u=this.getCrossCheckStateCount();let h=e;for(;h>=0&&a.get(r,h);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(r,h)&&u[1]<=s;)u[1]++,h--;if(h<0||u[1]>s)return NaN;for(;h>=0&&a.get(r,h)&&u[0]<=s;)u[0]++,h--;if(u[0]>s)return NaN;for(h=e+1;h<l&&a.get(r,h);)u[2]++,h++;if(h===l)return NaN;for(;h<l&&!a.get(r,h)&&u[3]<s;)u[3]++,h++;if(h===l||u[3]>=s)return NaN;for(;h<l&&a.get(r,h)&&u[4]<s;)u[4]++,h++;if(u[4]>=s)return NaN;const g=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(g-o)>=2*o?NaN:tn.foundPatternCross(u)?tn.centerFromEnd(u,h):NaN}crossCheckHorizontal(e,r,s,o){const a=this.image,l=a.getWidth(),u=this.getCrossCheckStateCount();let h=e;for(;h>=0&&a.get(h,r);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(h,r)&&u[1]<=s;)u[1]++,h--;if(h<0||u[1]>s)return NaN;for(;h>=0&&a.get(h,r)&&u[0]<=s;)u[0]++,h--;if(u[0]>s)return NaN;for(h=e+1;h<l&&a.get(h,r);)u[2]++,h++;if(h===l)return NaN;for(;h<l&&!a.get(h,r)&&u[3]<s;)u[3]++,h++;if(h===l||u[3]>=s)return NaN;for(;h<l&&a.get(h,r)&&u[4]<s;)u[4]++,h++;if(u[4]>=s)return NaN;const g=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(g-o)>=o?NaN:tn.foundPatternCross(u)?tn.centerFromEnd(u,h):NaN}handlePossibleCenter(e,r,s,o){const a=e[0]+e[1]+e[2]+e[3]+e[4];let l=tn.centerFromEnd(e,s),u=this.crossCheckVertical(r,Math.floor(l),e[2],a);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],a),!isNaN(l)&&(!o||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],a)))){const h=a/7;let g=!1;const y=this.possibleCenters;for(let E=0,S=y.length;E<S;E++){const M=y[E];if(M.aboutEquals(h,u,l)){y[E]=M.combineEstimate(u,l,h),g=!0;break}}if(!g){const E=new _s(l,u,h);y.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=tn.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const s=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=tn.CENTER_QUORUM&&(e++,r+=l.getEstimatedModuleSize());if(e<3)return!1;const o=r/s;let a=0;for(const l of this.possibleCenters)a+=Math.abs(l.getEstimatedModuleSize()-o);return a<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new z;const r=this.possibleCenters;let s;if(e>3){let o=0,a=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,a+=g*g}s=o/e;let l=Math.sqrt(a/e-s*s);r.sort((h,g)=>{const y=Math.abs(g.getEstimatedModuleSize()-s),E=Math.abs(h.getEstimatedModuleSize()-s);return y<E?-1:y>E?1:0});const u=Math.max(.2*s,l);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-s)>u&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const a of r)o+=a.getEstimatedModuleSize();s=o/r.length,r.sort((a,l)=>{if(l.getCount()===a.getCount()){const u=Math.abs(l.getEstimatedModuleSize()-s),h=Math.abs(a.getEstimatedModuleSize()-s);return u<h?1:u>h?-1:0}else return l.getCount()-a.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}tn.CENTER_QUORUM=2,tn.MIN_SKIP=3,tn.MAX_MODULES=57;class Ai{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(je.NEED_RESULT_POINT_CALLBACK);const s=new tn(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(s)}processFinderPatternInfo(e){const r=e.getTopLeft(),s=e.getTopRight(),o=e.getBottomLeft(),a=this.calculateModuleSize(r,s,o);if(a<1)throw new z("No pattern found in proccess finder.");const l=Ai.computeDimension(r,s,o,a),u=De.getProvisionalVersionForDimension(l),h=u.getDimensionForVersion()-7;let g=null;if(u.getAlignmentPatternCenters().length>0){const M=s.getX()-r.getX()+o.getX(),R=s.getY()-r.getY()+o.getY(),L=1-3/h,k=Math.floor(r.getX()+L*(M-r.getX())),G=Math.floor(r.getY()+L*(R-r.getY()));for(let ue=4;ue<=16;ue<<=1)try{g=this.findAlignmentInRegion(a,k,G,ue);break}catch(de){if(!(de instanceof z))throw de}}const y=Ai.createTransform(r,s,o,g,l),E=Ai.sampleGrid(this.image,y,l);let S;return g===null?S=[o,r,s]:S=[o,r,s,g],new Re(E,S)}static createTransform(e,r,s,o,a){const l=a-3.5;let u,h,g,y;return o!==null?(u=o.getX(),h=o.getY(),g=l-3,y=g):(u=r.getX()-e.getX()+s.getX(),h=r.getY()-e.getY()+s.getY(),g=l,y=l),Ue.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,g,y,3.5,l,e.getX(),e.getY(),r.getX(),r.getY(),u,h,s.getX(),s.getY())}static sampleGrid(e,r,s){return qe.getInstance().sampleGridWithTransform(e,s,s,r)}static computeDimension(e,r,s,o){const a=K.round(H.distance(e,r)/o),l=K.round(H.distance(e,s)/o);let u=Math.floor((a+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new z("Dimensions could be not found.")}return u}calculateModuleSize(e,r,s){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,s))/2}calculateModuleSizeOneWay(e,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,s,o){let a=this.sizeOfBlackWhiteBlackRun(e,r,s,o),l=1,u=e-(s-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*l);return l=1,h<0?(l=r/(r-h),h=0):h>=this.image.getHeight()&&(l=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),a+=this.sizeOfBlackWhiteBlackRun(e,r,u,h),a-1}sizeOfBlackWhiteBlackRun(e,r,s,o){const a=Math.abs(o-r)>Math.abs(s-e);if(a){let M=e;e=r,r=M,M=s,s=o,o=M}const l=Math.abs(s-e),u=Math.abs(o-r);let h=-l/2;const g=e<s?1:-1,y=r<o?1:-1;let E=0;const S=s+g;for(let M=e,R=r;M!==S;M+=g){const L=a?R:M,k=a?M:R;if(E===1===this.image.get(L,k)){if(E===2)return K.distance(M,R,e,r);E++}if(h+=u,h>0){if(R===o)break;R+=y,h-=l}}return E===2?K.distance(s+g,o,e,r):NaN}findAlignmentInRegion(e,r,s,o){const a=Math.floor(o*e),l=Math.max(0,r-a),u=Math.min(this.image.getWidth()-1,r+a);if(u-l<e*3)throw new z("Alignment top exceeds estimated module size.");const h=Math.max(0,s-a),g=Math.min(this.image.getHeight()-1,s+a);if(g-h<e*3)throw new z("Alignment bottom exceeds estimated module size.");return new Gi(this.image,l,h,u-l,g-h,e,this.resultPointCallback).find()}}class Cr{constructor(){this.decoder=new Fn}getDecoder(){return this.decoder}decode(e,r){let s,o;if(r!=null&&r.get(je.PURE_BARCODE)!==void 0){const h=Cr.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=Cr.NO_POINTS}else{const h=new Ai(e.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Ts&&s.getOther().applyMirroredCorrection(o);const a=new Ht(s.getText(),s.getRawBytes(),void 0,o,Oe.QR_CODE,void 0),l=s.getByteSegments();l!==null&&a.putMetadata(vt.BYTE_SEGMENTS,l);const u=s.getECLevel();return u!==null&&a.putMetadata(vt.ERROR_CORRECTION_LEVEL,u),s.hasStructuredAppend()&&(a.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),a.putMetadata(vt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(r===null||s===null)throw new z;const o=this.moduleSize(r,e);let a=r[1],l=s[1],u=r[0],h=s[0];if(u>=h||a>=l)throw new z;if(l-a!==h-u&&(h=u+(l-a),h>=e.getWidth()))throw new z;const g=Math.round((h-u+1)/o),y=Math.round((l-a+1)/o);if(g<=0||y<=0)throw new z;if(y!==g)throw new z;const E=Math.floor(o/2);a+=E,u+=E;const S=u+Math.floor((g-1)*o)-h;if(S>0){if(S>E)throw new z;u-=S}const M=a+Math.floor((y-1)*o)-l;if(M>0){if(M>E)throw new z;a-=M}const R=new Me(g,y);for(let L=0;L<y;L++){const k=a+Math.floor(L*o);for(let G=0;G<g;G++)e.get(u+Math.floor(G*o),k)&&R.set(G,L)}return R}static moduleSize(e,r){const s=r.getHeight(),o=r.getWidth();let a=e[0],l=e[1],u=!0,h=0;for(;a<o&&l<s;){if(u!==r.get(a,l)){if(++h===5)break;u=!u}a++,l++}if(a===o||l===s)throw new z;return(a-e[0])/7}}Cr.NO_POINTS=new Array;class Pe{PDF417Common(){}static getBitCountSum(e){return K.sum(e)}static toIntArray(e){if(e==null||!e.length)return Pe.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let s=0;for(const o of e)r[s++]=o;return r}static getCodeword(e){const r=ve.binarySearch(Pe.SYMBOL_TABLE,e&262143);return r<0?-1:(Pe.CODEWORD_TABLE[r]-1)%Pe.NUMBER_OF_CODEWORDS}}Pe.NUMBER_OF_CODEWORDS=929,Pe.MAX_CODEWORDS_IN_BARCODE=Pe.NUMBER_OF_CODEWORDS-1,Pe.MIN_ROWS_IN_BARCODE=3,Pe.MAX_ROWS_IN_BARCODE=90,Pe.MODULES_IN_CODEWORD=17,Pe.MODULES_IN_STOP_PATTERN=18,Pe.BARS_IN_MODULE=8,Pe.EMPTY_INT_ARRAY=new Int32Array([]),Pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xa{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class $e{static detectMultiple(e,r,s){let o=e.getBlackMatrix(),a=$e.detect(s,o);return a.length||(o=o.clone(),o.rotate180(),a=$e.detect(s,o)),new xa(o,a)}static detect(e,r){const s=new Array;let o=0,a=0,l=!1;for(;o<r.getHeight();){const u=$e.findVertices(r,o,a);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,a=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=$e.ROW_STEP;continue}if(l=!0,s.push(u),!e)break;u[2]!=null?(a=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(a=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return s}static findVertices(e,r,s){const o=e.getHeight(),a=e.getWidth(),l=new Array(8);return $e.copyToResult(l,$e.findRowsWithPattern(e,o,a,r,s,$e.START_PATTERN),$e.INDEXES_START_PATTERN),l[4]!=null&&(s=Math.trunc(l[4].getX()),r=Math.trunc(l[4].getY())),$e.copyToResult(l,$e.findRowsWithPattern(e,o,a,r,s,$e.STOP_PATTERN),$e.INDEXES_STOP_PATTERN),l}static copyToResult(e,r,s){for(let o=0;o<s.length;o++)e[s[o]]=r[o]}static findRowsWithPattern(e,r,s,o,a,l){const u=new Array(4);let h=!1;const g=new Int32Array(l.length);for(;o<r;o+=$e.ROW_STEP){let E=$e.findGuardPattern(e,a,o,s,!1,l,g);if(E!=null){for(;o>0;){const S=$e.findGuardPattern(e,a,--o,s,!1,l,g);if(S!=null)E=S;else{o++;break}}u[0]=new H(E[0],o),u[1]=new H(E[1],o),h=!0;break}}let y=o+1;if(h){let E=0,S=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;y<r;y++){const M=$e.findGuardPattern(e,S[0],y,s,!1,l,g);if(M!=null&&Math.abs(S[0]-M[0])<$e.MAX_PATTERN_DRIFT&&Math.abs(S[1]-M[1])<$e.MAX_PATTERN_DRIFT)S=M,E=0;else{if(E>$e.SKIPPED_ROW_COUNT_MAX)break;E++}}y-=E+1,u[2]=new H(S[0],y),u[3]=new H(S[1],y)}return y-o<$e.BARCODE_MIN_HEIGHT&&ve.fill(u,null),u}static findGuardPattern(e,r,s,o,a,l,u){ve.fillWithin(u,0,u.length,0);let h=r,g=0;for(;e.get(h,s)&&h>0&&g++<$e.MAX_PIXEL_DRIFT;)h--;let y=h,E=0,S=l.length;for(let M=a;y<o;y++)if(e.get(y,s)!==M)u[E]++;else{if(E===S-1){if($e.patternMatchVariance(u,l,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=u[0]+u[1],Q.arraycopy(u,2,u,0,E-1),u[E-1]=0,u[E]=0,E--}else E++;u[E]=1,M=!M}return E===S-1&&$e.patternMatchVariance(u,l,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(e,r,s){let o=e.length,a=0,l=0;for(let g=0;g<o;g++)a+=e[g],l+=r[g];if(a<l)return 1/0;let u=a/l;s*=u;let h=0;for(let g=0;g<o;g++){let y=e[g],E=r[g]*u,S=y>E?y-E:E-y;if(S>s)return 1/0;h+=S}return h/a}}$e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$e.MAX_AVG_VARIANCE=.42,$e.MAX_INDIVIDUAL_VARIANCE=.8,$e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$e.MAX_PIXEL_DRIFT=3,$e.MAX_PATTERN_DRIFT=5,$e.SKIPPED_ROW_COUNT_MAX=25,$e.ROW_STEP=5,$e.BARCODE_MIN_HEIGHT=10;class an{constructor(e,r){if(r.length===0)throw new T;this.field=e;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),Q.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,s=e.coefficients;if(r.length>s.length){let l=r;r=s,s=l}let o=new Int32Array(s.length),a=s.length-r.length;Q.arraycopy(s,0,o,0,a);for(let l=a;l<s.length;l++)o[l]=this.field.add(r[l-a],s[l]);return new an(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof an?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new an(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=e.coefficients,a=o.length,l=new Int32Array(s+a-1);for(let u=0;u<s;u++){let h=r[u];for(let g=0;g<a;g++)l[u+g]=this.field.add(l[u+g],this.field.multiply(h,o[g]))}return new an(this.field,l)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new an(this.field,r)}multiplyScalar(e){if(e===0)return new an(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],e);return new an(this.field,s)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return new an(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+e);for(let a=0;a<s;a++)o[a]=this.field.multiply(this.coefficients[a],r);return new an(this.field,o)}toString(){let e=new pe;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(r===0||s!==1)&&e.append(s),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class ya{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new N;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Os extends ya{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let s=1;for(let o=0;o<e;o++)this.expTable[o]=s,s=s*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new an(this,new Int32Array([0])),this.one=new an(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;let s=new Int32Array(e+1);return s[0]=r,new an(this,s)}}Os.PDF417_GF=new Os(Pe.NUMBER_OF_CODEWORDS,3);class ho{constructor(){this.field=Os.PDF417_GF}decode(e,r,s){let o=new an(this.field,e),a=new Int32Array(r),l=!1;for(let R=r;R>0;R--){let L=o.evaluateAt(this.field.exp(R));a[r-R]=L,L!==0&&(l=!0)}if(!l)return 0;let u=this.field.getOne();if(s!=null)for(const R of s){let L=this.field.exp(e.length-1-R),k=new an(this.field,new Int32Array([this.field.subtract(0,L),1]));u=u.multiply(k)}let h=new an(this.field,a),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),y=g[0],E=g[1],S=this.findErrorLocations(y),M=this.findErrorMagnitudes(E,y,S);for(let R=0;R<S.length;R++){let L=e.length-1-this.field.log(S[R]);if(L<0)throw U.getChecksumInstance();e[L]=this.field.subtract(e[L],M[R])}return S.length}runEuclideanAlgorithm(e,r,s){if(e.getDegree()<r.getDegree()){let S=e;e=r,r=S}let o=e,a=r,l=this.field.getZero(),u=this.field.getOne();for(;a.getDegree()>=Math.round(s/2);){let S=o,M=l;if(o=a,l=u,o.isZero())throw U.getChecksumInstance();a=S;let R=this.field.getZero(),L=o.getCoefficient(o.getDegree()),k=this.field.inverse(L);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let G=a.getDegree()-o.getDegree(),ue=this.field.multiply(a.getCoefficient(a.getDegree()),k);R=R.add(this.field.buildMonomial(G,ue)),a=a.subtract(o.multiplyByMonomial(G,ue))}u=R.multiply(l).subtract(M).negative()}let h=u.getCoefficient(0);if(h===0)throw U.getChecksumInstance();let g=this.field.inverse(h),y=u.multiply(g),E=a.multiply(g);return[y,E]}findErrorLocations(e){let r=e.getDegree(),s=new Int32Array(r),o=0;for(let a=1;a<this.field.getSize()&&o<r;a++)e.evaluateAt(a)===0&&(s[o]=this.field.inverse(a),o++);if(o!==r)throw U.getChecksumInstance();return s}findErrorMagnitudes(e,r,s){let o=r.getDegree(),a=new Int32Array(o);for(let g=1;g<=o;g++)a[o-g]=this.field.multiply(g,r.getCoefficient(g));let l=new an(this.field,a),u=s.length,h=new Int32Array(u);for(let g=0;g<u;g++){let y=this.field.inverse(s[g]),E=this.field.subtract(0,e.evaluateAt(y)),S=this.field.inverse(l.evaluateAt(y));h[g]=this.field.multiply(E,S)}return h}}class Ur{constructor(e,r,s,o,a){e instanceof Ur?this.constructor_2(e):this.constructor_1(e,r,s,o,a)}constructor_1(e,r,s,o,a){const l=r==null||s==null,u=o==null||a==null;if(l&&u)throw new z;l?(r=new H(0,o.getY()),s=new H(0,a.getY())):u&&(o=new H(e.getWidth()-1,r.getY()),a=new H(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Ur(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,s){let o=this.topLeft,a=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){let h=s?this.topLeft:this.topRight,g=Math.trunc(h.getY()-e);g<0&&(g=0);let y=new H(h.getX(),g);s?o=y:l=y}if(r>0){let h=s?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let y=new H(h.getX(),g);s?a=y:u=y}return new Ur(this.image,o,a,l,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ba{constructor(e,r,s,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ti{constructor(){this.buffer=""}static form(e,r){let s=-1;function o(l,u,h,g,y,E){if(l==="%%")return"%";if(r[++s]===void 0)return;l=g?parseInt(g.substr(1)):void 0;let S=y?parseInt(y.substr(1)):void 0,M;switch(E){case"s":M=r[s];break;case"c":M=r[s][0];break;case"f":M=parseFloat(r[s]).toFixed(l);break;case"p":M=parseFloat(r[s]).toPrecision(l);break;case"e":M=parseFloat(r[s]).toExponential(l);break;case"x":M=parseInt(r[s]).toString(S||16);break;case"d":M=parseFloat(parseInt(r[s],S||10).toPrecision(l)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(S);let R=parseInt(h),L=h&&h[0]+""=="0"?"0":" ";for(;M.length<R;)M=u!==void 0?M+L:L+M;return M}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}format(e,...r){this.buffer+=ti.form(e,r)}toString(){return this.buffer}}class Ei{constructor(e){this.boundingBox=new Ur(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let s=1;s<Ei.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(e)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(e)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ti;let r=0;for(const s of this.codewords){if(s==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return e.toString()}}Ei.MAX_NEARBY_DISTANCE=5;class ni{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[s,o]of this.values.entries()){const a={getKey:()=>s,getValue:()=>o};a.getValue()>e?(e=a.getValue(),r=[],r.push(a.getKey())):a.getValue()===e&&r.push(a.getKey())}return Pe.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class Ms extends Ei{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),a=this._isLeft?s.getBottomLeft():s.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),h=-1,g=1,y=0;for(let E=l;E<u;E++){if(r[E]==null)continue;let S=r[E],M=S.getRowNumber()-h;if(M===0)y++;else if(M===1)g=Math.max(g,y),y=1,h=S.getRowNumber();else if(M<0||S.getRowNumber()>=e.getRowCount()||M>E)r[E]=null;else{let R;g>2?R=(g-2)*M:R=M;let L=R>=E;for(let k=1;k<=R&&!L;k++)L=r[E-k]!=null;L?r[E]=null:(h=S.getRowNumber(),y=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),h=-1;for(let g=a;g<l;g++){if(u[g]==null)continue;let y=u[g];y.setRowNumberAsRowIndicatorColumn();let E=y.getRowNumber()-h;E===0||(E===1?h=y.getRowNumber():y.getRowNumber()>=e.getRowCount()?u[g]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new ni,s=new ni,o=new ni,a=new ni;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let h=u.getValue()%30,g=u.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(h*3+1);break;case 1:a.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||a.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<Pe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>Pe.MAX_ROWS_IN_BARCODE)return null;let l=new ba(r.getValue()[0],s.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,r){for(let s=0;s<e.length;s++){let o=e[s];if(e[s]==null)continue;let a=o.getValue()%30,l=o.getRowNumber();if(l>r.getRowCount()){e[s]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(e[s]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(e[s]=null);break;case 2:a+1!==r.getColumnCount()&&(e[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class vi{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Pe.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<e.length;s++)if(e[s]!=null&&r[s]!=null&&e[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[s];a!=null&&(a.setRowNumber(e[s].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),a=0;for(let l=this.barcodeColumnCount+1;l>0&&a<this.ADJUST_ROW_NUMBER_SKIP;l--){let u=this.detectionResultColumns[l].getCodewords()[s];u!=null&&(a=vi.adjustRowNumberIfValid(o,a,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),a=0;for(let l=1;l<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;l++){let u=this.detectionResultColumns[l].getCodewords()[s];u!=null&&(a=vi.adjustRowNumberIfValid(o,a,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,s){if(!this.detectionResultColumns[e-1])return;let o=s[r],a=this.detectionResultColumns[e-1].getCodewords(),l=a;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=a[r],u[3]=l[r],r>0&&(u[0]=s[r-1],u[4]=a[r-1],u[5]=l[r-1]),r>1&&(u[8]=s[r-2],u[10]=a[r-2],u[11]=l[r-2]),r<s.length-1&&(u[1]=s[r+1],u[6]=a[r+1],u[7]=l[r+1]),r<s.length-2&&(u[9]=s[r+2],u[12]=a[r+2],u[13]=l[r+2]);for(let h of u)if(vi.adjustRowNumber(o,h))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ti;for(let s=0;s<e.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[s];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()}}class jr{constructor(e,r,s,o){this.rowNumber=jr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==jr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}jr.BARCODE_ROW_UNKNOWN=-1;class yn{static initialize(){for(let e=0;e<Pe.SYMBOL_TABLE.length;e++){let r=Pe.SYMBOL_TABLE[e],s=r&1;for(let o=0;o<Pe.BARS_IN_MODULE;o++){let a=0;for(;(r&1)===s;)a+=1,r>>=1;s=r&1,yn.RATIOS_TABLE[e]||(yn.RATIOS_TABLE[e]=new Array(Pe.BARS_IN_MODULE)),yn.RATIOS_TABLE[e][Pe.BARS_IN_MODULE-o-1]=Math.fround(a/Pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=yn.getDecodedCodewordValue(yn.sampleBitCounts(e));return r!==-1?r:yn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=K.sum(e),s=new Int32Array(Pe.BARS_IN_MODULE),o=0,a=0;for(let l=0;l<Pe.MODULES_IN_CODEWORD;l++){let u=r/(2*Pe.MODULES_IN_CODEWORD)+l*r/Pe.MODULES_IN_CODEWORD;a+e[o]<=u&&(a+=e[o],o++),s[o]++}return s}static getDecodedCodewordValue(e){let r=yn.getBitValue(e);return Pe.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let s=0;s<e.length;s++)for(let o=0;o<e[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=K.sum(e),s=new Array(Pe.BARS_IN_MODULE);if(r>1)for(let l=0;l<s.length;l++)s[l]=Math.fround(e[l]/r);let o=me.MAX_VALUE,a=-1;this.bSymbolTableReady||yn.initialize();for(let l=0;l<yn.RATIOS_TABLE.length;l++){let u=0,h=yn.RATIOS_TABLE[l];for(let g=0;g<Pe.BARS_IN_MODULE;g++){let y=Math.fround(h[g]-s[g]);if(u+=Math.fround(y*y),u>=o)break}u<o&&(o=u,a=Pe.SYMBOL_TABLE[l])}return a}}yn.bSymbolTableReady=!1,yn.RATIOS_TABLE=new Array(Pe.SYMBOL_TABLE.length).map(A=>new Array(Pe.BARS_IN_MODULE));class Ns{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class go{static parseLong(e,r=void 0){return parseInt(e,r)}}class po extends w{}po.kind="NullPointerException";class Ca{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,s){if(e==null)throw new po;if(r<0||r>e.length||s<0||r+s>e.length||r+s<0)throw new be;if(s===0)return;for(let o=0;o<s;o++)this.write(e[r+o])}flush(){}close(){}}class Aa extends w{}class Ea extends Ca{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let s=this.buf.length<<1;if(s-e<0&&(s=e),s<0){if(e<0)throw new Aa;s=ne.MAX_VALUE}this.buf=ve.copyOfUint8Array(this.buf,s)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,s){if(r<0||r>e.length||s<0||r+s-e.length>0)throw new be;this.ensureCapacity(this.count+s),Q.arraycopy(e,r,this.buf,this.count,s),this.count+=s}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ve.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var wt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function mo(){if(typeof window<"u")return window.BigInt||null;if(typeof Io<"u")return Io.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Yi;function Ar(A){if(typeof Yi>"u"&&(Yi=mo()),Yi===null)throw new Error("BigInt is not supported!");return Yi(A)}function va(){let A=[];A[0]=Ar(1);let e=Ar(900);A[1]=e;for(let r=2;r<16;r++)A[r]=A[r-1]*e;return A}class W{static decode(e,r){let s=new pe(""),o=le.ISO8859_1;s.enableDecoding(o);let a=1,l=e[a++],u=new Ns;for(;a<e[0];){switch(l){case W.TEXT_COMPACTION_MODE_LATCH:a=W.textCompaction(e,a,s);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:a=W.byteCompaction(l,e,o,a,s);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[a++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:a=W.numericCompaction(e,a,s);break;case W.ECI_CHARSET:le.getCharacterSetECIByValue(e[a++]);break;case W.ECI_GENERAL_PURPOSE:a+=2;break;case W.ECI_USER_DEFINED:a++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=W.decodeMacroBlock(e,a,u);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new se;default:a--,a=W.textCompaction(e,a,s);break}if(a<e.length)l=e[a++];else throw se.getFormatInstance()}if(s.length()===0)throw se.getFormatInstance();let h=new mr(null,s.toString(),null,r);return h.setOther(u),h}static decodeMacroBlock(e,r,s){if(r+W.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw se.getFormatInstance();let o=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<W.NUMBER_OF_SEQUENCE_CODEWORDS;u++,r++)o[u]=e[r];s.setSegmentIndex(ne.parseInt(W.decodeBase900toBase10(o,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new pe;r=W.textCompaction(e,r,a),s.setFileId(a.toString());let l=-1;for(e[r]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new pe;r=W.textCompaction(e,r+1,u),s.setFileName(u.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new pe;r=W.textCompaction(e,r+1,h),s.setSender(h.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new pe;r=W.textCompaction(e,r+1,g),s.setAddressee(g.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new pe;r=W.numericCompaction(e,r+1,y),s.setSegmentCount(ne.parseInt(y.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new pe;r=W.numericCompaction(e,r+1,E),s.setTimestamp(go.parseLong(E.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new pe;r=W.numericCompaction(e,r+1,S),s.setChecksum(ne.parseInt(S.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new pe;r=W.numericCompaction(e,r+1,M),s.setFileSize(go.parseLong(M.toString()));break;default:throw se.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw se.getFormatInstance()}if(l!==-1){let u=r-l;s.isLastSegment()&&u--,s.setOptionalData(ve.copyOfRange(e,l,l+u))}return r}static textCompaction(e,r,s){let o=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),l=0,u=!1;for(;r<e[0]&&!u;){let h=e[r++];if(h<W.TEXT_COMPACTION_MODE_LATCH)o[l]=h/30,o[l+1]=h%30,l+=2;else switch(h){case W.TEXT_COMPACTION_MODE_LATCH:o[l++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,u=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[l]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=e[r++],a[l]=h,l++;break}}return W.decodeTextCompaction(o,a,l,s),r}static decodeTextCompaction(e,r,s,o){let a=wt.ALPHA,l=wt.ALPHA,u=0;for(;u<s;){let h=e[u],g="";switch(a){case wt.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case W.LL:a=wt.LOWER;break;case W.ML:a=wt.MIXED;break;case W.PS:l=a,a=wt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case W.AS:l=a,a=wt.ALPHA_SHIFT;break;case W.ML:a=wt.MIXED;break;case W.PS:l=a,a=wt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.MIXED:if(h<W.PL)g=W.MIXED_CHARS[h];else switch(h){case W.PL:a=wt.PUNCT;break;case 26:g=" ";break;case W.LL:a=wt.LOWER;break;case W.AL:a=wt.ALPHA;break;case W.PS:l=a,a=wt.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.PUNCT:if(h<W.PAL)g=W.PUNCT_CHARS[h];else switch(h){case W.PAL:a=wt.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(a=l,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(a=l,h<W.PAL)g=W.PUNCT_CHARS[h];else switch(h){case W.PAL:a=wt.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break}g!==""&&o.append(g),u++}}static byteCompaction(e,r,s,o,a){let l=new Ea,u=0,h=0,g=!1;switch(e){case W.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),E=r[o++];for(;o<r[0]&&!g;)switch(y[u++]=E,h=900*h+E,E=r[o++],E){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(u%5===0&&u>0){for(let S=0;S<6;++S)l.write(Number(Ar(h)>>Ar(8*(5-S))));h=0,u=0}break}o===r[0]&&E<W.TEXT_COMPACTION_MODE_LATCH&&(y[u++]=E);for(let S=0;S<u;S++)l.write(y[S]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let S=r[o++];if(S<W.TEXT_COMPACTION_MODE_LATCH)u++,h=900*h+S;else switch(S){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(u%5===0&&u>0){for(let M=0;M<6;++M)l.write(Number(Ar(h)>>Ar(8*(5-M))));h=0,u=0}}break}return a.append(ge.decode(l.toByteArray(),s)),o}static numericCompaction(e,r,s){let o=0,a=!1,l=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!a;){let u=e[r++];if(r===e[0]&&(a=!0),u<W.TEXT_COMPACTION_MODE_LATCH)l[o]=u,o++;else switch(u){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(o%W.MAX_NUMERIC_CODEWORDS===0||u===W.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(s.append(W.decodeBase900toBase10(l,o)),o=0)}return r}static decodeBase900toBase10(e,r){let s=Ar(0);for(let a=0;a<r;a++)s+=W.EXP900[r-a-1]*Ar(e[a]);let o=s.toString();if(o.charAt(0)!=="1")throw new se;return o.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=";<>@[\\]_`~!\r	,:\n-.$/\"|*()?{}'",W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=mo()?va():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(e,r,s,o,a,l,u){let h=new Ur(e,r,s,o,a),g=null,y=null,E;for(let R=!0;;R=!1){if(r!=null&&(g=et.getRowIndicatorColumn(e,h,r,!0,l,u)),o!=null&&(y=et.getRowIndicatorColumn(e,h,o,!1,l,u)),E=et.merge(g,y),E==null)throw z.getNotFoundInstance();let L=E.getBoundingBox();if(R&&L!=null&&(L.getMinY()<h.getMinY()||L.getMaxY()>h.getMaxY()))h=L;else break}E.setBoundingBox(h);let S=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(S,y);let M=g!=null;for(let R=1;R<=S;R++){let L=M?R:S-R;if(E.getDetectionResultColumn(L)!==void 0)continue;let k;L===0||L===S?k=new Ms(h,L===0):k=new Ei(h),E.setDetectionResultColumn(L,k);let G=-1,ue=G;for(let de=h.getMinY();de<=h.getMaxY();de++){if(G=et.getStartColumn(E,L,de,M),G<0||G>h.getMaxX()){if(ue===-1)continue;G=ue}let ae=et.detectCodeword(e,h.getMinX(),h.getMaxX(),M,G,de,l,u);ae!=null&&(k.setCodeword(de,ae),ue=G,l=Math.min(l,ae.getWidth()),u=Math.max(u,ae.getWidth()))}}return et.createDecoderResult(E)}static merge(e,r){if(e==null&&r==null)return null;let s=et.getBarcodeMetadata(e,r);if(s==null)return null;let o=Ur.merge(et.adjustBoundingBox(e),et.adjustBoundingBox(r));return new vi(s,o)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let s=et.getMax(r),o=0;for(let u of r)if(o+=s-u,u>0)break;let a=e.getCodewords();for(let u=0;o>0&&a[u]==null;u++)o--;let l=0;for(let u=r.length-1;u>=0&&(l+=s-r[u],!(r[u]>0));u--);for(let u=a.length-1;l>0&&a[u]==null;u--)l--;return e.getBoundingBox().addMissingRows(o,l,e.isLeft())}static getMax(e){let r=-1;for(let s of e)r=Math.max(r,s);return r}static getBarcodeMetadata(e,r){let s;if(e==null||(s=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(e,r,s,o,a,l){let u=new Ms(r,o);for(let h=0;h<2;h++){let g=h===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=r.getMaxY()&&E>=r.getMinY();E+=g){let S=et.detectCodeword(e,0,e.getWidth(),o,y,E,a,l);S!=null&&(u.setCodeword(E,S),o?y=S.getStartX():y=S.getEndX())}}return u}static adjustCodewordCount(e,r){let s=r[0][1],o=s.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-et.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(a<1||a>Pe.MAX_CODEWORDS_IN_BARCODE)throw z.getNotFoundInstance();s.setValue(a)}else o[0]!==a&&s.setValue(a)}static createDecoderResult(e){let r=et.createBarcodeMatrix(e);et.adjustCodewordCount(e,r);let s=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],l=new Array;for(let h=0;h<e.getBarcodeRowCount();h++)for(let g=0;g<e.getBarcodeColumnCount();g++){let y=r[h][g+1].getValue(),E=h*e.getBarcodeColumnCount()+g;y.length===0?s.push(E):y.length===1?o[E]=y[0]:(l.push(E),a.push(y))}let u=new Array(a.length);for(let h=0;h<u.length;h++)u[h]=a[h];return et.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Pe.toIntArray(s),Pe.toIntArray(l),u)}static createDecoderResultFromAmbiguousValues(e,r,s,o,a){let l=new Int32Array(o.length),u=100;for(;u-- >0;){for(let h=0;h<l.length;h++)r[o[h]]=a[h][l[h]];try{return et.decodeCodewords(r,e,s)}catch(h){if(!(h instanceof U))throw h}if(l.length===0)throw U.getChecksumInstance();for(let h=0;h<l.length;h++)if(l[h]<a[h].length-1){l[h]++;break}else if(l[h]=0,h===l.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let a=0;a<r[o].length;a++)r[o][a]=new ni;let s=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=0){if(l>=r.length)continue;r[l][s].setValue(a.getValue())}}}s++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,s,o){let a=o?1:-1,l=null;if(et.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodeword(s)),l!=null)return o?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(s),l!=null)return o?l.getStartX():l.getEndX();if(et.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodewordNearby(s)),l!=null)return o?l.getEndX():l.getStartX();let u=0;for(;et.isValidBarcodeColumn(e,r-a);){r-=a;for(let h of e.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+a*u*(h.getEndX()-h.getStartX());u++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,s,o,a,l,u,h){a=et.adjustCodewordStartColumn(e,r,s,o,a,l);let g=et.getModuleBitCount(e,r,s,o,a,l);if(g==null)return null;let y,E=K.sum(g);if(o)y=a+E;else{for(let R=0;R<g.length/2;R++){let L=g[R];g[R]=g[g.length-1-R],g[g.length-1-R]=L}y=a,a=y-E}if(!et.checkCodewordSkew(E,u,h))return null;let S=yn.getDecodedValue(g),M=Pe.getCodeword(S);return M===-1?null:new jr(a,y,et.getCodewordBucketNumber(S),M)}static getModuleBitCount(e,r,s,o,a,l){let u=a,h=new Int32Array(8),g=0,y=o?1:-1,E=o;for(;(o?u<s:u>=r)&&g<h.length;)e.get(u,l)===E?(h[g]++,u+=y):(g++,E=!E);return g===h.length||u===(o?s:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,s,o,a,l){let u=a,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?u>=r:u<s)&&o===e.get(u,l);){if(Math.abs(a-u)>et.CODEWORD_SKEW_SIZE)return a;u+=h}h=-h,o=!o}return u}static checkCodewordSkew(e,r,s){return r-et.CODEWORD_SKEW_SIZE<=e&&e<=s+et.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,s){if(e.length===0)throw se.getFormatInstance();let o=1<<r+1,a=et.correctErrors(e,s,o);et.verifyCodewordCount(e,o);let l=W.decode(e,""+r);return l.setErrorsCorrected(a),l.setErasures(s.length),l}static correctErrors(e,r,s){if(r!=null&&r.length>s/2+et.MAX_ERRORS||s<0||s>et.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return et.errorCorrection.decode(e,s,r)}static verifyCodewordCount(e,r){if(e.length<4)throw se.getFormatInstance();let s=e[0];if(s>e.length)throw se.getFormatInstance();if(s===0)if(r<e.length)e[0]=e.length-r;else throw se.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((e&1)!==s&&(s=e&1,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return et.getCodewordBucketNumber(et.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new ti;for(let s=0;s<e.length;s++){r.format("Row %2d: ",s);for(let o=0;o<e[s].length;o++){let a=e[s][o];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new ho;class ln{decode(e,r=null){let s=ln.decode(e,r,!1);if(s==null||s.length===0||s[0]==null)throw z.getNotFoundInstance();return s[0]}decodeMultiple(e,r=null){try{return ln.decode(e,r,!0)}catch(s){throw s instanceof se||s instanceof U?z.getNotFoundInstance():s}}static decode(e,r,s){const o=new Array,a=$e.detectMultiple(e,r,s);for(const l of a.getPoints()){const u=et.decode(a.getBits(),l[4],l[5],l[6],l[7],ln.getMinCodewordWidth(l),ln.getMaxCodewordWidth(l)),h=new Ht(u.getText(),u.getRawBytes(),void 0,l,Oe.PDF_417);h.putMetadata(vt.ERROR_CORRECTION_LEVEL,u.getECLevel());const g=u.getOther();g!=null&&h.putMetadata(vt.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(l=>l)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?ne.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(ln.getMaxWidth(e[0],e[4]),ln.getMaxWidth(e[6],e[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.max(ln.getMaxWidth(e[1],e[5]),ln.getMaxWidth(e[7],e[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(ln.getMinWidth(e[0],e[4]),ln.getMinWidth(e[6],e[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.min(ln.getMinWidth(e[1],e[5]),ln.getMinWidth(e[7],e[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Xi extends w{}Xi.kind="ReaderException";class Ds{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!c(e)&&e.get(je.TRY_HARDER)===!0,s=c(e)?null:e.get(je.POSSIBLE_FORMATS),o=new Array;if(!c(s)){const a=s.some(l=>l===Oe.UPC_A||l===Oe.UPC_E||l===Oe.EAN_13||l===Oe.EAN_8||l===Oe.CODABAR||l===Oe.CODE_39||l===Oe.CODE_93||l===Oe.CODE_128||l===Oe.ITF||l===Oe.RSS_14||l===Oe.RSS_EXPANDED);a&&!r&&o.push(new yr(e,this.verbose)),s.includes(Oe.QR_CODE)&&o.push(new Cr),s.includes(Oe.DATA_MATRIX)&&o.push(new br),s.includes(Oe.AZTEC)&&o.push(new Qt),s.includes(Oe.PDF_417)&&o.push(new ln),a&&r&&o.push(new yr(e,this.verbose))}o.length===0&&(r||o.push(new yr(e,this.verbose)),o.push(new Cr),o.push(new br),o.push(new Qt),o.push(new ln),r&&o.push(new yr(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Xi("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(s){if(s instanceof Xi)continue}throw new z("No MultiFormat Readers were able to detect the code.")}}class Ia extends Pn{constructor(e=null,r=500){const s=new Ds;s.setHints(e),super(s,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Sa extends Pn{constructor(e=500){super(new ln,e)}}class Ta extends Pn{constructor(e=500){super(new Cr,e)}}var Rs;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Rs||(Rs={}));var Zt=Rs;class Ls{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new sn(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let s=r[r.length-1];const o=this.field;for(let a=r.length;a<=e;a++){const l=s.multiply(new sn(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));r.push(l),s=l}}return r[e]}encode(e,r){if(r===0)throw new T("No error correction bytes");const s=e.length-r;if(s<=0)throw new T("No data bytes provided");const o=this.buildGenerator(r),a=new Int32Array(s);Q.arraycopy(e,0,a,0,s);let l=new sn(this.field,a);l=l.multiplyByMonomial(r,1);const h=l.divide(o)[1].getCoefficients(),g=r-h.length;for(let y=0;y<g;y++)e[s+y]=0;Q.arraycopy(h,0,e,s+g,h.length)}}class Bt{constructor(){}static applyMaskPenaltyRule1(e){return Bt.applyMaskPenaltyRule1Internal(e,!0)+Bt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const s=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let l=0;l<a-1;l++){const u=s[l];for(let h=0;h<o-1;h++){const g=u[h];g===u[h+1]&&g===s[l+1][h]&&g===s[l+1][h+1]&&r++}}return Bt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const s=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let l=0;l<a;l++)for(let u=0;u<o;u++){const h=s[l];u+6<o&&h[u]===1&&h[u+1]===0&&h[u+2]===1&&h[u+3]===1&&h[u+4]===1&&h[u+5]===0&&h[u+6]===1&&(Bt.isWhiteHorizontal(h,u-4,u)||Bt.isWhiteHorizontal(h,u+7,u+11))&&r++,l+6<a&&s[l][u]===1&&s[l+1][u]===0&&s[l+2][u]===1&&s[l+3][u]===1&&s[l+4][u]===1&&s[l+5][u]===0&&s[l+6][u]===1&&(Bt.isWhiteVertical(s,u,l-4,l)||Bt.isWhiteVertical(s,u,l+7,l+11))&&r++}return r*Bt.N3}static isWhiteHorizontal(e,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,r,s,o){s=Math.max(s,0),o=Math.min(o,e.length);for(let a=s;a<o;a++)if(e[a][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const s=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let h=0;h<a;h++){const g=s[h];for(let y=0;y<o;y++)g[y]===1&&r++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-l)*10/l)*Bt.N4}static getDataMaskBit(e,r,s){let o,a;switch(e){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:a=s*r,o=(a&1)+a%3;break;case 6:a=s*r,o=(a&1)+a%3&1;break;case 7:a=s*r,o=a%3+(s+r&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,r){let s=0;const o=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),l=e.getArray();for(let u=0;u<o;u++){let h=0,g=-1;for(let y=0;y<a;y++){const E=r?l[u][y]:l[y][u];E===g?h++:(h>=5&&(s+=Bt.N1+(h-5)),h=1,g=E)}h>=5&&(s+=Bt.N1+(h-5))}return s}}Bt.N1=3,Bt.N2=3,Bt.N3=40,Bt.N4=10;class $i{constructor(e,r){this.width=e,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(e);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,s){this.bytes[r][e]=s}setBoolean(e,r,s){this.bytes[r][e]=s?1:0}clear(e){for(const r of this.bytes)ve.fill(r,e)}equals(e){if(!(e instanceof $i))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const a=this.bytes[s],l=r.bytes[s];for(let u=0,h=this.width;u<h;++u)if(a[u]!==l[u])return!1}return!0}toString(){const e=new pe;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let a=0,l=this.width;a<l;++a)switch(o[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append("\n")}return e.toString()}}class Hr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new pe;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Hr.NUM_MASK_PATTERNS}}Hr.NUM_MASK_PATTERNS=8;class bt extends w{}bt.kind="WriterException";class Be{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,s,o,a){Be.clearMatrix(a),Be.embedBasicPatterns(s,a),Be.embedTypeInfo(r,o,a),Be.maybeEmbedVersionInfo(s,a),Be.embedDataBits(e,o,a)}static embedBasicPatterns(e,r){Be.embedPositionDetectionPatternsAndSeparators(r),Be.embedDarkDotAtLeftBottomCorner(r),Be.maybeEmbedPositionAdjustmentPatterns(e,r),Be.embedTimingPatterns(r)}static embedTypeInfo(e,r,s){const o=new Z;Be.makeTypeInfoBits(e,r,o);for(let a=0,l=o.getSize();a<l;++a){const u=o.get(o.getSize()-1-a),h=Be.TYPE_INFO_COORDINATES[a],g=h[0],y=h[1];if(s.setBoolean(g,y,u),a<8){const E=s.getWidth()-a-1;s.setBoolean(E,8,u)}else{const S=s.getHeight()-7+(a-8);s.setBoolean(8,S,u)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const s=new Z;Be.makeVersionInfoBits(e,s);let o=6*3-1;for(let a=0;a<6;++a)for(let l=0;l<3;++l){const u=s.get(o);o--,r.setBoolean(a,r.getHeight()-11+l,u),r.setBoolean(r.getHeight()-11+l,a,u)}}static embedDataBits(e,r,s){let o=0,a=-1,l=s.getWidth()-1,u=s.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);u>=0&&u<s.getHeight();){for(let h=0;h<2;++h){const g=l-h;if(!Be.isEmpty(s.get(g,u)))continue;let y;o<e.getSize()?(y=e.get(o),++o):y=!1,r!==255&&Bt.getDataMaskBit(r,g,u)&&(y=!y),s.setBoolean(g,u,y)}u+=a}a=-a,u+=a,l-=2}if(o!==e.getSize())throw new bt("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-ne.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new T("0 polynomial");const s=Be.findMSBSet(r);for(e<<=s-1;Be.findMSBSet(e)>=s;)e^=r<<Be.findMSBSet(e)-s;return e}static makeTypeInfoBits(e,r,s){if(!Hr.isValidMaskPattern(r))throw new bt("Invalid mask pattern");const o=e.getBits()<<3|r;s.appendBits(o,5);const a=Be.calculateBCHCode(o,Be.TYPE_INFO_POLY);s.appendBits(a,10);const l=new Z;if(l.appendBits(Be.TYPE_INFO_MASK_PATTERN,15),s.xor(l),s.getSize()!==15)throw new bt("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const s=Be.calculateBCHCode(e.getVersionNumber(),Be.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new bt("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const s=(r+1)%2;Be.isEmpty(e.get(r,6))&&e.setNumber(r,6,s),Be.isEmpty(e.get(6,r))&&e.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new bt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,s){for(let o=0;o<8;++o){if(!Be.isEmpty(s.get(e+o,r)))throw new bt;s.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,s){for(let o=0;o<7;++o){if(!Be.isEmpty(s.get(e,r+o)))throw new bt;s.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,s){for(let o=0;o<5;++o){const a=Be.POSITION_ADJUSTMENT_PATTERN[o];for(let l=0;l<5;++l)s.setNumber(e+l,r+o,a[l])}}static embedPositionDetectionPattern(e,r,s){for(let o=0;o<7;++o){const a=Be.POSITION_DETECTION_PATTERN[o];for(let l=0;l<7;++l)s.setNumber(e+l,r+o,a[l])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Be.POSITION_DETECTION_PATTERN[0].length;Be.embedPositionDetectionPattern(0,0,e),Be.embedPositionDetectionPattern(e.getWidth()-r,0,e),Be.embedPositionDetectionPattern(0,e.getWidth()-r,e);const s=8;Be.embedHorizontalSeparationPattern(0,s-1,e),Be.embedHorizontalSeparationPattern(e.getWidth()-s,s-1,e),Be.embedHorizontalSeparationPattern(0,e.getWidth()-s,e);const o=7;Be.embedVerticalSeparationPattern(o,0,e),Be.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),Be.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const s=e.getVersionNumber()-1,o=Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let a=0,l=o.length;a!==l;a++){const u=o[a];if(u>=0)for(let h=0;h!==l;h++){const g=o[h];g>=0&&Be.isEmpty(r.get(g,u))&&Be.embedPositionAdjustmentPattern(g-2,u-2,r)}}}}Be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Be.VERSION_INFO_POLY=7973,Be.TYPE_INFO_POLY=1335,Be.TYPE_INFO_MASK_PATTERN=21522;class _a{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class St{constructor(){}static calculateMaskPenalty(e){return Bt.applyMaskPenaltyRule1(e)+Bt.applyMaskPenaltyRule2(e)+Bt.applyMaskPenaltyRule3(e)+Bt.applyMaskPenaltyRule4(e)}static encode(e,r,s=null){let o=St.DEFAULT_BYTE_MODE_ENCODING;const a=s!==null&&s.get(Zt.CHARACTER_SET)!==void 0;a&&(o=s.get(Zt.CHARACTER_SET).toString());const l=this.chooseMode(e,o),u=new Z;if(l===Le.BYTE&&(a||St.DEFAULT_BYTE_MODE_ENCODING!==o)){const de=le.getCharacterSetECIByName(o);de!==void 0&&this.appendECI(de,u)}this.appendModeInfo(l,u);const h=new Z;this.appendBytes(e,l,h,o);let g;if(s!==null&&s.get(Zt.QR_VERSION)!==void 0){const de=Number.parseInt(s.get(Zt.QR_VERSION).toString(),10);g=De.getVersionForNumber(de);const ae=this.calculateBitsNeeded(l,u,h,g);if(!this.willFit(ae,g,r))throw new bt("Data too big for requested version")}else g=this.recommendVersion(r,l,u,h);const y=new Z;y.appendBitArray(u);const E=l===Le.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(E,g,l,y),y.appendBitArray(h);const S=g.getECBlocksForLevel(r),M=g.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(M,y);const R=this.interleaveWithECBytes(y,g.getTotalCodewords(),M,S.getNumBlocks()),L=new Hr;L.setECLevel(r),L.setMode(l),L.setVersion(g);const k=g.getDimensionForVersion(),G=new $i(k,k),ue=this.chooseMaskPattern(R,r,g,G);return L.setMaskPattern(ue),Be.buildMatrix(R,r,g,ue,G),L.setMatrix(G),L}static recommendVersion(e,r,s,o){const a=this.calculateBitsNeeded(r,s,o,De.getVersionForNumber(1)),l=this.chooseVersion(a,e),u=this.calculateBitsNeeded(r,s,o,l);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,r,s,o){return r.getSize()+e.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(e){return e<St.ALPHANUMERIC_TABLE.length?St.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(le.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Le.KANJI;let s=!1,o=!1;for(let a=0,l=e.length;a<l;++a){const u=e.charAt(a);if(St.isDigit(u))s=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)o=!0;else return Le.BYTE}return o?Le.ALPHANUMERIC:s?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=ge.encode(e,le.SJIS)}catch(o){return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const a=r[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(e,r,s,o){let a=Number.MAX_SAFE_INTEGER,l=-1;for(let u=0;u<Hr.NUM_MASK_PATTERNS;u++){Be.buildMatrix(e,r,s,u,o);let h=this.calculateMaskPenalty(o);h<a&&(a=h,l=u)}return l}static chooseVersion(e,r){for(let s=1;s<=40;s++){const o=De.getVersionForNumber(s);if(St.willFit(e,o,r))return o}throw new bt("Data too big")}static willFit(e,r,s){const o=r.getTotalCodewords(),l=r.getECBlocksForLevel(s).getTotalECCodewords(),u=o-l,h=(e+7)/8;return u>=h}static terminateBits(e,r){const s=e*8;if(r.getSize()>s)throw new bt("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let l=0;l<4&&r.getSize()<s;++l)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let l=o;l<8;l++)r.appendBit(!1);const a=e-r.getSizeInBytes();for(let l=0;l<a;++l)r.appendBits((l&1)===0?236:17,8);if(r.getSize()!==s)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,s,o,a,l){if(o>=s)throw new bt("Block ID too large");const u=e%s,h=s-u,g=Math.floor(e/s),y=g+1,E=Math.floor(r/s),S=E+1,M=g-E,R=y-S;if(M!==R)throw new bt("EC bytes mismatch");if(s!==h+u)throw new bt("RS blocks mismatch");if(e!==(E+M)*h+(S+R)*u)throw new bt("Total bytes mismatch");o<h?(a[0]=E,l[0]=M):(a[0]=S,l[0]=R)}static interleaveWithECBytes(e,r,s,o){if(e.getSizeInBytes()!==s)throw new bt("Number of bits and data bytes does not match");let a=0,l=0,u=0;const h=new Array;for(let y=0;y<o;++y){const E=new Int32Array(1),S=new Int32Array(1);St.getNumDataBytesAndNumECBytesForBlockID(r,s,o,y,E,S);const M=E[0],R=new Uint8Array(M);e.toBytes(8*a,R,0,M);const L=St.generateECBytes(R,S[0]);h.push(new _a(R,L)),l=Math.max(l,M),u=Math.max(u,L.length),a+=E[0]}if(s!==a)throw new bt("Data bytes does not match offset");const g=new Z;for(let y=0;y<l;++y)for(const E of h){const S=E.getDataBytes();y<S.length&&g.appendBits(S[y],8)}for(let y=0;y<u;++y)for(const E of h){const S=E.getErrorCorrectionBytes();y<S.length&&g.appendBits(S[y],8)}if(r!==g.getSizeInBytes())throw new bt("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,r){const s=e.length,o=new Int32Array(s+r);for(let l=0;l<s;l++)o[l]=e[l]&255;new Ls(D.QR_CODE_FIELD_256).encode(o,r);const a=new Uint8Array(r);for(let l=0;l<r;l++)a[l]=o[s+l];return a}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,s,o){const a=s.getCharacterCountBits(r);if(e>=1<<a)throw new bt(e+" is bigger than "+((1<<a)-1));o.appendBits(e,a)}static appendBytes(e,r,s,o){switch(r){case Le.NUMERIC:St.appendNumericBytes(e,s);break;case Le.ALPHANUMERIC:St.appendAlphanumericBytes(e,s);break;case Le.BYTE:St.append8BitBytes(e,s,o);break;case Le.KANJI:St.appendKanjiBytes(e,s);break;default:throw new bt("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=St.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const s=e.length;let o=0;for(;o<s;){const a=St.getDigit(e.charAt(o));if(o+2<s){const l=St.getDigit(e.charAt(o+1)),u=St.getDigit(e.charAt(o+2));r.appendBits(a*100+l*10+u,10),o+=3}else if(o+1<s){const l=St.getDigit(e.charAt(o+1));r.appendBits(a*10+l,7),o+=2}else r.appendBits(a,4),o++}}static appendAlphanumericBytes(e,r){const s=e.length;let o=0;for(;o<s;){const a=St.getAlphanumericCode(e.charCodeAt(o));if(a===-1)throw new bt;if(o+1<s){const l=St.getAlphanumericCode(e.charCodeAt(o+1));if(l===-1)throw new bt;r.appendBits(a*45+l,11),o+=2}else r.appendBits(a,6),o++}}static append8BitBytes(e,r,s){let o;try{o=ge.encode(e,s)}catch(a){throw new bt(a)}for(let a=0,l=o.length;a!==l;a++){const u=o[a];r.appendBits(u,8)}}static appendKanjiBytes(e,r){let s;try{s=ge.encode(e,le.SJIS)}catch(a){throw new bt(a)}const o=s.length;for(let a=0;a<o;a+=2){const l=s[a]&255,u=s[a+1]&255,h=l<<8&4294967295|u;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new bt("Invalid byte sequence");const y=(g>>8)*192+(g&255);r.appendBits(y,13)}}static appendECI(e,r){r.appendBits(Le.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}St.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),St.DEFAULT_BYTE_MODE_ENCODING=le.UTF8.getName();class Vr{write(e,r,s,o=null){if(e.length===0)throw new T("Found empty contents");if(r<0||s<0)throw new T("Requested dimensions are too small: "+r+"x"+s);let a=Et.L,l=Vr.QUIET_ZONE_SIZE;o!==null&&(o.get(Zt.ERROR_CORRECTION)!==void 0&&(a=Et.fromString(o.get(Zt.ERROR_CORRECTION).toString())),o.get(Zt.MARGIN)!==void 0&&(l=Number.parseInt(o.get(Zt.MARGIN).toString(),10)));const u=St.encode(e,a,o);return this.renderResult(u,r,s,l)}writeToDom(e,r,s,o,a=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(r,s,o,a);e&&e.appendChild(l)}renderResult(e,r,s,o){const a=e.getMatrix();if(a===null)throw new J;const l=a.getWidth(),u=a.getHeight(),h=l+o*2,g=u+o*2,y=Math.max(r,h),E=Math.max(s,g),S=Math.min(Math.floor(y/h),Math.floor(E/g)),M=Math.floor((y-l*S)/2),R=Math.floor((E-u*S)/2),L=this.createSVGElement(y,E);for(let k=0,G=R;k<u;k++,G+=S)for(let ue=0,de=M;ue<l;ue++,de+=S)if(a.get(ue,k)===1){const ae=this.createSvgRectElement(de,G,S,S);L.appendChild(ae)}return L}createSVGElement(e,r){const s=document.createElementNS(Vr.SVG_NS,"svg");return s.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(e,r,s,o){const a=document.createElementNS(Vr.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"height",s.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Vr.QUIET_ZONE_SIZE=4,Vr.SVG_NS="http://www.w3.org/2000/svg";class Er{encode(e,r,s,o,a){if(e.length===0)throw new T("Found empty contents");if(r!==Oe.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new T("Requested dimensions are too small: ".concat(s,"x").concat(o));let l=Et.L,u=Er.QUIET_ZONE_SIZE;a!==null&&(a.get(Zt.ERROR_CORRECTION)!==void 0&&(l=Et.fromString(a.get(Zt.ERROR_CORRECTION).toString())),a.get(Zt.MARGIN)!==void 0&&(u=Number.parseInt(a.get(Zt.MARGIN).toString(),10)));const h=St.encode(e,l,a);return Er.renderResult(h,s,o,u)}static renderResult(e,r,s,o){const a=e.getMatrix();if(a===null)throw new J;const l=a.getWidth(),u=a.getHeight(),h=l+o*2,g=u+o*2,y=Math.max(r,h),E=Math.max(s,g),S=Math.min(Math.floor(y/h),Math.floor(E/g)),M=Math.floor((y-l*S)/2),R=Math.floor((E-u*S)/2),L=new Me(y,E);for(let k=0,G=R;k<u;k++,G+=S)for(let ue=0,de=M;ue<l;ue++,de+=S)a.get(ue,k)===1&&L.setRegion(de,G,S,S);return L}}Er.QUIET_ZONE_SIZE=4;class Oa{encode(e,r,s,o,a){let l;switch(r){case Oe.QR_CODE:l=new Er;break;default:throw new T("No encoder available for format "+r)}return l.encode(e,r,s,o,a)}}class bn extends He{constructor(e,r,s,o,a,l,u,h){if(super(l,u),this.yuvData=e,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=a,o+l>r||a+u>s)throw new T("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(l,u)}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(e+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=e*r,o=new Uint8ClampedArray(s);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Q.arraycopy(this.yuvData,a,o,0,s),o;for(let l=0;l<r;l++){const u=l*e;Q.arraycopy(this.yuvData,a,o,u,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,s,o){return new bn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,s,o,!1)}renderThumbnail(){const e=this.getWidth()/bn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/bn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(e*r),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let l=0;l<r;l++){const u=l*e;for(let h=0;h<e;h++){const g=o[a+h*bn.THUMBNAIL_SCALE_FACTOR]&255;s[u+h]=4278190080|g*65793}a+=this.dataWidth*bn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/bn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/bn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const s=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<r;o++,a+=this.dataWidth){const l=a+e/2;for(let u=a,h=a+e-1;u<l;u++,h--){const g=s[u];s[u]=s[h],s[h]=g}}}invert(){return new At(this)}}bn.THUMBNAIL_SCALE_FACTOR=2;class Ps extends He{constructor(e,r,s,o,a,l,u){if(super(r,s),this.dataWidth=o,this.dataHeight=a,this.left=l,this.top=u,e.BYTES_PER_ELEMENT===4){const h=r*s,g=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const E=e[y],S=E>>16&255,M=E>>7&510,R=E&255;g[y]=(S+M+R)/4&255}this.luminances=g}else this.luminances=e;if(o===void 0&&(this.dataWidth=r),a===void 0&&(this.dataHeight=s),l===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(e+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=e*r,o=new Uint8ClampedArray(s);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Q.arraycopy(this.luminances,a,o,0,s),o;for(let l=0;l<r;l++){const u=l*e;Q.arraycopy(this.luminances,a,o,u,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,r,s,o){return new Ps(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new At(this)}}class wo extends le{static forName(e){return this.getCharacterSetECIByName(e)}}class Bs{}Bs.ISO_8859_1=le.ISO8859_1;class xo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ii{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Ma{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Wr extends Ma{constructor(e,r,s){super(e),this.value=r,this.bitCount=s}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new Wr(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Wr(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+ne.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Zi extends Wr{constructor(e,r,s){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(e,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):s===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(e,r){return new Zi(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Na(A,e,r){return new Zi(A,e,r)}function Si(A,e,r){return new Wr(A,e,r)}const Da=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vr=0,qi=1,Un=2,kt=3,nn=4,ks=new Wr(null,0,0),Ki=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Rt(A){for(let e of A)ve.fill(e,-1);return A[vr][nn]=0,A[qi][nn]=0,A[qi][vr]=28,A[kt][nn]=0,A[Un][nn]=0,A[Un][vr]=15,A}const ri=Rt(ve.createInt32Array(6,6));class ft{constructor(e,r,s,o){this.token=e,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let s=this.bitCount,o=this.token;if(e!==this.mode){let l=Ki[this.mode][e];o=Si(o,l&65535,l>>16),s+=l>>16}let a=e===Un?4:5;return o=Si(o,r,a),new ft(o,e,0,s+a)}shiftAndAppend(e,r){let s=this.token,o=this.mode===Un?4:5;return s=Si(s,ri[this.mode][e],o),s=Si(s,r,5),new ft(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===nn||this.mode===Un){let u=Ki[s][vr];r=Si(r,u&65535,u>>16),o+=u>>16,s=vr}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new ft(r,s,this.binaryShiftByteCount+1,o+a);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Na(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new ft(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(Ki[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=ft.calculateBinaryShiftCost(e)-ft.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new Z;for(const o of r)o.appendTo(s,e);return s}toString(){return ee.format("%s bits=%d bytes=%d",Da[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}ft.INITIAL_STATE=new ft(ks,vr,0,0);function Ft(A){const e=ee.getCharCode(" "),r=ee.getCharCode("."),s=ee.getCharCode(",");A[vr][e]=1;const o=ee.getCharCode("Z"),a=ee.getCharCode("A");for(let S=a;S<=o;S++)A[vr][S]=S-a+2;A[qi][e]=1;const l=ee.getCharCode("z"),u=ee.getCharCode("a");for(let S=u;S<=l;S++)A[qi][S]=S-u+2;A[Un][e]=1;const h=ee.getCharCode("9"),g=ee.getCharCode("0");for(let S=g;S<=h;S++)A[Un][S]=S-g+2;A[Un][s]=12,A[Un][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	","\n","\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<y.length;S++)A[kt][ee.getCharCode(y[S])]=S;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<E.length;S++)ee.getCharCode(E[S])>0&&(A[nn][ee.getCharCode(E[S])]=S);return A}const Qi=Ft(ve.createInt32Array(5,256));class ii{constructor(e){this.text=e}encode(){const e=ee.getCharCode(" "),r=ee.getCharCode("\n");let s=Ii.singletonList(ft.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let l,u=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ee.getCharCode("\r"):l=u===r?2:0;break;case ee.getCharCode("."):l=u===e?3:0;break;case ee.getCharCode(","):l=u===e?4:0;break;case ee.getCharCode(":"):l=u===e?5:0;break;default:l=0}l>0?(s=ii.updateStateListForPair(s,a,l),a++):s=this.updateStateListForChar(s,a)}return Ii.min(s,(a,l)=>a.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const s=[];for(let o of e)this.updateStateForChar(o,r,s);return ii.simplifyStates(s)}updateStateForChar(e,r,s){let o=this.text[r]&255,a=Qi[e.getMode()][o]>0,l=null;for(let u=0;u<=nn;u++){let h=Qi[u][o];if(h>0){if(l==null&&(l=e.endBinaryShift(r)),!a||u===e.getMode()||u===Un){const g=l.latchAndAppend(u,h);s.push(g)}if(!a&&ri[e.getMode()][u]>=0){const g=l.shiftAndAppend(u,h);s.push(g)}}}if(e.getBinaryShiftByteCount()>0||Qi[e.getMode()][o]===0){let u=e.addBinaryShiftChar(r);s.push(u)}}static updateStateListForPair(e,r,s){const o=[];for(let a of e)this.updateStateForPair(a,r,s,o);return this.simplifyStates(o)}static updateStateForPair(e,r,s,o){let a=e.endBinaryShift(r);if(o.push(a.latchAndAppend(nn,s)),e.getMode()!==nn&&o.push(a.shiftAndAppend(nn,s)),s===3||s===4){let l=a.latchAndAppend(Un,16-s).latchAndAppend(Un,1);o.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(l)}}static simplifyStates(e){let r=[];for(const s of e){let o=!0;for(const a of r){if(a.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(a)&&(r=r.filter(l=>l!==a))}o&&r.push(s)}return r}}class at{constructor(){}static encodeBytes(e){return at.encode(e,at.DEFAULT_EC_PERCENT,at.DEFAULT_AZTEC_LAYERS)}static encode(e,r,s){let o=new ii(e).encode(),a=ne.truncDivision(o.getSize()*r,100)+11,l=o.getSize()+a,u,h,g,y,E;if(s!==at.DEFAULT_AZTEC_LAYERS){if(u=s<0,h=Math.abs(s),h>(u?at.MAX_NB_BITS_COMPACT:at.MAX_NB_BITS))throw new T(ee.format("Illegal value %s for layers",s));g=at.totalBitsInLayer(h,u),y=at.WORD_SIZE[h];let ae=g-g%y;if(E=at.stuffBits(o,y),E.getSize()+a>ae)throw new T("Data to large for user specified layer");if(u&&E.getSize()>y*64)throw new T("Data to large for user specified layer")}else{y=0,E=null;for(let ae=0;;ae++){if(ae>at.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(u=ae<=3,h=u?ae+1:ae,g=at.totalBitsInLayer(h,u),l>g)continue;(E==null||y!==at.WORD_SIZE[h])&&(y=at.WORD_SIZE[h],E=at.stuffBits(o,y));let it=g-g%y;if(!(u&&E.getSize()>y*64)&&E.getSize()+a<=it)break}}let S=at.generateCheckWords(E,g,y),M=E.getSize()/y,R=at.generateModeMessage(u,h,M),L=(u?11:14)+h*4,k=new Int32Array(L),G;if(u){G=L;for(let ae=0;ae<k.length;ae++)k[ae]=ae}else{G=L+1+2*ne.truncDivision(ne.truncDivision(L,2)-1,15);let ae=ne.truncDivision(L,2),it=ne.truncDivision(G,2);for(let ze=0;ze<ae;ze++){let mn=ze+ne.truncDivision(ze,15);k[ae-ze-1]=it-mn-1,k[ae+ze]=it+mn+1}}let ue=new Me(G);for(let ae=0,it=0;ae<h;ae++){let ze=(h-ae)*4+(u?9:12);for(let mn=0;mn<ze;mn++){let m=mn*2;for(let x=0;x<2;x++)S.get(it+m+x)&&ue.set(k[ae*2+x],k[ae*2+mn]),S.get(it+ze*2+m+x)&&ue.set(k[ae*2+mn],k[L-1-ae*2-x]),S.get(it+ze*4+m+x)&&ue.set(k[L-1-ae*2-x],k[L-1-ae*2-mn]),S.get(it+ze*6+m+x)&&ue.set(k[L-1-ae*2-mn],k[ae*2+x])}it+=ze*8}if(at.drawModeMessage(ue,u,G,R),u)at.drawBullsEye(ue,ne.truncDivision(G,2),5);else{at.drawBullsEye(ue,ne.truncDivision(G,2),7);for(let ae=0,it=0;ae<ne.truncDivision(L,2)-1;ae+=15,it+=16)for(let ze=ne.truncDivision(G,2)&1;ze<G;ze+=2)ue.set(ne.truncDivision(G,2)-it,ze),ue.set(ne.truncDivision(G,2)+it,ze),ue.set(ze,ne.truncDivision(G,2)-it),ue.set(ze,ne.truncDivision(G,2)+it)}let de=new xo;return de.setCompact(u),de.setSize(G),de.setLayers(h),de.setCodeWords(M),de.setMatrix(ue),de}static drawBullsEye(e,r,s){for(let o=0;o<s;o+=2)for(let a=r-o;a<=r+o;a++)e.set(a,r-o),e.set(a,r+o),e.set(r-o,a),e.set(r+o,a);e.set(r-s,r-s),e.set(r-s+1,r-s),e.set(r-s,r-s+1),e.set(r+s,r-s),e.set(r+s,r-s+1),e.set(r+s,r+s-1)}static generateModeMessage(e,r,s){let o=new Z;return e?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=at.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=at.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,s,o){let a=ne.truncDivision(s,2);if(r)for(let l=0;l<7;l++){let u=a-3+l;o.get(l)&&e.set(u,a-5),o.get(l+7)&&e.set(a+5,u),o.get(20-l)&&e.set(u,a+5),o.get(27-l)&&e.set(a-5,u)}else for(let l=0;l<10;l++){let u=a-5+l+ne.truncDivision(l,5);o.get(l)&&e.set(u,a-7),o.get(l+10)&&e.set(a+7,u),o.get(29-l)&&e.set(u,a+7),o.get(39-l)&&e.set(a-7,u)}}static generateCheckWords(e,r,s){let o=e.getSize()/s,a=new Ls(at.getGF(s)),l=ne.truncDivision(r,s),u=at.bitsToWords(e,s,l);a.encode(u,l-o);let h=r%s,g=new Z;g.appendBits(0,h);for(const y of Array.from(u))g.appendBits(y,s);return g}static bitsToWords(e,r,s){let o=new Int32Array(s),a,l;for(a=0,l=e.getSize()/r;a<l;a++){let u=0;for(let h=0;h<r;h++)u|=e.get(a*r+h)?1<<r-h-1:0;o[a]=u}return o}static getGF(e){switch(e){case 4:return D.AZTEC_PARAM;case 6:return D.AZTEC_DATA_6;case 8:return D.AZTEC_DATA_8;case 10:return D.AZTEC_DATA_10;case 12:return D.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,r){let s=new Z,o=e.getSize(),a=(1<<r)-2;for(let l=0;l<o;l+=r){let u=0;for(let h=0;h<r;h++)(l+h>=o||e.get(l+h))&&(u|=1<<r-1-h);(u&a)===a?(s.appendBits(u&a,r),l--):(u&a)===0?(s.appendBits(u|1,r),l--):s.appendBits(u,r)}return s}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}at.DEFAULT_EC_PERCENT=33,at.DEFAULT_AZTEC_LAYERS=0,at.MAX_NB_BITS=32,at.MAX_NB_BITS_COMPACT=4,at.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ti{encode(e,r,s,o){return this.encodeWithHints(e,r,s,o,null)}encodeWithHints(e,r,s,o,a){let l=Bs.ISO_8859_1,u=at.DEFAULT_EC_PERCENT,h=at.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Zt.CHARACTER_SET)&&(l=wo.forName(a.get(Zt.CHARACTER_SET).toString())),a.has(Zt.ERROR_CORRECTION)&&(u=ne.parseInt(a.get(Zt.ERROR_CORRECTION).toString())),a.has(Zt.AZTEC_LAYERS)&&(h=ne.parseInt(a.get(Zt.AZTEC_LAYERS).toString()))),Ti.encodeLayers(e,r,s,o,l,u,h)}static encodeLayers(e,r,s,o,a,l,u){if(r!==Oe.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let h=at.encode(ee.getBytes(e,a),l,u);return Ti.renderResult(h,s,o)}static renderResult(e,r,s){let o=e.getMatrix();if(o==null)throw new J;let a=o.getWidth(),l=o.getHeight(),u=Math.max(r,a),h=Math.max(s,l),g=Math.min(u/a,h/l),y=(u-a*g)/2,E=(h-l*g)/2,S=new Me(u,h);for(let M=0,R=E;M<l;M++,R+=g)for(let L=0,k=y;L<a;L++,k+=g)o.get(L,M)&&S.setRegion(k,R,g,g);return S}}i.AbstractExpandedDecoder=Cs,i.ArgumentException=I,i.ArithmeticException=N,i.AztecCode=xo,i.AztecCodeReader=Qt,i.AztecCodeWriter=Ti,i.AztecDecoder=oe,i.AztecDetector=Nt,i.AztecDetectorResult=Ce,i.AztecEncoder=at,i.AztecHighLevelEncoder=ii,i.AztecPoint=ot,i.BarcodeFormat=Oe,i.Binarizer=ce,i.BinaryBitmap=B,i.BitArray=Z,i.BitMatrix=Me,i.BitSource=zi,i.BrowserAztecCodeReader=Sn,i.BrowserBarcodeReader=ma,i.BrowserCodeReader=Pn,i.BrowserDatamatrixCodeReader=wa,i.BrowserMultiFormatReader=Ia,i.BrowserPDF417Reader=Sa,i.BrowserQRCodeReader=Ta,i.BrowserQRCodeSvgWriter=Vr,i.CharacterSetECI=le,i.ChecksumException=U,i.Code128Reader=he,i.Code39Reader=lt,i.DataMatrixDecodedBitStreamParser=Yn,i.DataMatrixReader=br,i.DecodeHintType=je,i.DecoderResult=mr,i.DefaultGridSampler=ct,i.DetectorResult=Re,i.EAN13Reader=kr,i.EncodeHintType=Zt,i.Exception=w,i.FormatException=se,i.GenericGF=D,i.GenericGFPoly=sn,i.GlobalHistogramBinarizer=We,i.GridSampler=Fe,i.GridSamplerInstance=qe,i.HTMLCanvasElementLuminanceSource=fn,i.HybridBinarizer=xe,i.ITFReader=nt,i.IllegalArgumentException=T,i.IllegalStateException=J,i.InvertedLuminanceSource=At,i.LuminanceSource=He,i.MathUtils=K,i.MultiFormatOneDReader=yr,i.MultiFormatReader=Ds,i.MultiFormatWriter=Oa,i.NotFoundException=z,i.OneDReader=gt,i.PDF417DecodedBitStreamParser=W,i.PDF417DecoderErrorCorrection=ho,i.PDF417Reader=ln,i.PDF417ResultMetadata=Ns,i.PerspectiveTransform=Ue,i.PlanarYUVLuminanceSource=bn,i.QRCodeByteMatrix=$i,i.QRCodeDataMask=kn,i.QRCodeDecodedBitStreamParser=Dt,i.QRCodeDecoderErrorCorrectionLevel=Et,i.QRCodeDecoderFormatInformation=on,i.QRCodeEncoder=St,i.QRCodeEncoderQRCode=Hr,i.QRCodeMaskUtil=Bt,i.QRCodeMatrixUtil=Be,i.QRCodeMode=Le,i.QRCodeReader=Cr,i.QRCodeVersion=De,i.QRCodeWriter=Er,i.RGBLuminanceSource=Ps,i.RSS14Reader=Pt,i.RSSExpandedReader=te,i.ReaderException=Xi,i.ReedSolomonDecoder=re,i.ReedSolomonEncoder=Ls,i.ReedSolomonException=X,i.Result=Ht,i.ResultMetadataType=vt,i.ResultPoint=H,i.StringUtils=ee,i.UnsupportedOperationException=jt,i.VideoInputDevice=rn,i.WhiteRectangleDetector=Te,i.WriterException=bt,i.ZXingArrays=ve,i.ZXingCharset=wo,i.ZXingInteger=ne,i.ZXingStandardCharsets=Bs,i.ZXingStringBuilder=pe,i.ZXingStringEncoding=ge,i.ZXingSystem=Q,i.createAbstractExpandedDecoder=As,Object.defineProperty(i,"__esModule",{value:!0})})}(Ws,Ws.exports)),Ws.exports}var Lt=Xg();const $g=Gg(Lt),Zg=Qd({__proto__:null,default:$g},[Lt]);var Hc=function(){function t(n,i,c){if(this.formatMap=new Map([[Se.QR_CODE,Lt.BarcodeFormat.QR_CODE],[Se.AZTEC,Lt.BarcodeFormat.AZTEC],[Se.CODABAR,Lt.BarcodeFormat.CODABAR],[Se.CODE_39,Lt.BarcodeFormat.CODE_39],[Se.CODE_93,Lt.BarcodeFormat.CODE_93],[Se.CODE_128,Lt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Lt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Lt.BarcodeFormat.MAXICODE],[Se.ITF,Lt.BarcodeFormat.ITF],[Se.EAN_13,Lt.BarcodeFormat.EAN_13],[Se.EAN_8,Lt.BarcodeFormat.EAN_8],[Se.PDF_417,Lt.BarcodeFormat.PDF_417],[Se.RSS_14,Lt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Lt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Lt.BarcodeFormat.UPC_A],[Se.UPC_E,Lt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Lt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Zg)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=c;var f=this.createZXingFormats(n),d=new Map;d.set(Lt.DecodeHintType.POSSIBLE_FORMATS,f),d.set(Lt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return t.prototype.decodeAsync=function(n){var i=this;return new Promise(function(c,f){try{c(i.decode(n))}catch(d){f(d)}})},t.prototype.decode=function(n){var i=new Lt.MultiFormatReader(this.verbose,this.hints),c=new Lt.HTMLCanvasElementLuminanceSource(n),f=new Lt.BinaryBitmap(new Lt.HybridBinarizer(c)),d=i.decode(f);return{text:d.text,format:qf.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,c,f){n.set(i,c)}),n},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createZXingFormats=function(n){for(var i=[],c=0,f=n;c<f.length;c++){var d=f[c];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),qg=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},Kg=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Vc=function(){function t(n,i,c){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=c;var f=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},t.prototype.decodeAsync=function(n){return qg(this,void 0,void 0,function(){var i,c;return Kg(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=f.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(i),[2,{text:c.rawValue,format:qf.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(n){for(var i=null,c=0,f=0,d=n;f<d.length;f++){var p=d[f],b=p.boundingBox.width*p.boundingBox.height;b>c&&(c=b,i=p)}if(!i)throw"No largest barcode found";return i},t.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],c=0,f=n;c<f.length;c++){var d=f[c];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},t.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},t.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,c,f){n.set(i,c)}),n},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Wc=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},zc=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Qg=function(){function t(n,i,c,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,i&&Vc.isSupported()?(this.primaryDecoder=new Vc(n,c,f),this.secondaryDecoder=new Hc(n,c,f)):this.primaryDecoder=new Hc(n,c,f)}return t.prototype.decodeAsync=function(n){return Wc(this,void 0,void 0,function(){var i;return zc(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(n){return Wc(this,void 0,void 0,function(){var i,c;return zc(this,function(f){switch(f.label){case 0:i=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,f.sent()];case 3:if(c=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw c;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,c=this.executionResults;i<c.length;i++){var f=c[i];n+=f}var d=n/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Pl=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},t(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function c(){this.constructor=n}n.prototype=i===null?Object.create(i):(c.prototype=i.prototype,new c)}}(),Ho=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},Vo=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ed=function(){function t(n,i){this.name=n,this.track=i}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(n){var i={};i[this.name]=n;var c={advanced:[i]};return this.track.applyConstraints(c)},t.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},t}(),Jg=function(t){Pl(n,t);function n(i,c){return t.call(this,i,c)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var c={};c[this.name]=i;var f={advanced:[c]};return this.track.applyConstraints(f)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),c=i[this.name];return{min:c.min,max:c.max,step:c.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(ed),e2=function(t){Pl(n,t);function n(i){return t.call(this,"zoom",i)||this}return n}(Jg),t2=function(t){Pl(n,t);function n(i){return t.call(this,"torch",i)||this}return n}(ed),n2=function(){function t(n){this.track=n}return t.prototype.zoomFeature=function(){return new e2(this.track)},t.prototype.torchFeature=function(){return new t2(this.track)},t}(),r2=function(){function t(n,i,c){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return t.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},t.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var c=n.surface.clientWidth,f=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(c,f),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(n,i,c,f){return Ho(this,void 0,void 0,function(){var d,p;return Vo(this,function(b){switch(b.label){case 0:return d=new t(n,i,f),c.aspectRatio?(p={aspectRatio:c.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:b.sent(),b.label=2;case 2:return d.setupSurface(),[2,d]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(n){this.failIfClosed();var i=this,c=function(){setTimeout(n,200),i.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(n){return Ho(this,void 0,void 0,function(){return Vo(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,c){var f=n.mediaStream.getVideoTracks(),d=f.length,p=0;n.mediaStream.getVideoTracks().forEach(function(b){n.mediaStream.removeTrack(b),b.stop(),++p,p>=d&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},t.prototype.getCapabilities=function(){return new n2(this.getFirstTrackOrFail())},t}(),i2=function(){function t(n){this.mediaStream=n}return t.prototype.render=function(n,i,c){return Ho(this,void 0,void 0,function(){return Vo(this,function(f){return[2,r2.create(n,this.mediaStream,i,c)]})})},t.create=function(n){return Ho(this,void 0,void 0,function(){var i,c;return Vo(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return c=f.sent(),[2,new t(c)]}})})},t}(),Gc=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},Yc=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},s2=function(){function t(){}return t.failIfNotSupported=function(){return Gc(this,void 0,void 0,function(){return Yc(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(n){return Gc(this,void 0,void 0,function(){return Yc(this,function(i){return[2,i2.create(n)]})})},t}(),o2=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},a2=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},l2=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var n=ns.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(n=ns.insecureContextCameraQueryError()),Promise.reject(n)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},t.getCamerasFromMediaDevices=function(){return o2(this,void 0,void 0,function(){var n,i,c,f,d,p,b;return a2(this,function(C){switch(C.label){case 0:return n=function(w){for(var I=w.getVideoTracks(),T=0,B=I;T<B.length;T++){var U=B[T];U.enabled=!1,U.stop(),w.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=C.sent(),f=[],d=0,p=c;d<p.length;d++)b=p[d],b.kind==="videoinput"&&f.push({id:b.deviceId,label:b.label});return n(i),[2,f]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var c=function(d){for(var p=[],b=0,C=d;b<C.length;b++){var w=C[b];w.kind==="video"&&p.push({id:w.id,label:w.label})}n(p)},f=MediaStreamTrack;f.getSources(c)})},t}(),Yt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Yt||(Yt={}));var c2=function(){function t(){this.state=Yt.NOT_STARTED,this.onGoingTransactionNewState=Yt.UNKNOWN}return t.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},t.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Yt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Yt.UNKNOWN,this.directTransition(n)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Yt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Yt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Yt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(n){switch(this.state){case Yt.UNKNOWN:throw"Transition from unknown is not allowed";case Yt.NOT_STARTED:this.failIfNewStateIs(n,[Yt.PAUSED]);break;case Yt.SCANNING:break;case Yt.PAUSED:break}},t.prototype.failIfNewStateIs=function(n,i){for(var c=0,f=i;c<f.length;c++){var d=f[c];if(n===d)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},t}(),u2=function(){function t(n){this.stateManager=n}return t.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},t.prototype.directTransition=function(n){this.stateManager.directTransition(n)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Yt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Yt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Yt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Yt.PAUSED},t}(),f2=function(){function t(){}return t.create=function(){return new u2(new c2)},t}(),d2=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},t(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function c(){this.constructor=n}n.prototype=i===null?Object.create(i):(c.prototype=i.prototype,new c)}}(),$n=function(t){d2(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(dr),h2=function(){function t(n,i){this.logger=i,this.fps=$n.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=$n.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Jf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!_r(this.qrbox)},t.create=function(n,i){return new t(n,i)},t}(),Xc=function(){function t(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var c;typeof i=="boolean"?this.verbose=i===!0:i&&(c=i,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new Qf(this.verbose),this.qrcode=new Qg(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=f2.create()}return t.prototype.start=function(n,i,c,f){var d=this;if(!n)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;f?p=f:p=this.verbose?this.logger.log:function(){};var b=h2.create(i,this.logger);this.clearElement();var C=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=C,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:$n.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var T=this,B=this.stateManagerProxy.startTransition(Yt.SCANNING);return new Promise(function(U,ce){var Q=w?b.videoConstraints:T.createVideoConstraints(n);if(!Q){B.cancel(),ce("videoConstraints should be defined");return}var be={};(!w||b.aspectRatio)&&(be.aspectRatio=b.aspectRatio);var ye={onRenderSurfaceReady:function(ve,ne){T.setupUi(ve,ne,b),T.isScanning=!0,T.foreverScan(b,c,p)}};s2.failIfNotSupported().then(function(ve){ve.create(Q).then(function(ne){return ne.render(d.element,be,ye).then(function(Z){T.renderedCamera=Z,B.execute(),U(null)}).catch(function(Z){B.cancel(),ce(Z)})}).catch(function(ne){B.cancel(),ce(ns.errorGettingUserMedia(ne))})}).catch(function(ve){B.cancel(),ce(ns.cameraStreamingNotSupported())})})},t.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Yt.PAUSED),this.showPausedState(),(_r(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(Yt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Yt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(n.element){var d=document.getElementById($n.SHADED_REGION_ELEMENT_ID);d&&n.element.removeChild(d)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),c(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),i.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(c){return c.decodedText})},t.prototype.scanFileV2=function(n,i){var c=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(_r(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,d){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(n);var p=new Image;p.onload=function(){var b=p.width,C=p.height,w=document.getElementById(c.elementId),I=w.clientWidth?w.clientWidth:$n.DEFAULT_WIDTH,T=Math.max(w.clientHeight?w.clientHeight:C,$n.FILE_SCAN_MIN_HEIGHT),B=c.computeCanvasDrawConfig(b,C,I,T);if(i){var U=c.createCanvasElement(I,T,"qr-canvas-visible");U.style.display="inline-block",w.appendChild(U);var ce=U.getContext("2d");if(!ce)throw"Unable to get 2d context from canvas";ce.canvas.width=I,ce.canvas.height=T,ce.drawImage(p,0,0,b,C,B.x,B.y,B.width,B.height)}var Q=$n.FILE_SCAN_HIDDEN_CANVAS_PADDING,be=Math.max(p.width,B.width),ye=Math.max(p.height,B.height),ve=be+2*Q,ne=ye+2*Q,Z=c.createCanvasElement(ve,ne);w.appendChild(Z);var Ae=Z.getContext("2d");if(!Ae)throw"Unable to get 2d context from canvas";Ae.canvas.width=ve,Ae.canvas.height=ne,Ae.drawImage(p,0,0,b,C,Q,Q,be,ye);try{c.qrcode.decodeRobustlyAsync(Z).then(function(je){f(Fc.createFromQrcodeResult(je))}).catch(d)}catch(je){d("QR code parse error, error = ".concat(je))}},p.onerror=d,p.onabort=d,p.onstalled=d,p.onsuspend=d,p.src=URL.createObjectURL(n)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return l2.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(n){if(n){if(!Jf.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(n){var i=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],f=0,d=n.formatsToSupport;f<d.length;f++){var p=d[f];Wg(p)?c.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},t.prototype.getUseBarCodeDetectorIfSupported=function(n){if(_r(n))return!0;if(!_r(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(_r(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return _r(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(n,i,c){var f=this,d=c.qrbox;this.validateQrboxConfig(d);var p=this.toQrdimensions(n,i,d),b=function(w){if(w<$n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($n.MIN_QR_BOX_SIZE,"px.")},C=function(w){return w>n&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=n),w};b(p.width),b(p.height),p.width=C(p.width)},t.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(n,i,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(n,i)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return c},t.prototype.setupUi=function(n,i,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,c);var f=_r(c.qrbox)?{width:n,height:i}:c.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(n,i,f);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=c.isShadedBoxEnabled()&&d.height<=i,b={x:0,y:0,width:n,height:i},C=p?this.getShadedRegionBounds(n,i,d):b,w=this.createCanvasElement(C.width,C.height),I={willReadFrequently:!0},T=w.getContext("2d",I);T.canvas.width=C.width,T.canvas.height=C.height,this.element.append(w),p&&this.possiblyInsertShadingElement(this.element,n,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=T,this.canvasElement=w},t.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=ns.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},t.prototype.scanContext=function(n,i){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return n(f.text,Fc.createFromQrcodeResult(f)),c.possiblyUpdateShaders(!0),!0}).catch(function(f){c.possiblyUpdateShaders(!1);var d=ns.codeParseError(f);return i(d,Kf.createFrom(d)),!1})},t.prototype.foreverScan=function(n,i,c){var f=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),p=d.videoWidth/d.clientWidth,b=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*p,w=this.qrRegion.height*b,I=this.qrRegion.x*p,T=this.qrRegion.y*b;this.context.drawImage(d,I,T,C,w,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(n,i,c)},f.getTimeoutFps(n.fps))};this.scanContext(i,c).then(function(U){!U&&n.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(i,c).finally(function(){B()})):B()}).catch(function(U){f.logger.logError("Error happend while scanning context",U),B()})}},t.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",c="deviceId",f={user:!0,environment:!0},d="exact",p=function(ce){if(ce in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ce,"'")},b=Object.keys(n);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var C=Object.keys(n)[0];if(C!==i&&C!==c)throw"Only '".concat(i,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(C===i){var w=n.facingMode;if(typeof w=="string"){if(p(w))return{facingMode:w}}else if(typeof w=="object")if(d in w){if(p(w["".concat(d)]))return{facingMode:{exact:w["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var I=typeof w;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var T=n.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(d in T)return{deviceId:{exact:T["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var B=typeof T;throw"Invalid type of 'deviceId' = ".concat(B)}}}var U=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},t.prototype.computeCanvasDrawConfig=function(n,i,c,f){if(n<=c&&i<=f){var d=(c-n)/2,p=(f-i)/2;return{x:d,y:p,width:n,height:i}}else{var b=n,C=i;return n>c&&(i=c/n*i,n=c),i>f&&(n=f/i*n,i=f),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(C)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,c,f)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},t.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?$n.BORDER_SHADER_MATCH_COLOR:$n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(n,i,c){var f=n,d=i,p=document.createElement("canvas");return p.style.width="".concat(f,"px"),p.style.height="".concat(d,"px"),p.style.display="none",p.id=_r(c)?"qr-canvas":c,p},t.prototype.getShadedRegionBounds=function(n,i,c){if(c.width>n||c.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-c.width)/2,y:(i-c.height)/2,width:c.width,height:c.height}},t.prototype.possiblyInsertShadingElement=function(n,i,c,f){if(!(i-f.width<1||c-f.height<1)){var d=document.createElement("div");d.style.position="absolute";var p=(i-f.width)/2,b=(c-f.height)/2;if(d.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat($n.SHADED_REGION_ELEMENT_ID),i-f.width<11||c-f.height<11)this.hasBorderShaders=!1;else{var C=5,w=40;this.insertShaderBorders(d,w,C,-C,null,0,!0),this.insertShaderBorders(d,w,C,-C,null,0,!1),this.insertShaderBorders(d,w,C,null,-C,0,!0),this.insertShaderBorders(d,w,C,null,-C,0,!1),this.insertShaderBorders(d,C,w+C,-C,null,-C,!0),this.insertShaderBorders(d,C,w+C,null,-C,-C,!0),this.insertShaderBorders(d,C,w+C,-C,null,-C,!1),this.insertShaderBorders(d,C,w+C,null,-C,-C,!1),this.hasBorderShaders=!0}n.append(d)}},t.prototype.insertShaderBorders=function(n,i,c,f,d,p,b){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=$n.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(i,"px"),C.style.height="".concat(c,"px"),f!==null&&(C.style.top="".concat(f,"px")),d!==null&&(C.style.bottom="".concat(d,"px")),b?C.style.left="".concat(p,"px"):C.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),n.appendChild(C)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(n){return 1e3/n},t}(),Bl="data:image/svg+xml;base64,",g2=Bl+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",p2=Bl+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",$c=Bl+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",m2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Zc=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),w2=function(){function t(){this.data=Zc.createDefault();var n=localStorage.getItem(t.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},t.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Zc.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),x2=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Uc.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var c=document.createElement("br"),f=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(f);var d=document.createElement("a");d.innerText=Uc.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),n.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),y2=function(){function t(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=$c,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return i.onHoverIn()},this.infoIcon.onmouseout=function(c){return i.onHoverOut()},this.infoIcon.onclick=function(c){return i.onClick()},n.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=m2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=$c,this.infoIcon.style.opacity="0.6")},t}(),b2=function(){function t(){var n=this;this.infoDiv=new x2,this.infoIcon=new y2(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return t.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},t}(),C2=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},A2=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},qc=function(){function t(){}return t.hasPermissions=function(){return C2(this,void 0,void 0,function(){var n,i,c,f;return A2(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=d.sent(),i=0,c=n;i<c.length;i++)if(f=c[i],f.kind==="videoinput"&&f.label)return[2,!0];return[2,!1]}})})},t}(),si=function(){function t(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var c=i[n];if(t.isCameraScanType(c))return!0}return!1},t.isCameraScanType=function(n){return n===qr.SCAN_TYPE_CAMERA},t.isFileScanType=function(n){return n===qr.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return dr.DEFAULT_SUPPORTED_SCAN_TYPE;var i=dr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var c=0,f=n;c<f.length;c++){var d=f[c];if(!dr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return n},t}(),Qn=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),$r=function(){function t(){}return t.createElement=function(n,i){var c=document.createElement(n);return c.id=i,c.classList.add(Qn.ALL_ELEMENT_CLASS),n==="button"&&c.setAttribute("type","button"),c},t}(),td=function(t,n,i,c){function f(d){return d instanceof i?d:new i(function(p){p(d)})}return new(i||(i=Promise))(function(d,p){function b(I){try{w(c.next(I))}catch(T){p(T)}}function C(I){try{w(c.throw(I))}catch(T){p(T)}}function w(I){I.done?d(I.value):f(I.value).then(b,C)}w((c=c.apply(t,n||[])).next())})},nd=function(t,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(w){return function(I){return C([w,I])}}function C(w){if(c)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(i=0)),i;)try{if(c=1,f&&(d=w[0]&2?f.return:w[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,w[1])).done)return d;switch(f=0,d&&(w=[w[0]&2,d.value]),w[0]){case 0:case 1:d=w;break;case 4:return i.label++,{value:w[1],done:!1};case 5:i.label++,f=w[1],w=[0];continue;case 7:w=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(w[0]===6||w[0]===2)){i=0;continue}if(w[0]===3&&(!d||w[1]>d[0]&&w[1]<d[3])){i.label=w[1];break}if(w[0]===6&&i.label<d[1]){i.label=d[1],d=w;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(w);break}d[2]&&i.ops.pop(),i.trys.pop();continue}w=n.call(t,i)}catch(I){w=[6,I],f=0}finally{c=d=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Kc=function(){function t(n,i,c){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=c}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return td(this,void 0,void 0,function(){var n,i;return nd(this,function(c){switch(c.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=c.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?Ct.torchOffButton():Ct.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},t.prototype.propagateFailure=function(n,i){var c=n?Ct.torchOnFailedMessage():Ct.torchOffFailedMessage();i&&(c+="; Error = "+i),this.onTorchActionFailureCallback(c)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),E2=function(){function t(n,i){this.onTorchActionFailureCallback=i,this.torchButton=$r.createElement("button",Qn.TORCH_BUTTON_ID),this.torchController=new Kc(n,this,i)}return t.prototype.render=function(n,i){var c=this;this.torchButton.innerText=Ct.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var f=this;this.torchButton.addEventListener("click",function(d){return td(c,void 0,void 0,function(){return nd(this,function(p){switch(p.label){case 0:return[4,f.torchController.flipState()];case 1:return p.sent(),f.torchController.isTorchEnabled()?(f.torchButton.classList.remove(Qn.TORCH_BUTTON_CLASS_TORCH_OFF),f.torchButton.classList.add(Qn.TORCH_BUTTON_CLASS_TORCH_ON)):(f.torchButton.classList.remove(Qn.TORCH_BUTTON_CLASS_TORCH_ON),f.torchButton.classList.add(Qn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(n){this.torchController=new Kc(n,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(n){this.torchButton.innerText=n},t.prototype.reset=function(){this.torchButton.innerText=Ct.torchOnButton(),this.torchController.reset()},t.create=function(n,i,c,f){var d=new t(i,f);return d.render(n,c),d},t}(),v2=function(){function t(n,i,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var f=document.createElement("label");f.setAttribute("for",this.getFileScanInputId()),f.style.display="inline-block",this.fileBasedScanRegion.appendChild(f),this.fileSelectionButton=$r.createElement("button",Qn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(b){f.click()}),f.append(this.fileSelectionButton),this.fileScanInput=$r.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",f.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(b){if(!(b==null||b.target==null)){var C=b.target;if(!(C.files&&C.files.length===0)){var w=C.files,I=w[0],T=I.name;d.setImageNameToButton(T),c(I)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(b){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),b.stopPropagation(),b.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(b){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),b.stopPropagation(),b.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(b){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),b.stopPropagation(),b.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(b){b.stopPropagation(),b.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var C=b.dataTransfer;if(C){var w=C.files;if(!w||w.length===0)return;for(var I=!1,T=0;T<w.length;++T){var B=w.item(T);if(B){var U=/image.*/;if(B.type.match(U)){I=!0;var ce=B.name;d.setImageNameToButton(ce),c(B),p.innerText=Ct.dragAndDropMessage();break}}}I||(p.innerText=Ct.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=Ct.dragAndDropMessage(),n.style.fontWeight="400",n},t.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var c=n.substring(0,8),f=n.length,d=n.substring(f-8,f);n="".concat(c,"....").concat(d)}var p=Ct.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=p},t.prototype.setInitialValueToButton=function(){var n=Ct.fileSelectionChooseImage()+" - "+Ct.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(n,i,c){var f=new t(n,i,c);return f},t}(),I2=function(){function t(n){this.selectElement=$r.createElement("select",Qn.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return t.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)i.style.display="none";else{var f=Ct.selectCamera();i.innerText="".concat(f," (").concat(this.cameras.length,")  ")}for(var d=1,p=0,b=this.cameras;p<b.length;p++){var C=b[p],w=C.id,I=C.label==null?w:C.label;(!I||I==="")&&(I=[Ct.anonymousCameraPrefix(),d++].join(" "));var T=document.createElement("option");T.value=w,T.innerText=I,this.options.push(T),this.selectElement.appendChild(T)}i.appendChild(this.selectElement),n.appendChild(i)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(n){for(var i=0,c=this.options;i<c.length;i++){var f=c[i];if(f.value===n)return!0}return!1},t.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(n,i){var c=new t(i);return c.render(n),c},t}(),S2=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=$r.createElement("input",Qn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=Ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var f=this;this.rangeInput.addEventListener("input",function(){return f.onValueChange()}),this.rangeInput.addEventListener("change",function(){return f.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var n=Ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(n,i,c,f){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=f.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(n,i){var c=new t;return c.render(n,i),c},t}(),Zn;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Zn||(Zn={}));function T2(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function _2(t,n){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:n}}var O2=function(){function t(n,i,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=c===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new si(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Qf(this.verbose),this.persistedDataManager=new w2,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(n,i){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,p){if(n)n(d,p);else{if(c.lastMatchFound===d)return;c.lastMatchFound=d,c.setHeaderMessage(Ct.lastMatch(d),Zn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,p){i&&i(d,p)};var f=document.getElementById(this.elementId);if(!f)throw"HTML Element with id=".concat(this.elementId," not found");f.innerHTML="",this.createBasicLayout(f),this.html5Qrcode=new Xc(this.getScanRegionId(),_2(this.config,this.verbose))},t.prototype.pause=function(n){(_r(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var n=this,i=function(){var c=document.getElementById(n.elementId);c&&(c.innerHTML="",n.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,f){if(!n.html5Qrcode){c();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(d){if(!n.html5Qrcode){c();return}n.html5Qrcode.clear(),i(),c()}).catch(function(d){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",d),f(d)}):(n.html5Qrcode.clear(),i(),c())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(n){return n?(n.fps||(n.fps=dr.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!dr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=dr.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=dr.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:dr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:dr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:dr.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),c=this.getScanRegionId();i.id=c,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),si.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var f=document.createElement("div"),d=this.getDashboardId();f.id=d,f.style.width="100%",n.appendChild(f),this.setupInitialDashboard(f)},t.prototype.resetBasicLayout=function(n){n.style.border="none"},t.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var c=new b2;c.renderInto(i);var f=document.createElement("div");f.id=this.getHeaderMessageContainerId(),f.style.display="none",f.style.textAlign="center",f.style.fontSize="14px",f.style.padding="2px 10px",f.style.margin="4px",f.style.borderTop="1px solid #f6f6f6",i.appendChild(f)},t.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},t.prototype.createCameraListUi=function(n,i,c){var f=this;f.showHideScanTypeSwapLink(!1),f.setHeaderMessage(Ct.cameraPermissionRequesting());var d=function(){c||f.createPermissionButton(n,i)};Xc.getCameras().then(function(p){f.persistedDataManager.setHasPermission(!0),f.showHideScanTypeSwapLink(!0),f.resetHeaderMessage(),p&&p.length>0?(n.removeChild(i),f.renderCameraSelection(p)):(f.setHeaderMessage(Ct.noCameraFound(),Zn.STATUS_WARNING),d())}).catch(function(p){f.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:d(),f.setHeaderMessage(p,Zn.STATUS_WARNING),f.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(n,i){var c=this,f=$r.createElement("button",this.getCameraPermissionButtonId());f.innerText=Ct.cameraPermissionTitle(),f.addEventListener("click",function(){f.disabled=!0,c.createCameraListUi(n,i,f)}),i.appendChild(f)},t.prototype.createPermissionsUi=function(n,i){var c=this;if(si.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){qc.hasPermissions().then(function(f){f?c.createCameraListUi(n,i):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,i))}).catch(function(f){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},t.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=si.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(c);var f=document.createElement("div");f.style.textAlign="center",c.appendChild(f),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,f),this.renderFileScanUi(i)},t.prototype.renderFileScanUi=function(n){var i=si.isFileScanType(this.currentScanType),c=this,f=function(d){if(!c.html5Qrcode)throw"html5Qrcode not defined";si.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(Ct.loadingImage()),c.html5Qrcode.scanFileV2(d,!0).then(function(p){c.resetHeaderMessage(),c.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){c.setHeaderMessage(p,Zn.STATUS_WARNING),c.qrCodeErrorCallback(p,Kf.createFrom(p))}))};this.fileSelectionUi=v2.create(n,i,f)},t.prototype.renderCameraSelection=function(n){var i=this,c=this,f=document.getElementById(this.getDashboardSectionCameraScanRegionId());f.style.textAlign="center";var d=S2.create(f,!1),p=function(Q){var be=Q.zoomFeature();if(be.isSupported()){d.setOnCameraZoomValueChangeCallback(function(ve){be.apply(ve)});var ye=1;i.config.defaultZoomValueIfSupported&&(ye=i.config.defaultZoomValueIfSupported),ye=zg(ye,be.min(),be.max()),d.setValues(be.min(),be.max(),ye,be.step()),d.show()}},b=I2.create(f,n),C=document.createElement("span"),w=$r.createElement("button",Qn.CAMERA_START_BUTTON_ID);w.innerText=Ct.scanButtonStartScanningText(),C.appendChild(w);var I=$r.createElement("button",Qn.CAMERA_STOP_BUTTON_ID);I.innerText=Ct.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,C.appendChild(I);var T,B=function(Q){if(!Q.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(Q.torchFeature()):T=E2.create(C,Q.torchFeature(),{display:"none",marginLeft:"5px"},function(be){c.setHeaderMessage(be,Zn.STATUS_WARNING)}),T.show()};f.appendChild(C);var U=function(Q){Q||(w.style.display="none"),w.innerText=Ct.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,Q&&(w.style.display="inline-block")};if(w.addEventListener("click",function(Q){w.innerText=Ct.scanButtonScanningStarting(),b.disable(),w.disabled=!0,w.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var be=b.getValue();c.persistedDataManager.setLastUsedCameraId(be),c.html5Qrcode.start(be,T2(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(ye){I.disabled=!1,I.style.display="inline-block",U(!1);var ve=c.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&B(ve),i.config.showZoomSliderIfSupported===!0&&p(ve)}).catch(function(ye){c.showHideScanTypeSwapLink(!0),b.enable(),U(!0),c.setHeaderMessage(ye,Zn.STATUS_WARNING)})}),b.hasSingleItem()&&w.click(),I.addEventListener("click",function(Q){if(!c.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,c.html5Qrcode.stop().then(function(be){i.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),b.enable(),w.disabled=!1,I.style.display="none",w.style.display="inline-block",T&&(T.reset(),T.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(be){I.disabled=!1,c.setHeaderMessage(be,Zn.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var ce=c.persistedDataManager.getLastUsedCameraId();b.hasValue(ce)?(b.setValue(ce),w.click()):c.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var n=this,i=Ct.textIfCameraScanSelected(),c=Ct.textIfFileScanSelected(),f=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var p=$r.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=si.isCameraScanType(this.currentScanType)?i:c,p.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,si.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),p.innerText=c,n.currentScanType=qr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),p.innerText=i,n.currentScanType=qr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),d.appendChild(p),f.appendChild(d)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){qc.hasPermissions().then(function(c){if(c){var f=document.getElementById(i.getCameraPermissionButtonId());if(!f)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";f.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(c){i.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},t.prototype.setHeaderMessage=function(n,i){i||(i=Zn.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=n,c.style.display="block",i){case Zn.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Zn.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Zn.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=g2,this.cameraScanImage.alt=Ct.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=p2,this.fileScanImage.alt=Ct.fileScanAltText()},t.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Qn.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Qn.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const M2="modulepreload",N2=function(t){return"/"+t},Qc={},D2=function(n,i,c){let f=Promise.resolve();if(i&&i.length>0){let p=function(w){return Promise.all(w.map(I=>Promise.resolve(I).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),C=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));f=p(i.map(w=>{if(w=N2(w),w in Qc)return;Qc[w]=!0;const I=w.endsWith(".css"),T=I?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(w,'"]').concat(T)))return;const B=document.createElement("link");if(B.rel=I?"stylesheet":M2,I||(B.as="script"),B.crossOrigin="",B.href=w,C&&B.setAttribute("nonce",C),document.head.appendChild(B),I)return new Promise((U,ce)=>{B.addEventListener("load",U),B.addEventListener("error",()=>ce(new Error("Unable to preload CSS for ".concat(w))))})}))}function d(p){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=p,window.dispatchEvent(b),!b.defaultPrevented)throw p}return f.then(p=>{for(const b of p||[])b.status==="rejected"&&d(b.reason);return n().catch(d)})};class st{constructor(n,i,c,f,d){this._legacyCanvasSize=st.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=n,this.$canvas=document.createElement("canvas"),c&&typeof c=="object"?this._onDecode=i:(console.warn(c||f||d?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=i),i=typeof c=="object"?c:{},this._onDecodeError=i.onDecodeError||(typeof c=="function"?c:this._onDecodeError),this._calculateScanRegion=i.calculateScanRegion||(typeof f=="function"?f:this._calculateScanRegion),this._preferredCamera=i.preferredCamera||d||this._preferredCamera,this._legacyCanvasSize=typeof c=="number"?c:typeof f=="number"?f:this._legacyCanvasSize,this._maxScansPerSecond=i.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),n.disablePictureInPicture=!0,n.playsInline=!0,n.muted=!0;let p=!1;if(n.hidden&&(n.hidden=!1,p=!0),document.body.contains(n)||(document.body.appendChild(n),p=!0),c=n.parentElement,i.highlightScanRegion||i.highlightCodeOutline){if(f=!!i.overlay,this.$overlay=i.overlay||document.createElement("div"),d=this.$overlay.style,d.position="absolute",d.display="none",d.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!f&&i.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(b){}c.insertBefore(this.$overlay,this.$video.nextSibling)}i.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(n),requestAnimationFrame(()=>{let b=window.getComputedStyle(n);b.display==="none"&&(n.style.setProperty("display","block","important"),p=!0),b.visibility!=="visible"&&(n.style.setProperty("visibility","visible","important"),p=!0),p&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),n.style.opacity="0",n.style.width="0",n.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),n.addEventListener("play",this._onPlay),n.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=st.createQrEngine()}static set WORKER_PATH(n){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await st.listCameras(!1)).length}catch(n){return!1}}static async listCameras(n=!1){if(!navigator.mediaDevices)return[];let i=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(f=>f.kind==="videoinput"),c;try{n&&(await i()).every(f=>!f.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(f){}try{return(await i()).map((f,d)=>({id:f.deviceId,label:f.label||(d===0?"Default Camera":"Camera ".concat(d+1))}))}finally{c&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),st._stopVideoStream(c))}}async hasFlash(){let n;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;n=this.$video.srcObject}else n=(await this._getCameraStream()).stream;return"torch"in n.getVideoTracks()[0].getSettings()}catch(i){return!1}finally{n&&n!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),st._stopVideoStream(n))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(n){throw this._flashOn=!1,n}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),st._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:n,facingMode:i}=await this._getCameraStream();!this._active||this._paused?st._stopVideoStream(n):(this._setVideoMirror(i),this.$video.srcObject=n,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(n){if(!this._paused)throw this._active=!1,n}}stop(){this.pause(),this._active=!1}async pause(n=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let i=()=>{this.$video.srcObject instanceof MediaStream&&(st._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return n?(i(),!0):(await new Promise(c=>setTimeout(c,300)),this._paused?(i(),!0):!1)}async setCamera(n){n!==this._preferredCamera&&(this._preferredCamera=n,await this._restartVideoStream())}static async scanImage(n,i,c,f,d=!1,p=!1){let b,C=!1;i&&("scanRegion"in i||"qrEngine"in i||"canvas"in i||"disallowCanvasResizing"in i||"alsoTryWithoutScanRegion"in i||"returnDetailedScanResult"in i)?(b=i.scanRegion,c=i.qrEngine,f=i.canvas,d=i.disallowCanvasResizing||!1,p=i.alsoTryWithoutScanRegion||!1,C=!0):console.warn(i||c||f||d||p?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),i=!!c;try{let w,I;[c,w]=await Promise.all([c||st.createQrEngine(),st._loadImage(n)]),[f,I]=st._drawToCanvas(w,b,f,d);let T;if(c instanceof Worker){let B=c;i||st._postWorkerMessageSync(B,"inversionMode","both"),T=await new Promise((U,ce)=>{let Q,be,ye,ve=-1;be=Z=>{Z.data.id===ve&&(B.removeEventListener("message",be),B.removeEventListener("error",ye),clearTimeout(Q),Z.data.data!==null?U({data:Z.data.data,cornerPoints:st._convertPoints(Z.data.cornerPoints,b)}):ce(st.NO_QR_CODE_FOUND))},ye=Z=>{B.removeEventListener("message",be),B.removeEventListener("error",ye),clearTimeout(Q),ce("Scanner error: "+(Z?Z.message||Z:"Unknown Error"))},B.addEventListener("message",be),B.addEventListener("error",ye),Q=setTimeout(()=>ye("timeout"),1e4);let ne=I.getImageData(0,0,f.width,f.height);ve=st._postWorkerMessageSync(B,"decode",ne,[ne.data.buffer])})}else T=await Promise.race([new Promise((B,U)=>window.setTimeout(()=>U("Scanner error: timeout"),1e4)),(async()=>{try{var[B]=await c.detect(f);if(!B)throw st.NO_QR_CODE_FOUND;return{data:B.rawValue,cornerPoints:st._convertPoints(B.cornerPoints,b)}}catch(U){if(B=U.message||U,/not implemented|service unavailable/.test(B))return st._disableBarcodeDetector=!0,st.scanImage(n,{scanRegion:b,canvas:f,disallowCanvasResizing:d,alsoTryWithoutScanRegion:p});throw"Scanner error: ".concat(B)}})()]);return C?T:T.data}catch(w){if(!b||!p)throw w;let I=await st.scanImage(n,{qrEngine:c,canvas:f,disallowCanvasResizing:d});return C?I:I.data}finally{i||st._postWorkerMessage(c,"close")}}setGrayscaleWeights(n,i,c,f=!0){st._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:n,green:i,blue:c,useIntegerApproximation:f})}setInversionMode(n){st._postWorkerMessage(this._qrEnginePromise,"inversionMode",n)}static async createQrEngine(n){if(n&&console.warn("Specifying a worker path is not required and not supported anymore."),n=()=>D2(()=>import("./qr-scanner-worker.min.js"),[]).then(c=>c.createWorker()),!(!st._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return n();let i=navigator.userAgentData;return i&&i.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(i.platform)&&await i.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:c,platformVersion:f})=>/arm/i.test(c||"arm")&&13<=parseInt(f||"13")).catch(()=>!0)?n():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(n){let i=Math.round(.6666666666666666*Math.min(n.videoWidth,n.videoHeight));return{x:Math.round((n.videoWidth-i)/2),y:Math.round((n.videoHeight-i)/2),width:i,height:i,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var n=this.$video,i=n.videoWidth,c=n.videoHeight,f=n.offsetWidth,d=n.offsetHeight,p=n.offsetLeft,b=n.offsetTop,C=window.getComputedStyle(n),w=C.objectFit,I=i/c,T=f/d;switch(w){case"none":var B=i,U=c;break;case"fill":B=f,U=d;break;default:(w==="cover"?I>T:I<T)?(U=d,B=U*I):(B=f,U=B/I),w==="scale-down"&&(B=Math.min(B,i),U=Math.min(U,c))}var[ce,Q]=C.objectPosition.split(" ").map((ye,ve)=>{const ne=parseFloat(ye);return ye.endsWith("%")?(ve?d-U:f-B)*ne/100:ne});C=this._scanRegion.width||i,T=this._scanRegion.height||c,w=this._scanRegion.x||0;var be=this._scanRegion.y||0;I=this.$overlay.style,I.width="".concat(C/i*B,"px"),I.height="".concat(T/c*U,"px"),I.top="".concat(b+Q+be/c*U,"px"),c=/scaleX\(-1\)/.test(n.style.transform),I.left="".concat(p+(c?f-ce-B:ce)+(c?i-w-C:w)/i*B,"px"),I.transform=n.style.transform}})}static _convertPoints(n,i){if(!i)return n;let c=i.x||0,f=i.y||0,d=i.width&&i.downScaledWidth?i.width/i.downScaledWidth:1;i=i.height&&i.downScaledHeight?i.height/i.downScaledHeight:1;for(let p of n)p.x=p.x*d+c,p.y=p.y*i+f;return n}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var n=Date.now()-this._lastScanTimestamp,i=1e3/this._maxScansPerSecond;n<i&&await new Promise(f=>setTimeout(f,i-n)),this._lastScanTimestamp=Date.now();try{var c=await st.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(f){if(!this._active)return;this._onDecodeError(f)}!st._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=st.createQrEngine()),c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox","".concat(this._scanRegion.x||0," ")+"".concat(this._scanRegion.y||0," ")+"".concat(this._scanRegion.width||this.$video.videoWidth," ")+"".concat(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",c.cornerPoints.map(({x:f,y:d})=>"".concat(f,",").concat(d)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(n){n!==st.NO_QR_CODE_FOUND&&console.log(n)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let n=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",i=[{width:{min:1024}},{width:{min:768}},{}],c=i.map(f=>Object.assign({},f,{[n]:{exact:this._preferredCamera}}));for(let f of[...c,...i])try{let d=await navigator.mediaDevices.getUserMedia({video:f,audio:!1}),p=this._getFacingMode(d)||(f.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:d,facingMode:p}}catch(d){}throw"Camera not found."}async _restartVideoStream(){let n=this._paused;await this.pause(!0)&&!n&&this._active&&await this.start()}static _stopVideoStream(n){for(let i of n.getTracks())i.stop(),n.removeTrack(i)}_setVideoMirror(n){this.$video.style.transform="scaleX("+(n==="user"?-1:1)+")"}_getFacingMode(n){return(n=n.getVideoTracks()[0])?/rear|back|environment/i.test(n.label)?"environment":/front|user|face/i.test(n.label)?"user":null:null}static _drawToCanvas(n,i,c,f=!1){c=c||document.createElement("canvas");let d=i&&i.x?i.x:0,p=i&&i.y?i.y:0,b=i&&i.width?i.width:n.videoWidth||n.width,C=i&&i.height?i.height:n.videoHeight||n.height;return f||(f=i&&i.downScaledWidth?i.downScaledWidth:b,i=i&&i.downScaledHeight?i.downScaledHeight:C,c.width!==f&&(c.width=f),c.height!==i&&(c.height=i)),i=c.getContext("2d",{alpha:!1}),i.imageSmoothingEnabled=!1,i.drawImage(n,d,p,b,C,0,0,c.width,c.height),[c,i]}static async _loadImage(n){if(n instanceof Image)return await st._awaitImageLoad(n),n;if(n instanceof HTMLVideoElement||n instanceof HTMLCanvasElement||n instanceof SVGImageElement||"OffscreenCanvas"in window&&n instanceof OffscreenCanvas||"ImageBitmap"in window&&n instanceof ImageBitmap)return n;if(n instanceof File||n instanceof Blob||n instanceof URL||typeof n=="string"){let i=new Image;i.src=n instanceof File||n instanceof Blob?URL.createObjectURL(n):n.toString();try{return await st._awaitImageLoad(i),i}finally{(n instanceof File||n instanceof Blob)&&URL.revokeObjectURL(i.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(n){n.complete&&n.naturalWidth!==0||await new Promise((i,c)=>{let f=d=>{n.removeEventListener("load",f),n.removeEventListener("error",f),d instanceof ErrorEvent?c("Image load error"):i()};n.addEventListener("load",f),n.addEventListener("error",f)})}static async _postWorkerMessage(n,i,c,f){return st._postWorkerMessageSync(await n,i,c,f)}static _postWorkerMessageSync(n,i,c,f){if(!(n instanceof Worker))return-1;let d=st._workerMessageId++;return n.postMessage({id:d,type:i,data:c},f),d}}st.DEFAULT_CANVAS_SIZE=400;st.NO_QR_CODE_FOUND="No QR code found";st._disableBarcodeDetector=!1;st._workerMessageId=0;/*!
* sweetalert2 v11.19.1
* Released under the MIT License.
*/function rd(t,n,i){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:i;throw new TypeError("Private element is not present on this object")}function R2(t,n){if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jc(t,n){return t.get(rd(t,n))}function L2(t,n,i){R2(t,n),n.set(t,i)}function P2(t,n,i){return t.set(rd(t,n),i),i}const B2=100,ke={},k2=()=>{ke.previousActiveElement instanceof HTMLElement?(ke.previousActiveElement.focus(),ke.previousActiveElement=null):document.body&&document.body.focus()},F2=t=>new Promise(n=>{if(!t)return n();const i=window.scrollX,c=window.scrollY;ke.restoreFocusTimeout=setTimeout(()=>{k2(),n()},B2),window.scrollTo(i,c)}),id="swal2-",U2=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],$=U2.reduce((t,n)=>(t[n]=id+n,t),{}),j2=["success","warning","info","question","error"],Wo=j2.reduce((t,n)=>(t[n]=id+n,t),{}),sd="SweetAlert2:",kl=t=>t.charAt(0).toUpperCase()+t.slice(1),Rn=t=>{console.warn("".concat(sd," ").concat(typeof t=="object"?t.join(" "):t))},Ui=t=>{console.error("".concat(sd," ").concat(t))},eu=[],H2=t=>{eu.includes(t)||(eu.push(t),Rn(t))},od=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;H2('"'.concat(t,'" is deprecated and will be removed in the next major release.').concat(n?' Use "'.concat(n,'" instead.'):""))},ca=t=>typeof t=="function"?t():t,Fl=t=>t&&typeof t.toPromise=="function",io=t=>Fl(t)?t.toPromise():Promise.resolve(t),Ul=t=>t&&Promise.resolve(t)===t,Ln=()=>document.body.querySelector(".".concat($.container)),so=t=>{const n=Ln();return n?n.querySelector(t):null},tr=t=>so(".".concat(t)),ht=()=>tr($.popup),ms=()=>tr($.icon),V2=()=>tr($["icon-content"]),ad=()=>tr($.title),jl=()=>tr($["html-container"]),ld=()=>tr($.image),Hl=()=>tr($["progress-steps"]),ua=()=>tr($["validation-message"]),Lr=()=>so(".".concat($.actions," .").concat($.confirm)),ws=()=>so(".".concat($.actions," .").concat($.cancel)),ji=()=>so(".".concat($.actions," .").concat($.deny)),W2=()=>tr($["input-label"]),xs=()=>so(".".concat($.loader)),oo=()=>tr($.actions),cd=()=>tr($.footer),fa=()=>tr($["timer-progress-bar"]),Vl=()=>tr($.close),z2='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',Wl=()=>{const t=ht();if(!t)return[];const n=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(n).sort((d,p)=>{const b=parseInt(d.getAttribute("tabindex")||"0"),C=parseInt(p.getAttribute("tabindex")||"0");return b>C?1:b<C?-1:0}),c=t.querySelectorAll(z2),f=Array.from(c).filter(d=>d.getAttribute("tabindex")!=="-1");return[...new Set(i.concat(f))].filter(d=>jn(d))},zl=()=>Zr(document.body,$.shown)&&!Zr(document.body,$["toast-shown"])&&!Zr(document.body,$["no-backdrop"]),da=()=>{const t=ht();return t?Zr(t,$.toast):!1},G2=()=>{const t=ht();return t?t.hasAttribute("data-loading"):!1},nr=(t,n)=>{if(t.textContent="",n){const c=new DOMParser().parseFromString(n,"text/html"),f=c.querySelector("head");f&&Array.from(f.childNodes).forEach(p=>{t.appendChild(p)});const d=c.querySelector("body");d&&Array.from(d.childNodes).forEach(p=>{p instanceof HTMLVideoElement||p instanceof HTMLAudioElement?t.appendChild(p.cloneNode(!0)):t.appendChild(p)})}},Zr=(t,n)=>{if(!n)return!1;const i=n.split(/\s+/);for(let c=0;c<i.length;c++)if(!t.classList.contains(i[c]))return!1;return!0},Y2=(t,n)=>{Array.from(t.classList).forEach(i=>{!Object.values($).includes(i)&&!Object.values(Wo).includes(i)&&!Object.values(n.showClass||{}).includes(i)&&t.classList.remove(i)})},er=(t,n,i)=>{if(Y2(t,n),!n.customClass)return;const c=n.customClass[i];if(c){if(typeof c!="string"&&!c.forEach){Rn("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(typeof c,'"'));return}pt(t,c)}},ha=(t,n)=>{if(!n)return null;switch(n){case"select":case"textarea":case"file":return t.querySelector(".".concat($.popup," > .").concat($[n]));case"checkbox":return t.querySelector(".".concat($.popup," > .").concat($.checkbox," input"));case"radio":return t.querySelector(".".concat($.popup," > .").concat($.radio," input:checked"))||t.querySelector(".".concat($.popup," > .").concat($.radio," input:first-child"));case"range":return t.querySelector(".".concat($.popup," > .").concat($.range," input"));default:return t.querySelector(".".concat($.popup," > .").concat($.input))}},ud=t=>{if(t.focus(),t.type!=="file"){const n=t.value;t.value="",t.value=n}},fd=(t,n,i)=>{!t||!n||(typeof n=="string"&&(n=n.split(/\s+/).filter(Boolean)),n.forEach(c=>{Array.isArray(t)?t.forEach(f=>{i?f.classList.add(c):f.classList.remove(c)}):i?t.classList.add(c):t.classList.remove(c)}))},pt=(t,n)=>{fd(t,n,!0)},ur=(t,n)=>{fd(t,n,!1)},ui=(t,n)=>{const i=Array.from(t.children);for(let c=0;c<i.length;c++){const f=i[c];if(f instanceof HTMLElement&&Zr(f,n))return f}},Pi=(t,n,i)=>{i==="".concat(parseInt(i))&&(i=parseInt(i)),i||parseInt(i)===0?t.style.setProperty(n,typeof i=="number"?"".concat(i,"px"):i):t.style.removeProperty(n)},pn=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=n)},In=t=>{t&&(t.style.display="none")},Gl=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{ao(t,t.innerHTML,n)}).observe(t,{childList:!0,subtree:!0})},tu=(t,n,i,c)=>{const f=t.querySelector(n);f&&f.style.setProperty(i,c)},ao=function(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";n?pn(t,i):In(t)},jn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),X2=()=>!jn(Lr())&&!jn(ji())&&!jn(ws()),nu=t=>t.scrollHeight>t.clientHeight,dd=t=>{const n=window.getComputedStyle(t),i=parseFloat(n.getPropertyValue("animation-duration")||"0"),c=parseFloat(n.getPropertyValue("transition-duration")||"0");return i>0||c>0},Yl=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=fa();i&&jn(i)&&(n&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition="width ".concat(t/1e3,"s linear"),i.style.width="0%"},10))},$2=()=>{const t=fa();if(!t)return;const n=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const i=parseInt(window.getComputedStyle(t).width),c=n/i*100;t.style.width="".concat(c,"%")},Z2=()=>typeof window>"u"||typeof document>"u",q2='\n <div aria-labelledby="'.concat($.title,'" aria-describedby="').concat($["html-container"],'" class="').concat($.popup,'" tabindex="-1">\n   <button type="button" class="').concat($.close,'"></button>\n   <ul class="').concat($["progress-steps"],'"></ul>\n   <div class="').concat($.icon,'"></div>\n   <img class="').concat($.image,'" />\n   <h2 class="').concat($.title,'" id="').concat($.title,'"></h2>\n   <div class="').concat($["html-container"],'" id="').concat($["html-container"],'"></div>\n   <input class="').concat($.input,'" id="').concat($.input,'" />\n   <input type="file" class="').concat($.file,'" />\n   <div class="').concat($.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat($.select,'" id="').concat($.select,'"></select>\n   <div class="').concat($.radio,'"></div>\n   <label class="').concat($.checkbox,'">\n     <input type="checkbox" id="').concat($.checkbox,'" />\n     <span class="').concat($.label,'"></span>\n   </label>\n   <textarea class="').concat($.textarea,'" id="').concat($.textarea,'"></textarea>\n   <div class="').concat($["validation-message"],'" id="').concat($["validation-message"],'"></div>\n   <div class="').concat($.actions,'">\n     <div class="').concat($.loader,'"></div>\n     <button type="button" class="').concat($.confirm,'"></button>\n     <button type="button" class="').concat($.deny,'"></button>\n     <button type="button" class="').concat($.cancel,'"></button>\n   </div>\n   <div class="').concat($.footer,'"></div>\n   <div class="').concat($["timer-progress-bar-container"],'">\n     <div class="').concat($["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),K2=()=>{const t=Ln();return t?(t.remove(),ur([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},Ni=()=>{ke.currentInstance.resetValidationMessage()},Q2=()=>{const t=ht(),n=ui(t,$.input),i=ui(t,$.file),c=t.querySelector(".".concat($.range," input")),f=t.querySelector(".".concat($.range," output")),d=ui(t,$.select),p=t.querySelector(".".concat($.checkbox," input")),b=ui(t,$.textarea);n.oninput=Ni,i.onchange=Ni,d.onchange=Ni,p.onchange=Ni,b.oninput=Ni,c.oninput=()=>{Ni(),f.value=c.value},c.onchange=()=>{Ni(),f.value=c.value}},J2=t=>typeof t=="string"?document.querySelector(t):t,ep=t=>{const n=ht();n.setAttribute("role",t.toast?"alert":"dialog"),n.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||n.setAttribute("aria-modal","true")},tp=t=>{window.getComputedStyle(t).direction==="rtl"&&pt(Ln(),$.rtl)},np=t=>{const n=K2();if(Z2()){Ui("SweetAlert2 requires document to initialize");return}const i=document.createElement("div");i.className=$.container,n&&pt(i,$["no-transition"]),nr(i,q2),i.dataset.swal2Theme=t.theme;const c=J2(t.target);c.appendChild(i),ep(t),tp(c),Q2()},Xl=(t,n)=>{t instanceof HTMLElement?n.appendChild(t):typeof t=="object"?rp(t,n):t&&nr(n,t)},rp=(t,n)=>{t.jquery?ip(n,t):nr(n,t.toString())},ip=(t,n)=>{if(t.textContent="",0 in n)for(let i=0;i in n;i++)t.appendChild(n[i].cloneNode(!0));else t.appendChild(n.cloneNode(!0))},sp=(t,n)=>{const i=oo(),c=xs();!i||!c||(!n.showConfirmButton&&!n.showDenyButton&&!n.showCancelButton?In(i):pn(i),er(i,n,"actions"),op(i,c,n),nr(c,n.loaderHtml||""),er(c,n,"loader"))};function op(t,n,i){const c=Lr(),f=ji(),d=ws();!c||!f||!d||(Ga(c,"confirm",i),Ga(f,"deny",i),Ga(d,"cancel",i),ap(c,f,d,i),i.reverseButtons&&(i.toast?(t.insertBefore(d,c),t.insertBefore(f,c)):(t.insertBefore(d,n),t.insertBefore(f,n),t.insertBefore(c,n))))}function ap(t,n,i,c){if(!c.buttonsStyling){ur([t,n,i],$.styled);return}pt([t,n,i],$.styled),c.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",c.confirmButtonColor),c.denyButtonColor&&n.style.setProperty("--swal2-deny-button-background-color",c.denyButtonColor),c.cancelButtonColor&&i.style.setProperty("--swal2-cancel-button-background-color",c.cancelButtonColor),za(t),za(n),za(i)}function za(t){const n=window.getComputedStyle(t),i=n.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-outline",n.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/," ".concat(i)))}function Ga(t,n,i){const c=kl(n);ao(t,i["show".concat(c,"Button")],"inline-block"),nr(t,i["".concat(n,"ButtonText")]||""),t.setAttribute("aria-label",i["".concat(n,"ButtonAriaLabel")]||""),t.className=$[n],er(t,i,"".concat(n,"Button"))}const lp=(t,n)=>{const i=Vl();i&&(nr(i,n.closeButtonHtml||""),er(i,n,"closeButton"),ao(i,n.showCloseButton),i.setAttribute("aria-label",n.closeButtonAriaLabel||""))},cp=(t,n)=>{const i=Ln();i&&(up(i,n.backdrop),fp(i,n.position),dp(i,n.grow),er(i,n,"container"))};function up(t,n){typeof n=="string"?t.style.background=n:n||pt([document.documentElement,document.body],$["no-backdrop"])}function fp(t,n){n&&(n in $?pt(t,$[n]):(Rn('The "position" parameter is not valid, defaulting to "center"'),pt(t,$.center)))}function dp(t,n){n&&pt(t,$["grow-".concat(n)])}var Mt={innerParams:new WeakMap,domCache:new WeakMap};const hp=["input","file","range","select","radio","checkbox","textarea"],gp=(t,n)=>{const i=ht();if(!i)return;const c=Mt.innerParams.get(t),f=!c||n.input!==c.input;hp.forEach(d=>{const p=ui(i,$[d]);p&&(wp(d,n.inputAttributes),p.className=$[d],f&&In(p))}),n.input&&(f&&pp(n),xp(n))},pp=t=>{if(!t.input)return;if(!qt[t.input]){Ui("Unexpected type of input! Expected ".concat(Object.keys(qt).join(" | "),', got "').concat(t.input,'"'));return}const n=hd(t.input);if(!n)return;const i=qt[t.input](n,t);pn(n),t.inputAutoFocus&&setTimeout(()=>{ud(i)})},mp=t=>{for(let n=0;n<t.attributes.length;n++){const i=t.attributes[n].name;["id","type","value","style"].includes(i)||t.removeAttribute(i)}},wp=(t,n)=>{const i=ht();if(!i)return;const c=ha(i,t);if(c){mp(c);for(const f in n)c.setAttribute(f,n[f])}},xp=t=>{if(!t.input)return;const n=hd(t.input);n&&er(n,t,"input")},$l=(t,n)=>{!t.placeholder&&n.inputPlaceholder&&(t.placeholder=n.inputPlaceholder)},lo=(t,n,i)=>{if(i.inputLabel){const c=document.createElement("label"),f=$["input-label"];c.setAttribute("for",t.id),c.className=f,typeof i.customClass=="object"&&pt(c,i.customClass.inputLabel),c.innerText=i.inputLabel,n.insertAdjacentElement("beforebegin",c)}},hd=t=>{const n=ht();if(n)return ui(n,$[t]||$.input)},zo=(t,n)=>{["string","number"].includes(typeof n)?t.value="".concat(n):Ul(n)||Rn('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof n,'"'))},qt={};qt.text=qt.email=qt.password=qt.number=qt.tel=qt.url=qt.search=qt.date=qt["datetime-local"]=qt.time=qt.week=qt.month=(t,n)=>(zo(t,n.inputValue),lo(t,t,n),$l(t,n),t.type=n.input,t);qt.file=(t,n)=>(lo(t,t,n),$l(t,n),t);qt.range=(t,n)=>{const i=t.querySelector("input"),c=t.querySelector("output");return zo(i,n.inputValue),i.type=n.input,zo(c,n.inputValue),lo(i,t,n),t};qt.select=(t,n)=>{if(t.textContent="",n.inputPlaceholder){const i=document.createElement("option");nr(i,n.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,t.appendChild(i)}return lo(t,t,n),t};qt.radio=t=>(t.textContent="",t);qt.checkbox=(t,n)=>{const i=ha(ht(),"checkbox");i.value="1",i.checked=!!n.inputValue;const c=t.querySelector("span");return nr(c,n.inputPlaceholder||n.inputLabel),i};qt.textarea=(t,n)=>{zo(t,n.inputValue),$l(t,n),lo(t,t,n);const i=c=>parseInt(window.getComputedStyle(c).marginLeft)+parseInt(window.getComputedStyle(c).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const c=parseInt(window.getComputedStyle(ht()).width),f=()=>{if(!document.body.contains(t))return;const d=t.offsetWidth+i(t);d>c?ht().style.width="".concat(d,"px"):Pi(ht(),"width",n.width)};new MutationObserver(f).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const yp=(t,n)=>{const i=jl();i&&(Gl(i),er(i,n,"htmlContainer"),n.html?(Xl(n.html,i),pn(i,"block")):n.text?(i.textContent=n.text,pn(i,"block")):In(i),gp(t,n))},bp=(t,n)=>{const i=cd();i&&(Gl(i),ao(i,n.footer,"block"),n.footer&&Xl(n.footer,i),er(i,n,"footer"))},Cp=(t,n)=>{const i=Mt.innerParams.get(t),c=ms();if(!c)return;if(i&&n.icon===i.icon){iu(c,n),ru(c,n);return}if(!n.icon&&!n.iconHtml){In(c);return}if(n.icon&&Object.keys(Wo).indexOf(n.icon)===-1){Ui('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(n.icon,'"')),In(c);return}pn(c),iu(c,n),ru(c,n),pt(c,n.showClass&&n.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",gd)},ru=(t,n)=>{for(const[i,c]of Object.entries(Wo))n.icon!==i&&ur(t,c);pt(t,n.icon&&Wo[n.icon]),vp(t,n),gd(),er(t,n,"icon")},gd=()=>{const t=ht();if(!t)return;const n=window.getComputedStyle(t).getPropertyValue("background-color"),i=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let c=0;c<i.length;c++)i[c].style.backgroundColor=n},Ap='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',Ep='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',iu=(t,n)=>{if(!n.icon&&!n.iconHtml)return;let i=t.innerHTML,c="";n.iconHtml?c=su(n.iconHtml):n.icon==="success"?(c=Ap,i=i.replace(/ style=".*?"/g,"")):n.icon==="error"?c=Ep:n.icon&&(c=su({question:"?",warning:"!",info:"i"}[n.icon])),i.trim()!==c.trim()&&nr(t,c)},vp=(t,n)=>{if(n.iconColor){t.style.color=n.iconColor,t.style.borderColor=n.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])tu(t,i,"background-color",n.iconColor);tu(t,".swal2-success-ring","border-color",n.iconColor)}},su=t=>'<div class="'.concat($["icon-content"],'">').concat(t,"</div>"),Ip=(t,n)=>{const i=ld();if(i){if(!n.imageUrl){In(i);return}pn(i,""),i.setAttribute("src",n.imageUrl),i.setAttribute("alt",n.imageAlt||""),Pi(i,"width",n.imageWidth),Pi(i,"height",n.imageHeight),i.className=$.image,er(i,n,"image")}};let Zl=!1,pd=0,md=0,wd=0,xd=0;const Sp=t=>{t.addEventListener("mousedown",Go),document.body.addEventListener("mousemove",Yo),t.addEventListener("mouseup",Xo),t.addEventListener("touchstart",Go),document.body.addEventListener("touchmove",Yo),t.addEventListener("touchend",Xo)},Tp=t=>{t.removeEventListener("mousedown",Go),document.body.removeEventListener("mousemove",Yo),t.removeEventListener("mouseup",Xo),t.removeEventListener("touchstart",Go),document.body.removeEventListener("touchmove",Yo),t.removeEventListener("touchend",Xo)},Go=t=>{const n=ht();if(t.target===n||ms().contains(t.target)){Zl=!0;const i=yd(t);pd=i.clientX,md=i.clientY,wd=parseInt(n.style.insetInlineStart)||0,xd=parseInt(n.style.insetBlockStart)||0,pt(n,"swal2-dragging")}},Yo=t=>{const n=ht();if(Zl){let{clientX:i,clientY:c}=yd(t);n.style.insetInlineStart="".concat(wd+(i-pd),"px"),n.style.insetBlockStart="".concat(xd+(c-md),"px")}},Xo=()=>{const t=ht();Zl=!1,ur(t,"swal2-dragging")},yd=t=>{let n=0,i=0;return t.type.startsWith("mouse")?(n=t.clientX,i=t.clientY):t.type.startsWith("touch")&&(n=t.touches[0].clientX,i=t.touches[0].clientY),{clientX:n,clientY:i}},_p=(t,n)=>{const i=Ln(),c=ht();if(!(!i||!c)){if(n.toast){Pi(i,"width",n.width),c.style.width="100%";const f=xs();f&&c.insertBefore(f,ms())}else Pi(c,"width",n.width);Pi(c,"padding",n.padding),n.color&&(c.style.color=n.color),n.background&&(c.style.background=n.background),In(ua()),Op(c,n),n.draggable&&!n.toast?(pt(c,$.draggable),Sp(c)):(ur(c,$.draggable),Tp(c))}},Op=(t,n)=>{const i=n.showClass||{};t.className="".concat($.popup," ").concat(jn(t)?i.popup:""),n.toast?(pt([document.documentElement,document.body],$["toast-shown"]),pt(t,$.toast)):pt(t,$.modal),er(t,n,"popup"),typeof n.customClass=="string"&&pt(t,n.customClass),n.icon&&pt(t,$["icon-".concat(n.icon)])},Mp=(t,n)=>{const i=Hl();if(!i)return;const{progressSteps:c,currentProgressStep:f}=n;if(!c||c.length===0||f===void 0){In(i);return}pn(i),i.textContent="",f>=c.length&&Rn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),c.forEach((d,p)=>{const b=Np(d);if(i.appendChild(b),p===f&&pt(b,$["active-progress-step"]),p!==c.length-1){const C=Dp(n);i.appendChild(C)}})},Np=t=>{const n=document.createElement("li");return pt(n,$["progress-step"]),nr(n,t),n},Dp=t=>{const n=document.createElement("li");return pt(n,$["progress-step-line"]),t.progressStepsDistance&&Pi(n,"width",t.progressStepsDistance),n},Rp=(t,n)=>{const i=ad();i&&(Gl(i),ao(i,n.title||n.titleText,"block"),n.title&&Xl(n.title,i),n.titleText&&(i.innerText=n.titleText),er(i,n,"title"))},bd=(t,n)=>{_p(t,n),cp(t,n),Mp(t,n),Cp(t,n),Ip(t,n),Rp(t,n),lp(t,n),yp(t,n),sp(t,n),bp(t,n);const i=ht();typeof n.didRender=="function"&&i&&n.didRender(i),ke.eventEmitter.emit("didRender",i)},Lp=()=>jn(ht()),Cd=()=>{var t;return(t=Lr())===null||t===void 0?void 0:t.click()},Pp=()=>{var t;return(t=ji())===null||t===void 0?void 0:t.click()},Bp=()=>{var t;return(t=ws())===null||t===void 0?void 0:t.click()},ys=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ad=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},kp=(t,n,i)=>{Ad(t),n.toast||(t.keydownHandler=c=>Up(n,c,i),t.keydownTarget=n.keydownListenerCapture?window:ht(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},ul=(t,n)=>{var i;const c=Wl();if(c.length){t=t+n,t===-2&&(t=c.length-1),t===c.length?t=0:t===-1&&(t=c.length-1),c[t].focus();return}(i=ht())===null||i===void 0||i.focus()},Ed=["ArrowRight","ArrowDown"],Fp=["ArrowLeft","ArrowUp"],Up=(t,n,i)=>{t&&(n.isComposing||n.keyCode===229||(t.stopKeydownPropagation&&n.stopPropagation(),n.key==="Enter"?jp(n,t):n.key==="Tab"?Hp(n):[...Ed,...Fp].includes(n.key)?Vp(n.key):n.key==="Escape"&&Wp(n,t,i)))},jp=(t,n)=>{if(!ca(n.allowEnterKey))return;const i=ha(ht(),n.input);if(t.target&&i&&t.target instanceof HTMLElement&&t.target.outerHTML===i.outerHTML){if(["textarea","file"].includes(n.input))return;Cd(),t.preventDefault()}},Hp=t=>{const n=t.target,i=Wl();let c=-1;for(let f=0;f<i.length;f++)if(n===i[f]){c=f;break}t.shiftKey?ul(c,-1):ul(c,1),t.stopPropagation(),t.preventDefault()},Vp=t=>{const n=oo(),i=Lr(),c=ji(),f=ws();if(!n||!i||!c||!f)return;const d=[i,c,f];if(document.activeElement instanceof HTMLElement&&!d.includes(document.activeElement))return;const p=Ed.includes(t)?"nextElementSibling":"previousElementSibling";let b=document.activeElement;if(b){for(let C=0;C<n.children.length;C++){if(b=b[p],!b)return;if(b instanceof HTMLButtonElement&&jn(b))break}b instanceof HTMLButtonElement&&b.focus()}},Wp=(t,n,i)=>{ca(n.allowEscapeKey)&&(t.preventDefault(),i(ys.esc))};var gs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const zp=()=>{const t=Ln();Array.from(document.body.children).forEach(i=>{i.contains(t)||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")||""),i.setAttribute("aria-hidden","true"))})},vd=()=>{Array.from(document.body.children).forEach(n=>{n.hasAttribute("data-previous-aria-hidden")?(n.setAttribute("aria-hidden",n.getAttribute("data-previous-aria-hidden")||""),n.removeAttribute("data-previous-aria-hidden")):n.removeAttribute("aria-hidden")})},Id=typeof window<"u"&&!!window.GestureEvent,Gp=()=>{if(Id&&!Zr(document.body,$.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(t*-1,"px"),pt(document.body,$.iosfix),Yp()}},Yp=()=>{const t=Ln();if(!t)return;let n;t.ontouchstart=i=>{n=Xp(i)},t.ontouchmove=i=>{n&&(i.preventDefault(),i.stopPropagation())}},Xp=t=>{const n=t.target,i=Ln(),c=jl();return!i||!c||$p(t)||Zp(t)?!1:n===i||!nu(i)&&n instanceof HTMLElement&&n.tagName!=="INPUT"&&n.tagName!=="TEXTAREA"&&!(nu(c)&&c.contains(n))},$p=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",Zp=t=>t.touches&&t.touches.length>1,qp=()=>{if(Zr(document.body,$.iosfix)){const t=parseInt(document.body.style.top,10);ur(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Kp=()=>{const t=document.createElement("div");t.className=$["scrollbar-measure"],document.body.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),n};let us=null;const Qp=t=>{us===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(us=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(us+Kp(),"px"))},Jp=()=>{us!==null&&(document.body.style.paddingRight="".concat(us,"px"),us=null)};function Sd(t,n,i,c){da()?ou(t,c):(F2(i).then(()=>ou(t,c)),Ad(ke)),Id?(n.setAttribute("style","display:none !important"),n.removeAttribute("class"),n.innerHTML=""):n.remove(),zl()&&(Jp(),qp(),vd()),em()}function em(){ur([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function fi(t){t=nm(t);const n=gs.swalPromiseResolve.get(this),i=tm(this);this.isAwaitingPromise?t.isDismissed||(co(this),n(t)):i&&n(t)}const tm=t=>{const n=ht();if(!n)return!1;const i=Mt.innerParams.get(t);if(!i||Zr(n,i.hideClass.popup))return!1;ur(n,i.showClass.popup),pt(n,i.hideClass.popup);const c=Ln();return ur(c,i.showClass.backdrop),pt(c,i.hideClass.backdrop),rm(t,n,i),!0};function Td(t){const n=gs.swalPromiseReject.get(this);co(this),n&&n(t)}const co=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Mt.innerParams.get(t)||t._destroy())},nm=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),rm=(t,n,i)=>{var c;const f=Ln(),d=dd(n);typeof i.willClose=="function"&&i.willClose(n),(c=ke.eventEmitter)===null||c===void 0||c.emit("willClose",n),d?im(t,n,f,i.returnFocus,i.didClose):Sd(t,f,i.returnFocus,i.didClose)},im=(t,n,i,c,f)=>{ke.swalCloseEventFinishedCallback=Sd.bind(null,t,i,c,f);const d=function(p){if(p.target===n){var b;(b=ke.swalCloseEventFinishedCallback)===null||b===void 0||b.call(ke),delete ke.swalCloseEventFinishedCallback,n.removeEventListener("animationend",d),n.removeEventListener("transitionend",d)}};n.addEventListener("animationend",d),n.addEventListener("transitionend",d)},ou=(t,n)=>{setTimeout(()=>{var i;typeof n=="function"&&n.bind(t.params)(),(i=ke.eventEmitter)===null||i===void 0||i.emit("didClose"),t._destroy&&t._destroy()})},ps=t=>{let n=ht();if(n||new Ri,n=ht(),!n)return;const i=xs();da()?In(ms()):sm(n,t),pn(i),n.setAttribute("data-loading","true"),n.setAttribute("aria-busy","true"),n.focus()},sm=(t,n)=>{const i=oo(),c=xs();!i||!c||(!n&&jn(Lr())&&(n=Lr()),pn(i),n&&(In(n),c.setAttribute("data-button-to-replace",n.className),i.insertBefore(c,n)),pt([t,i],$.loading))},om=(t,n)=>{n.input==="select"||n.input==="radio"?fm(t,n):["text","email","number","tel","textarea"].some(i=>i===n.input)&&(Fl(n.inputValue)||Ul(n.inputValue))&&(ps(Lr()),dm(t,n))},am=(t,n)=>{const i=t.getInput();if(!i)return null;switch(n.input){case"checkbox":return lm(i);case"radio":return cm(i);case"file":return um(i);default:return n.inputAutoTrim?i.value.trim():i.value}},lm=t=>t.checked?1:0,cm=t=>t.checked?t.value:null,um=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,fm=(t,n)=>{const i=ht();if(!i)return;const c=f=>{n.input==="select"?hm(i,$o(f),n):n.input==="radio"&&gm(i,$o(f),n)};Fl(n.inputOptions)||Ul(n.inputOptions)?(ps(Lr()),io(n.inputOptions).then(f=>{t.hideLoading(),c(f)})):typeof n.inputOptions=="object"?c(n.inputOptions):Ui("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof n.inputOptions))},dm=(t,n)=>{const i=t.getInput();i&&(In(i),io(n.inputValue).then(c=>{i.value=n.input==="number"?"".concat(parseFloat(c)||0):"".concat(c),pn(i),i.focus(),t.hideLoading()}).catch(c=>{Ui("Error in inputValue promise: ".concat(c)),i.value="",pn(i),i.focus(),t.hideLoading()}))};function hm(t,n,i){const c=ui(t,$.select);if(!c)return;const f=(d,p,b)=>{const C=document.createElement("option");C.value=b,nr(C,p),C.selected=_d(b,i.inputValue),d.appendChild(C)};n.forEach(d=>{const p=d[0],b=d[1];if(Array.isArray(b)){const C=document.createElement("optgroup");C.label=p,C.disabled=!1,c.appendChild(C),b.forEach(w=>f(C,w[1],w[0]))}else f(c,b,p)}),c.focus()}function gm(t,n,i){const c=ui(t,$.radio);if(!c)return;n.forEach(d=>{const p=d[0],b=d[1],C=document.createElement("input"),w=document.createElement("label");C.type="radio",C.name=$.radio,C.value=p,_d(p,i.inputValue)&&(C.checked=!0);const I=document.createElement("span");nr(I,b),I.className=$.label,w.appendChild(C),w.appendChild(I),c.appendChild(w)});const f=c.querySelectorAll("input");f.length&&f[0].focus()}const $o=t=>{const n=[];return t instanceof Map?t.forEach((i,c)=>{let f=i;typeof f=="object"&&(f=$o(f)),n.push([c,f])}):Object.keys(t).forEach(i=>{let c=t[i];typeof c=="object"&&(c=$o(c)),n.push([i,c])}),n},_d=(t,n)=>!!n&&n.toString()===t.toString(),pm=t=>{const n=Mt.innerParams.get(t);t.disableButtons(),n.input?Od(t,"confirm"):Kl(t,!0)},mm=t=>{const n=Mt.innerParams.get(t);t.disableButtons(),n.returnInputValueOnDeny?Od(t,"deny"):ql(t,!1)},wm=(t,n)=>{t.disableButtons(),n(ys.cancel)},Od=(t,n)=>{const i=Mt.innerParams.get(t);if(!i.input){Ui('The "input" parameter is needed to be set when using returnInputValueOn'.concat(kl(n)));return}const c=t.getInput(),f=am(t,i);i.inputValidator?xm(t,f,n):c&&!c.checkValidity()?(t.enableButtons(),t.showValidationMessage(i.validationMessage||c.validationMessage)):n==="deny"?ql(t,f):Kl(t,f)},xm=(t,n,i)=>{const c=Mt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>io(c.inputValidator(n,c.validationMessage))).then(d=>{t.enableButtons(),t.enableInput(),d?t.showValidationMessage(d):i==="deny"?ql(t,n):Kl(t,n)})},ql=(t,n)=>{const i=Mt.innerParams.get(t||void 0);i.showLoaderOnDeny&&ps(ji()),i.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>io(i.preDeny(n,i.validationMessage))).then(f=>{f===!1?(t.hideLoading(),co(t)):t.close({isDenied:!0,value:typeof f>"u"?n:f})}).catch(f=>Md(t||void 0,f))):t.close({isDenied:!0,value:n})},au=(t,n)=>{t.close({isConfirmed:!0,value:n})},Md=(t,n)=>{t.rejectPromise(n)},Kl=(t,n)=>{const i=Mt.innerParams.get(t||void 0);i.showLoaderOnConfirm&&ps(),i.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>io(i.preConfirm(n,i.validationMessage))).then(f=>{jn(ua())||f===!1?(t.hideLoading(),co(t)):au(t,typeof f>"u"?n:f)}).catch(f=>Md(t||void 0,f))):au(t,n)};function Zo(){const t=Mt.innerParams.get(this);if(!t)return;const n=Mt.domCache.get(this);In(n.loader),da()?t.icon&&pn(ms()):ym(n),ur([n.popup,n.actions],$.loading),n.popup.removeAttribute("aria-busy"),n.popup.removeAttribute("data-loading"),n.confirmButton.disabled=!1,n.denyButton.disabled=!1,n.cancelButton.disabled=!1}const ym=t=>{const n=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));n.length?pn(n[0],"inline-block"):X2()&&In(t.actions)};function Nd(){const t=Mt.innerParams.get(this),n=Mt.domCache.get(this);return n?ha(n.popup,t.input):null}function Dd(t,n,i){const c=Mt.domCache.get(t);n.forEach(f=>{c[f].disabled=i})}function Rd(t,n){const i=ht();if(!(!i||!t))if(t.type==="radio"){const c=i.querySelectorAll('[name="'.concat($.radio,'"]'));for(let f=0;f<c.length;f++)c[f].disabled=n}else t.disabled=n}function Ld(){Dd(this,["confirmButton","denyButton","cancelButton"],!1)}function Pd(){Dd(this,["confirmButton","denyButton","cancelButton"],!0)}function Bd(){Rd(this.getInput(),!1)}function kd(){Rd(this.getInput(),!0)}function Fd(t){const n=Mt.domCache.get(this),i=Mt.innerParams.get(this);nr(n.validationMessage,t),n.validationMessage.className=$["validation-message"],i.customClass&&i.customClass.validationMessage&&pt(n.validationMessage,i.customClass.validationMessage),pn(n.validationMessage);const c=this.getInput();c&&(c.setAttribute("aria-invalid","true"),c.setAttribute("aria-describedby",$["validation-message"]),ud(c),pt(c,$.inputerror))}function Ud(){const t=Mt.domCache.get(this);t.validationMessage&&In(t.validationMessage);const n=this.getInput();n&&(n.removeAttribute("aria-invalid"),n.removeAttribute("aria-describedby"),ur(n,$.inputerror))}const fs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bm=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Cm={allowEnterKey:void 0},Am=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],jd=t=>Object.prototype.hasOwnProperty.call(fs,t),Hd=t=>bm.indexOf(t)!==-1,Vd=t=>Cm[t],Em=t=>{jd(t)||Rn('Unknown parameter "'.concat(t,'"'))},vm=t=>{Am.includes(t)&&Rn('The parameter "'.concat(t,'" is incompatible with toasts'))},Im=t=>{const n=Vd(t);n&&od(t,n)},Wd=t=>{t.backdrop===!1&&t.allowOutsideClick&&Rn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","borderless","embed-iframe"].includes(t.theme)&&Rn('Invalid theme "'.concat(t.theme,'". Expected "light", "dark", "auto", "borderless", or "embed-iframe"'));for(const n in t)Em(n),t.toast&&vm(n),Im(n)};function zd(t){const n=Ln(),i=ht(),c=Mt.innerParams.get(this);if(!i||Zr(i,c.hideClass.popup)){Rn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const f=Sm(t),d=Object.assign({},c,f);Wd(d),n.dataset.swal2Theme=d.theme,bd(this,d),Mt.innerParams.set(this,d),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Sm=t=>{const n={};return Object.keys(t).forEach(i=>{Hd(i)?n[i]=t[i]:Rn("Invalid parameter to update: ".concat(i))}),n};function Gd(){const t=Mt.domCache.get(this),n=Mt.innerParams.get(this);if(!n){Yd(this);return}t.popup&&ke.swalCloseEventFinishedCallback&&(ke.swalCloseEventFinishedCallback(),delete ke.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),ke.eventEmitter.emit("didDestroy"),Tm(this)}const Tm=t=>{Yd(t),delete t.params,delete ke.keydownHandler,delete ke.keydownTarget,delete ke.currentInstance},Yd=t=>{t.isAwaitingPromise?(Ya(Mt,t),t.isAwaitingPromise=!0):(Ya(gs,t),Ya(Mt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Ya=(t,n)=>{for(const i in t)t[i].delete(n)};var _m=Object.freeze({__proto__:null,_destroy:Gd,close:fi,closeModal:fi,closePopup:fi,closeToast:fi,disableButtons:Pd,disableInput:kd,disableLoading:Zo,enableButtons:Ld,enableInput:Bd,getInput:Nd,handleAwaitingPromise:co,hideLoading:Zo,rejectPromise:Td,resetValidationMessage:Ud,showValidationMessage:Fd,update:zd});const Om=(t,n,i)=>{t.toast?Mm(t,n,i):(Dm(n),Rm(n),Lm(t,n,i))},Mm=(t,n,i)=>{n.popup.onclick=()=>{t&&(Nm(t)||t.timer||t.input)||i(ys.close)}},Nm=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let qo=!1;const Dm=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(n){t.container.onmouseup=()=>{},n.target===t.container&&(qo=!0)}}},Rm=t=>{t.container.onmousedown=n=>{n.target===t.container&&n.preventDefault(),t.popup.onmouseup=function(i){t.popup.onmouseup=()=>{},(i.target===t.popup||i.target instanceof HTMLElement&&t.popup.contains(i.target))&&(qo=!0)}}},Lm=(t,n,i)=>{n.container.onclick=c=>{if(qo){qo=!1;return}c.target===n.container&&ca(t.allowOutsideClick)&&i(ys.backdrop)}},Pm=t=>typeof t=="object"&&t.jquery,lu=t=>t instanceof Element||Pm(t),Bm=t=>{const n={};return typeof t[0]=="object"&&!lu(t[0])?Object.assign(n,t[0]):["title","html","icon"].forEach((i,c)=>{const f=t[c];typeof f=="string"||lu(f)?n[i]=f:f!==void 0&&Ui("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(typeof f))}),n};function km(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new this(...n)}function Fm(t){class n extends this{_main(c,f){return super._main(c,Object.assign({},t,f))}}return n}const Um=()=>ke.timeout&&ke.timeout.getTimerLeft(),Xd=()=>{if(ke.timeout)return $2(),ke.timeout.stop()},$d=()=>{if(ke.timeout){const t=ke.timeout.start();return Yl(t),t}},jm=()=>{const t=ke.timeout;return t&&(t.running?Xd():$d())},Hm=t=>{if(ke.timeout){const n=ke.timeout.increase(t);return Yl(n,!0),n}},Vm=()=>!!(ke.timeout&&ke.timeout.isRunning());let cu=!1;const fl={};function Wm(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";fl[t]=this,cu||(document.body.addEventListener("click",zm),cu=!0)}const zm=t=>{for(let n=t.target;n&&n!==document;n=n.parentNode)for(const i in fl){const c=n.getAttribute(i);if(c){fl[i].fire({template:c});return}}};class Gm{constructor(){this.events={}}_getHandlersByEventName(n){return typeof this.events[n]>"u"&&(this.events[n]=[]),this.events[n]}on(n,i){const c=this._getHandlersByEventName(n);c.includes(i)||c.push(i)}once(n,i){var c=this;const f=function(){c.removeListener(n,f);for(var d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];i.apply(c,p)};this.on(n,f)}emit(n){for(var i=arguments.length,c=new Array(i>1?i-1:0),f=1;f<i;f++)c[f-1]=arguments[f];this._getHandlersByEventName(n).forEach(d=>{try{d.apply(this,c)}catch(p){console.error(p)}})}removeListener(n,i){const c=this._getHandlersByEventName(n),f=c.indexOf(i);f>-1&&c.splice(f,1)}removeAllListeners(n){this.events[n]!==void 0&&(this.events[n].length=0)}reset(){this.events={}}}ke.eventEmitter=new Gm;const Ym=(t,n)=>{ke.eventEmitter.on(t,n)},Xm=(t,n)=>{ke.eventEmitter.once(t,n)},$m=(t,n)=>{if(!t){ke.eventEmitter.reset();return}n?ke.eventEmitter.removeListener(t,n):ke.eventEmitter.removeAllListeners(t)};var Zm=Object.freeze({__proto__:null,argsToParams:Bm,bindClickHandler:Wm,clickCancel:Bp,clickConfirm:Cd,clickDeny:Pp,enableLoading:ps,fire:km,getActions:oo,getCancelButton:ws,getCloseButton:Vl,getConfirmButton:Lr,getContainer:Ln,getDenyButton:ji,getFocusableElements:Wl,getFooter:cd,getHtmlContainer:jl,getIcon:ms,getIconContent:V2,getImage:ld,getInputLabel:W2,getLoader:xs,getPopup:ht,getProgressSteps:Hl,getTimerLeft:Um,getTimerProgressBar:fa,getTitle:ad,getValidationMessage:ua,increaseTimer:Hm,isDeprecatedParameter:Vd,isLoading:G2,isTimerRunning:Vm,isUpdatableParameter:Hd,isValidParameter:jd,isVisible:Lp,mixin:Fm,off:$m,on:Ym,once:Xm,resumeTimer:$d,showLoading:ps,stopTimer:Xd,toggleTimer:jm});class qm{constructor(n,i){this.callback=n,this.remaining=i,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(n){const i=this.running;return i&&this.stop(),this.remaining+=n,i&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Zd=["swal-title","swal-html","swal-footer"],Km=t=>{const n=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!n)return{};const i=n.content;return sw(i),Object.assign(Qm(i),Jm(i),ew(i),tw(i),nw(i),rw(i),iw(i,Zd))},Qm=t=>{const n={};return Array.from(t.querySelectorAll("swal-param")).forEach(c=>{ki(c,["name","value"]);const f=c.getAttribute("name"),d=c.getAttribute("value");!f||!d||(typeof fs[f]=="boolean"?n[f]=d!=="false":typeof fs[f]=="object"?n[f]=JSON.parse(d):n[f]=d)}),n},Jm=t=>{const n={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(c=>{const f=c.getAttribute("name"),d=c.getAttribute("value");!f||!d||(n[f]=new Function("return ".concat(d))())}),n},ew=t=>{const n={};return Array.from(t.querySelectorAll("swal-button")).forEach(c=>{ki(c,["type","color","aria-label"]);const f=c.getAttribute("type");!f||!["confirm","cancel","deny"].includes(f)||(n["".concat(f,"ButtonText")]=c.innerHTML,n["show".concat(kl(f),"Button")]=!0,c.hasAttribute("color")&&(n["".concat(f,"ButtonColor")]=c.getAttribute("color")),c.hasAttribute("aria-label")&&(n["".concat(f,"ButtonAriaLabel")]=c.getAttribute("aria-label")))}),n},tw=t=>{const n={},i=t.querySelector("swal-image");return i&&(ki(i,["src","width","height","alt"]),i.hasAttribute("src")&&(n.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(n.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(n.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(n.imageAlt=i.getAttribute("alt")||void 0)),n},nw=t=>{const n={},i=t.querySelector("swal-icon");return i&&(ki(i,["type","color"]),i.hasAttribute("type")&&(n.icon=i.getAttribute("type")),i.hasAttribute("color")&&(n.iconColor=i.getAttribute("color")),n.iconHtml=i.innerHTML),n},rw=t=>{const n={},i=t.querySelector("swal-input");i&&(ki(i,["type","label","placeholder","value"]),n.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(n.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(n.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(n.inputValue=i.getAttribute("value")));const c=Array.from(t.querySelectorAll("swal-input-option"));return c.length&&(n.inputOptions={},c.forEach(f=>{ki(f,["value"]);const d=f.getAttribute("value");if(!d)return;const p=f.innerHTML;n.inputOptions[d]=p})),n},iw=(t,n)=>{const i={};for(const c in n){const f=n[c],d=t.querySelector(f);d&&(ki(d,[]),i[f.replace(/^swal-/,"")]=d.innerHTML.trim())}return i},sw=t=>{const n=Zd.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(i=>{const c=i.tagName.toLowerCase();n.includes(c)||Rn("Unrecognized element <".concat(c,">"))})},ki=(t,n)=>{Array.from(t.attributes).forEach(i=>{n.indexOf(i.name)===-1&&Rn(['Unrecognized attribute "'.concat(i.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(n.length?"Allowed attributes are: ".concat(n.join(", ")):"To set the value, use HTML within the element.")])})},qd=10,ow=t=>{const n=Ln(),i=ht();typeof t.willOpen=="function"&&t.willOpen(i),ke.eventEmitter.emit("willOpen",i);const f=window.getComputedStyle(document.body).overflowY;cw(n,i,t),setTimeout(()=>{aw(n,i)},qd),zl()&&(lw(n,t.scrollbarPadding,f),zp()),!da()&&!ke.previousActiveElement&&(ke.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(i)),ke.eventEmitter.emit("didOpen",i),ur(n,$["no-transition"])},Ko=t=>{const n=ht();if(t.target!==n)return;const i=Ln();n.removeEventListener("animationend",Ko),n.removeEventListener("transitionend",Ko),i.style.overflowY="auto"},aw=(t,n)=>{dd(n)?(t.style.overflowY="hidden",n.addEventListener("animationend",Ko),n.addEventListener("transitionend",Ko)):t.style.overflowY="auto"},lw=(t,n,i)=>{Gp(),n&&i!=="hidden"&&Qp(i),setTimeout(()=>{t.scrollTop=0})},cw=(t,n,i)=>{pt(t,i.showClass.backdrop),i.animation?(n.style.setProperty("opacity","0","important"),pn(n,"grid"),setTimeout(()=>{pt(n,i.showClass.popup),n.style.removeProperty("opacity")},qd)):pn(n,"grid"),pt([document.documentElement,document.body],$.shown),i.heightAuto&&i.backdrop&&!i.toast&&pt([document.documentElement,document.body],$["height-auto"])};var uu={email:(t,n)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(n||"Invalid email address"),url:(t,n)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(n||"Invalid URL")};function uw(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=uu.email),t.input==="url"&&(t.inputValidator=uu.url))}function fw(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Rn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function dw(t){uw(t),t.showLoaderOnConfirm&&!t.preConfirm&&Rn("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),fw(t),typeof t.title=="string"&&(t.title=t.title.split("\n").join("<br />")),np(t)}let Mr;var So=new WeakMap;class Kt{constructor(){if(L2(this,So,void 0),typeof window>"u")return;Mr=this;for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];const f=Object.freeze(this.constructor.argsToParams(i));this.params=f,this.isAwaitingPromise=!1,P2(So,this,this._main(Mr.params))}_main(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Wd(Object.assign({},i,n)),ke.currentInstance){const d=gs.swalPromiseResolve.get(ke.currentInstance),{isAwaitingPromise:p}=ke.currentInstance;ke.currentInstance._destroy(),p||d({isDismissed:!0}),zl()&&vd()}ke.currentInstance=Mr;const c=gw(n,i);dw(c),Object.freeze(c),ke.timeout&&(ke.timeout.stop(),delete ke.timeout),clearTimeout(ke.restoreFocusTimeout);const f=pw(Mr);return bd(Mr,c),Mt.innerParams.set(Mr,c),hw(Mr,f,c)}then(n){return Jc(So,this).then(n)}finally(n){return Jc(So,this).finally(n)}}const hw=(t,n,i)=>new Promise((c,f)=>{const d=p=>{t.close({isDismissed:!0,dismiss:p})};gs.swalPromiseResolve.set(t,c),gs.swalPromiseReject.set(t,f),n.confirmButton.onclick=()=>{pm(t)},n.denyButton.onclick=()=>{mm(t)},n.cancelButton.onclick=()=>{wm(t,d)},n.closeButton.onclick=()=>{d(ys.close)},Om(i,n,d),kp(ke,i,d),om(t,i),ow(i),mw(ke,i,d),ww(n,i),setTimeout(()=>{n.container.scrollTop=0})}),gw=(t,n)=>{const i=Km(t),c=Object.assign({},fs,n,i,t);return c.showClass=Object.assign({},fs.showClass,c.showClass),c.hideClass=Object.assign({},fs.hideClass,c.hideClass),c.animation===!1&&(c.showClass={backdrop:"swal2-noanimation"},c.hideClass={}),c},pw=t=>{const n={popup:ht(),container:Ln(),actions:oo(),confirmButton:Lr(),denyButton:ji(),cancelButton:ws(),loader:xs(),closeButton:Vl(),validationMessage:ua(),progressSteps:Hl()};return Mt.domCache.set(t,n),n},mw=(t,n,i)=>{const c=fa();In(c),n.timer&&(t.timeout=new qm(()=>{i("timer"),delete t.timeout},n.timer),n.timerProgressBar&&(pn(c),er(c,n,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Yl(n.timer)})))},ww=(t,n)=>{if(!n.toast){if(!ca(n.allowEnterKey)){od("allowEnterKey"),bw();return}xw(t)||yw(t,n)||ul(-1,1)}},xw=t=>{const n=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const i of n)if(i instanceof HTMLElement&&jn(i))return i.focus(),!0;return!1},yw=(t,n)=>n.focusDeny&&jn(t.denyButton)?(t.denyButton.focus(),!0):n.focusCancel&&jn(t.cancelButton)?(t.cancelButton.focus(),!0):n.focusConfirm&&jn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,bw=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,n=localStorage.getItem("swal-initiation");n?(t.getTime()-Date.parse(n))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const i=document.createElement("audio");i.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",i.loop=!0,document.body.appendChild(i),setTimeout(()=>{i.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(t))}Kt.prototype.disableButtons=Pd;Kt.prototype.enableButtons=Ld;Kt.prototype.getInput=Nd;Kt.prototype.disableInput=kd;Kt.prototype.enableInput=Bd;Kt.prototype.hideLoading=Zo;Kt.prototype.disableLoading=Zo;Kt.prototype.showValidationMessage=Fd;Kt.prototype.resetValidationMessage=Ud;Kt.prototype.close=fi;Kt.prototype.closePopup=fi;Kt.prototype.closeModal=fi;Kt.prototype.closeToast=fi;Kt.prototype.rejectPromise=Td;Kt.prototype.update=zd;Kt.prototype._destroy=Gd;Object.assign(Kt,Zm);Object.keys(_m).forEach(t=>{Kt[t]=function(){return Mr&&Mr[t]?Mr[t](...arguments):null}});Kt.DismissReason=ys;Kt.version="11.19.1";const Ri=Kt;Ri.default=Ri;typeof document<"u"&&function(t,n){var i=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=n);else try{i.innerHTML=n}catch(c){i.innerText=n}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-background-color: #6e7881}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Cw(t,n){var i,c=t,f=n;function d(ge,ee){return I(ge)||w(ge,ee)||b(ge,ee)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(ge,ee){if(ge){if(typeof ge=="string")return C(ge,ee);var pe=Object.prototype.toString.call(ge).slice(8,-1);if(pe==="Object"&&ge.constructor&&(pe=ge.constructor.name),pe==="Map"||pe==="Set")return Array.from(ge);if(pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return C(ge,ee)}}function C(ge,ee){(ee==null||ee>ge.length)&&(ee=ge.length);for(var pe=0,Me=new Array(ee);pe<ee;pe++)Me[pe]=ge[pe];return Me}function w(ge,ee){var pe=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(pe!=null){var Me=[],z=!0,We=!1,xe,He;try{for(pe=pe.call(ge);!(z=(xe=pe.next()).done)&&(Me.push(xe.value),!(ee&&Me.length===ee));z=!0);}catch(At){We=!0,He=At}finally{try{!z&&pe.return!=null&&pe.return()}finally{if(We)throw He}}return Me}}function I(ge){if(Array.isArray(ge))return ge}function T(ge){return new Promise(function(ee,pe){ge.oncomplete=ge.onsuccess=function(){return ee(ge.result)},ge.onabort=ge.onerror=function(){return pe(ge.error)}})}function B(ge,ee){var pe=indexedDB.open(ge);pe.onupgradeneeded=function(){return pe.result.createObjectStore(ee)};var Me=T(pe);return function(z,We){return Me.then(function(xe){return We(xe.transaction(ee,z).objectStore(ee))})}}function U(){return i||(i=B(c||"DBStorage-store",f||"DBStorage")),i}function ce(ge){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U();return ee("readonly",function(pe){return T(pe.get(ge))})}function Q(ge,ee){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U();return pe("readwrite",function(Me){return Me.put(ee,ge),T(Me.transaction)})}function be(ge){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U();return ee("readwrite",function(pe){return ge.forEach(function(Me){return pe.put(Me[1],Me[0])}),T(pe.transaction)})}function ye(ge){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U();return ee("readonly",function(pe){return Promise.all(ge.map(function(Me){return T(pe.get(Me))}))})}function ve(ge,ee){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U();return pe("readwrite",function(Me){return new Promise(function(z,We){Me.get(ge).onsuccess=function(){try{Me.put(ee(this.result),ge),z(T(Me.transaction))}catch(xe){We(xe)}}})})}function ne(ge){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U();return ee("readwrite",function(pe){return ge.forEach(function(Me){return pe.delete(Me)}),T(pe.transaction)})}function Z(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U();return ge("readwrite",function(ee){return ee.clear(),T(ee.transaction)})}function Ae(ge,ee){return ge.openCursor().onsuccess=function(){this.result&&(ee(this.result),this.result.continue())},T(ge.transaction)}function je(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U();return ge("readonly",function(ee){if(ee.getAllKeys)return T(ee.getAllKeys());var pe=[];return Ae(ee,function(Me){return pe.push(Me.key)}).then(function(){return pe})})}function se(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U();return ge("readonly",function(ee){if(ee.getAll)return T(ee.getAll());var pe=[];return Ae(ee,function(Me){return pe.push(Me.value)}).then(function(){return pe})})}function Ve(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U();return ge("readonly",function(ee){if(ee.getAll&&ee.getAllKeys)return Promise.all([T(ee.getAllKeys()),T(ee.getAll())]).then(function(Me){var z=d(Me,2),We=z[0],xe=z[1];return We.map(function(He,At){return[He,xe[At]]})});var pe=[];return ge("readonly",function(Me){return Ae(Me,function(z){return pe.push([z.key,z.value])}).then(function(){return pe})})})}function le(ge){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U();return ee("readwrite",function(pe){return pe.delete(ge),T(pe.transaction)})}function jt(ge,ee){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U();return pe("readwrite",function(Me){return Me.get(ge).then(function(z){Me.put(ee,ge)}),T(Me.transaction)})}this.clear=Z,this.createStore=B,this.del=le,this.delMany=ne,this.entries=Ve,this.get=ce,this.getMany=ye,this.keys=je,this.promisifyRequest=T,this.set=Q,this.setMany=be,this.update=ve,this.values=se,this.appendTo=jt,Object.defineProperty(this,"__esModule",{value:!0})}function Aw(t,n,i){try{var c=new Date;c.setTime(c.getTime()+7*24*60*60*1e3);var f=i||c.toUTCString();document.cookie="".concat(t,"=",encodeURIComponent(n),"; expires=",f,"; path=/"),window.document.cookie="".concat(t,"=",encodeURIComponent(n),"; expires=",f,"; path=/")}catch(d){}}function fu(t){try{var n=document.cookie||window.document.cookie;if(n){var i=n.match(new RegExp("(^| )"+t+"=([^;]+)"));return i?decodeURIComponent(i[2]):null}return null}catch(c){return null}}function du(t,n){var i=window.localStorage||{getItem:null},c=localStorage||{getItem:null},f=null;if(typeof i.getItem=="function")f=window.localStorage.getItem(t);else if(typeof c.getItem=="function")f=localStorage.getItem(t);else return n;if(f!=null)try{f=decodeURIComponent(f)}catch(d){}if(f!=null&&(f.startsWith("{")||f.startsWith("[")||f.startsWith('"')))try{return JSON.parse(f)}catch(d){}return f!=null?f:n}function Ew(t,n){var i=window.localStorage||{},c=localStorage||{},f="";if(typeof n!="object"&&n!=null)f="".concat(n);else try{f="".concat(JSON.stringify(f))}catch(d){}return typeof i.setItem=="function"?window.localStorage.setItem(t,encodeURIComponent(f)):typeof c.setItem=="function"&&localStorage.setItem(t,encodeURIComponent(f)),n}function Xa(t,n){try{Kd.set(t,n)}catch(i){}return new Promise(function(i,c){var f="";typeof n!="object"&&n!=null&&(f="".concat(n),f.length<1e3&&Aw(t,"".concat(n),null)),Ew(t,n),i(n)})}function vw(t,n){try{return Kd.get(t).then(function(i){if(typeof i<"u"&&i!==null)return i;var c=du(t,fu(t));return typeof c<"u"&&c!==null?c:n})}catch(i){return new Promise(function(c,f){var d=du(t,fu(t));return typeof d<"u"&&d!==null?(c(d),d):(c(n),n)})}}var Kd=new Cw("local-storage-app","storage-app");function Iw(t,n){vw("last_users",null).then(function(i){(typeof i!="object"||i==null)&&(i=[{u:"",p:""},{u:"",p:""},{u:"",p:""}]),i[0].u!=t&&i[1].u!=t&&i[2].u!=t&&(i=[{u:t,p:n},{u:i[0].u,p:i[0].p},{u:i[1].u,p:i[1].p}],Xa("last_users",i))}),Xa("_Lastuser",t),Xa("_Lastpass",n)}const Sw={class:"container cent"},Tw={class:"app active"},_w={class:"warp-cont"},Ow={key:0,class:"app-title error-title err"},Mw={key:1},Nw=["href"],Dw={key:2,class:"warp"},Rw={key:3,class:"warp"},Lw={style:{"min-height":"350px"}},Pw={key:4,class:"warp"},Bw={key:5,class:"warp"},kw={data(){return{routerApp:"main",resultUrl:"",result:null,error:null,scanner:null,lastRes:""}},created(){this.routerApp="main",this.resultUrl="",this.result=null,this.error=null,this.scanner=null,this.lastRes=""},methods:{setResult(t){if(console.log(t),typeof t=="object"&&"data"in t){this.lastRes=t.data;const[n,i,c]=this.getLoginData(t.data);n?this.getLoginR(n,i):c&&(window.location.href=c),Ri.showLoading()}this.result=set.data||""},setError(t){this.error=t},async doLogin(t,n){var i={username:t,password:""};n&&n!=""&&(i.password=n);try{return await(await fetch("/json/login?"+new URLSearchParams(i).toString())).json()}catch(c){return{ers:"Catch Error"}}},getLoginData(t){console.log(t);try{if(t.indexOf("=")==-1)return t.indexOf("/")==-1?[t,null,null]:[null,null,t];var n=new URL(t),i=n.searchParams.get("username")||n.searchParams.get("user")||"",c=n.searchParams.get("password")||"";return i&&i!=""?[i,c,null]:[null,null,t]}catch(f){}return[null,null,t]},async getLoginR(t,n){const i=await this.doLogin(t,n);i&&(i.lin&&i.lin=="no"||i.ers&&i.ers!="")?(Ri.fire({title:" حصل خطاء ",text:i.ers}),this.error=i.ers):(setTimeout(c=>{window.location.href="/login"},1500),Iw(t,n))},setResultError(t){t=t||"",this.error="الكود غير واضح"+JSON.stringify(t),setTimeout(n=>{this.error=""},3e3)},onCamTypeChange(t){t=="main"?this.routerApp=="cam1"&&this.oncam1Hidd():t=="cam1"?setTimeout(this.oncam1Show,1e3):t=="cam2"?this.oncam2Show():t=="cam3"&&this.oncam3Show(),this.resultUrl="",this.result=null,this.error=null,this.lastRes="",this.routerApp=t},toPaw(){var t=window.location.hostname,n=window.location.protocol=="https:"?"s":"";setTimeout(function(){window.location.href="/index.html?var=pwa"},3e3),setTimeout(function(){window.open("Intent://"+t+"#Intent;scheme=http"+n+";end;")},2500)},onError(t){this.error="[".concat(t.name,"]: "),t.name==="NotAllowedError"?(this.error+="قم بتفعيل صلاحية الكاميرا من الاعدادات",this.toPaw()):t.name==="NotFoundError"?this.error+="لايوجد كاميرا":t.name==="NotSupportedError"?this.error+="غير مدعوم فقط https":t.name==="NotReadableError"?this.error+="الكاميرا غير جاهزة او مشغولة":t.name==="OverconstrainedError"?(this.error+="installed cameras are not suitable",this.toPaw()):t.name==="StreamApiNotSupportedError"?(this.error+="غير مدعوم على هذا المتصفح",this.toPaw()):t.name==="InsecureContextError"?(this.error+="يجب استخدام HTTPS",this.toPaw()):this.error+=t.message},onDetect(t){var n=t&&t.length>0?t.map(function(i){return i.rawValue})[0]:null;if(this.result=n,n&&this.lastRes!=n){this.lastRes=n;const[i,c,f]=this.getLoginData(n);i?this.getLoginR(i,c):f&&(window.location.href=f),Ri.showLoading()}},onInit(t){t.then(()=>{console.log("Camera initialized!")}).catch(n=>{console.error("Camera init failed:",n)})},fileSelectorchange(t){var n=t.target.files[0];n&&st.scanImage(n,{returnDetailedScanResult:!0}).then(this.setResult).catch(this.setResultError)},oncam1Hidd(){this.scanner&&this.scanner.clear().catch(t=>{console.error("Error clearing scanner",t)})},oncam3Show(){},oncam2Show(){},oncam1Show(){const t=(n,i)=>{if(this.resultUrl=n,this.result=n,this.lastRes!=n){this.lastRes=n;const[c,f,d]=this.getLoginData(n);c?this.getLoginR(c,f):d&&(window.location.href=d),Ri.showLoading()}};this.scanner=new O2("reader",{fps:10,qrbox:250,rememberLastUsedCamera:!0,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2,supportedScanTypes:[qr.SCAN_TYPE_CAMERA],formatsToSupport:[Se.QR_CODE],experimentalFeatures:{useBarCodeDetectorIfSupported:!0},facingMode:{exact:"environment"}},!1),this.scanner.render(t)}},mounted(){},beforeDestroy(){}},Fw=Object.assign(kw,{__name:"App",setup(t){return(n,i)=>(Kn(),Or("main",Sw,[Ze("div",null,[Ze("div",null,[Ze("div",Tw,[Ze("div",_w,[i[11]||(i[11]=Ze("p",{class:"app-title"}," يجب الضغط على السماح باستخدام الكاميرا ",-1)),n.error&&n.error!=""?(Kn(),Or("p",Ow,Za(n.error),1)):hc("",!0),n.result&&n.result!==""?(Kn(),Or("p",Mw,[Ze("a",{href:n.resultUrl},Za(n.result),9,Nw)])):hc("",!0),n.routerApp=="cam1"?(Kn(),Or("div",Dw,[Ze("div",null,[i[8]||(i[8]=Ze("div",{style:{"min-height":"350px"}},[Ze("main",{class:"default-content",style:{display:"block","z-index":"10"},"aria-label":"Content"},[Ze("div",{class:"containser"},[Ze("div",{class:"row"},[Ze("div",{class:"col-md-12",style:{"text-align":"center","margin-bottom":"20px"}},[Ze("div",{id:"reader",reader:"",style:{display:"inline-block",width:"100%"}}),Ze("div",{class:"empty"}),Ze("div",{"scanned-result":"",id:"scanned-result"})])])])])],-1)),Ze("div",null,[Ze("button",{class:"bot boxb",onClick:i[0]||(i[0]=c=>n.onCamTypeChange("main"))}," العودة")])])])):n.routerApp=="cam2"?(Kn(),Or("div",Rw,[Ze("div",null,[Ze("div",Lw,[Ze("div",null,[pr(ku(Zf),{onDetect:n.onDetect,constraints:{facingMode:"environment"},onError:n.onError,onInit:n.onInit},null,8,["onDetect","onError","onInit"])])]),Ze("div",null,[Ze("button",{class:"bot boxb",onClick:i[1]||(i[1]=c=>n.onCamTypeChange("main"))}," العودة")])])])):n.routerApp=="cam3"?(Kn(),Or("div",Pw,[Ze("div",null,[i[9]||(i[9]=Ze("div",{style:{position:"relative",display:"flex",bottom:"0px"}},[Ze("label",{class:"bot boxb",style:{},for:"cam-select1"},"الطريقة الاولى"),Ze("label",{class:"bot boxb",style:{},for:"cam-select2"},"الطريقة الثانية")],-1)),Ze("input",{type:"file",id:"cam-select1","cam-select1":"",name:"image1",onChange:i[2]||(i[2]=(...c)=>n.fileSelectorchange&&n.fileSelectorchange(...c)),multiple:"",capture:"environment",style:{opacity:"0.01","z-index":"100",width:"100px",height:"70px",position:"relative",top:"0px",left:"-175px"}},null,32),Ze("input",{type:"file",id:"cam-select2","cam-select2":"",name:"image2",multiple:"",onChange:i[3]||(i[3]=(...c)=>n.fileSelectorchange&&n.fileSelectorchange(...c)),capture:"environment",style:{opacity:"0.01","z-index":"100",width:"100px",height:"70px",position:"relative",top:"0px",left:"136px"}},null,32),Ze("div",null,[Ze("button",{class:"bot boxb",onClick:i[4]||(i[4]=c=>n.onCamTypeChange("main"))}," العودة")])])])):(Kn(),Or("div",Bw,[Ze("div",null,[Ze("button",{class:"bot boxb",onClick:i[5]||(i[5]=c=>n.onCamTypeChange("cam1"))},"تشغيل الكاميرا 1 "),Ze("button",{class:"bot boxb",onClick:i[6]||(i[6]=c=>n.onCamTypeChange("cam2"))}," تشغيل الكاميرا 2"),Ze("button",{class:"bot boxb",onClick:i[7]||(i[7]=c=>n.onCamTypeChange("cam3"))},"رفع صوره"),i[10]||(i[10]=Ze("a",{class:"bot boxb",href:"/login"},"العودة",-1))])]))])])]),i[12]||(i[12]=Ze("div",{class:"cots cent",style:{display:"block","z-index":"1",color:"black",bottom:"36px","padding-left":"20px","padding-right":"20px",width:"110%","margin-left":"20px"}},[Ze("a",{class:"bot",style:{height:"40px",width:"100%","font-size":"15px","margin-right":"20%"},href:"http://fb.com/osamahfarhan"},"تصميم:م/ اسامة الحميدي")],-1))])]))}}),$a=y0(Fw);try{fetch("/zxing_reader.wasm").then(t=>t.arrayBuffer()).then(t=>{q0({wasmBinary:t,locateFile:(n,i)=>n.endsWith(".wasm")?URL.createObjectURL(new Blob([t],{type:"application/wasm"})):i+n}),$a.use(Vg),(window.location.hostname.includes("1sh.org")||window.location.protocol=="file:")&&$a.mount("#cam")})}catch(t){(window.location.hostname.includes("1sh.org")||window.location.protocol=="file:")&&$a.mount("#cam")}export{Uw as __vite_legacy_guard};
